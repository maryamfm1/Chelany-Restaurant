"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8580],{11202:(j,A,r)=>{r.d(A,{m:()=>U});var d=r(44489),I=r(19577),E=r(9517),h=r(75033),p=r(75326),C=r(44349);const v=n=>n.hasOwnProperty("groupLabel"),O=()=>n=>{let{$stretch:e}=n;return e?"block":"inline-block"},S=(0,p.I)("label")({name:"Root",class:"r1mom9r6",propsAsIs:!1,vars:{"r1mom9r6-0":[O()]}}),W=(0,p.I)("label")({name:"Label",class:"l187hxp3",propsAsIs:!1}),F="cyousqa",L=(0,p.I)("select")({name:"Select",class:"szqyzlu",propsAsIs:!1}),z=n=>{const e=(0,I.c)(38),{id:m,autoComplete:y,className:M,disabled:B,formId:P,invalid:t,label:s,name:o,onBlur:i,onChange:f,options:u,placeholder:g,required:c,selectDataTestId:l,selectRef:_,stretch:R,style:T,value:D,defaultValue:b}=n,Y=t===void 0?!1:t,G=R===void 0?!1:R,[q,ne]=(0,C.useState)(!1);let J;e[0]!==f?(J=re=>{re.target.value!==void 0&&ne(!0),f?.(re)},e[0]=f,e[1]=J):J=e[1];const ee=J;let se,X;e[2]!==u?(X=u?.some(w),e[2]=u,e[3]=X):X=e[3],se=X;const te=se;let k;e[4]!==q||e[5]!==te||e[6]!==g||e[7]!==D?(k=!te&&D===void 0&&!q&&(0,d.jsx)("option",{disabled:!0,value:"",children:g}),e[4]=q,e[5]=te,e[6]=g,e[7]=D,e[8]=k):k=e[8];let N;e[9]!==u?(N=u?.map(H),e[9]=u,e[10]=N):N=e[10];let K;e[11]!==y||e[12]!==b||e[13]!==B||e[14]!==P||e[15]!==ee||e[16]!==m||e[17]!==Y||e[18]!==o||e[19]!==i||e[20]!==c||e[21]!==l||e[22]!==_||e[23]!==k||e[24]!==N||e[25]!==D?(K=(0,d.jsxs)(L,{id:m,autoComplete:y,disabled:B,form:P,name:o,onBlur:i,onChange:ee,ref:_,required:c,value:D,defaultValue:b,"data-test-id":l,"aria-invalid":Y,children:[k,N]}),e[11]=y,e[12]=b,e[13]=B,e[14]=P,e[15]=ee,e[16]=m,e[17]=Y,e[18]=o,e[19]=i,e[20]=c,e[21]=l,e[22]=_,e[23]=k,e[24]=N,e[25]=D,e[26]=K):K=e[26];let $;e[27]!==m||e[28]!==s?($=(0,d.jsx)(W,{htmlFor:m,children:s}),e[27]=m,e[28]=s,e[29]=$):$=e[29];let Z;e[30]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,d.jsx)(E.I,{source:h.medium,className:F,opticalCorrection:"upscale","aria-hidden":!0,width:20,height:20}),e[30]=Z):Z=e[30];let Q;return e[31]!==M||e[32]!==s||e[33]!==G||e[34]!==T||e[35]!==K||e[36]!==$?(Q=(0,d.jsxs)(S,{className:M,style:T,title:s,$stretch:G,children:[K,$,Z]}),e[31]=M,e[32]=s,e[33]=G,e[34]=T,e[35]=K,e[36]=$,e[37]=Q):Q=e[37],Q},V=(n,e)=>{const m=(0,I.c)(3);let y;return m[0]!==n||m[1]!==e?(y=(0,d.jsx)(z,{...n,selectRef:e}),m[0]=n,m[1]=e,m[2]=y):y=m[2],y},U=C.forwardRef(V);r(43562);function a(n){return n.value===void 0}function w(n){return v(n)?n.options.some(a):n.value===void 0}function x(n){return(0,d.jsx)("option",{value:n.value,disabled:n.disabled,children:n.label},`${n.label}-${n.value}`)}function H(n){return v(n)?(0,d.jsx)("optgroup",{label:n.groupLabel,children:n.options.map(x)},n.groupLabel):(0,d.jsx)("option",{value:n.value,disabled:n.disabled,children:n.label},`${n.label}-${n.value}`)}},16377:(j,A,r)=>{r.d(A,{V:()=>E});var d=r(19577),I=r(99660);const E=()=>{const h=(0,d.c)(2),p=(0,I.k$)();let C;return h[0]!==p?(C=O=>{p(S=>S.filter(W=>W.id!==O))},h[0]=p,h[1]=C):C=h[1],C}},27216:(j,A,r)=>{r.d(A,{p:()=>U});var d=r(44489),I=r(19577),E=r(19923),h=r(31792),p=r(75326),C=r(78217),v=r(44349),O=r(87925);const S=5e3,W=(0,p.I)("div")({name:"Root",class:"r1morpqf",propsAsIs:!1}),F=(0,p.I)("div")({name:"SpinnerWrapper",class:"s1e1pnjd",propsAsIs:!1}),L=(0,p.I)("div")({name:"Message",class:"md276xf",propsAsIs:!1}),z=(0,C.P)((0,p.I)("div")({name:"MessageWrapper",class:"my945k0",propsAsIs:!1})),V={animate:{opacity:1,top:"50%",transition:{duration:.15,type:"spring"}},initial:{opacity:0,top:"100%"}},U=()=>{const a=(0,I.c)(12),{formatMessage:w}=(0,O.tz)(),[x,H]=(0,v.useState)(!1);let n,e;a[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{const t=setTimeout(()=>H(!0),S);return()=>clearTimeout(t)},e=[],a[0]=n,a[1]=e):(n=a[0],e=a[1]),(0,v.useEffect)(n,e);let m;a[2]!==w?(m=w({id:"common.loading"}),a[2]=w,a[3]=m):m=a[3];let y;a[4]===Symbol.for("react.memo_cache_sentinel")?(y=(0,d.jsx)(h.y,{size:"large"}),a[4]=y):y=a[4];let M;a[5]!==x?(M=x&&(0,d.jsx)(z,{variants:V,initial:"initial",animate:"animate",children:(0,d.jsx)(L,{className:E.hf.large,children:(0,d.jsx)(O.sA,{id:"state.loading-long"})})}),a[5]=x,a[6]=M):M=a[6];let B;a[7]!==M?(B=(0,d.jsxs)(F,{"aria-busy":"true",className:E.hf.large,children:[y,M]}),a[7]=M,a[8]=B):B=a[8];let P;return a[9]!==m||a[10]!==B?(P=(0,d.jsx)(W,{"data-test-id":"LoadingOverlay","aria-live":"polite","aria-label":m,children:B}),a[9]=m,a[10]=B,a[11]=P):P=a[11],P};r(42360)},36116:(j,A,r)=>{r.d(A,{g:()=>I});var d=r(4842);const I=function(){"use no memo";const h={criteriaMode:"firstError",mode:"onTouched",shouldFocusError:!0,...arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}};return(0,d.mN)(h)}},42360:(j,A,r)=>{r.r(A)},43562:(j,A,r)=>{r.r(A)},73422:(j,A,r)=>{r.d(A,{L:()=>C});var d=r(11082),I=r(34819);const E=v=>{switch(v){case"wide":return"_3-2.json";default:return"_1-1.json"}},h=(v,O)=>`${I._K.CDN_URL}/lottie/assets/${v}${E(O)}`,p={bagEmpty:"bag_empty",bagNameChange:"bag_name_change",bigJumpWithHearts:"big_jump_with_hearts",blowingKisses:"blowing_kisses",burgerFries:"burger_fries",calendar:"calendar",cityBubbles:"city",courierGasp:"courier_gasp",courierMap:"courier_map",courierNotFound:"courier_not_found",courierWaving:"courier_waving",existingAccount:"existing_account",girlGasp:"girl_gasp",girlInvitePlanes:"girl_invite_planes",girlShoppingTokensAnimation:"girl_shopping_tokens",girlShrugging:"girl_shrugging",girlSofaCode:"girl_sofa_code",girlVerifyEmail:"girl_verify_email",girlWires:"girl_wires",groupReady:"group_ready",guyDrink:"guy_drink",guyMap:"guy_map",guyWithClocks:"guy_with_clocks",guyWithLoyaltyCards:"guy-with-loyalty-cards",highFiveHands:"high_five_hands",howToUseVoucher:"how_to_use_voucher",mail:"mail",noInternet:"no_internet",phoneButtons:"phone_buttons",postboxAllScenes:"postbox_all_scenes_web",scientistError:"scientist_error",smallJumpWithHearts:"small_jump_with_hearts",suitcase:"suitcase",token:"token",verifyEmail:"verify_email",waiterOrder:"waiter_order",womanShopping:"woman_shopping",yuhoSwaying:"yuho_swaying"},C={square:(0,d.Tj)(v=>h(v,"square"))(p),wide:(0,d.Tj)(v=>h(v,"wide"))(p)}},87762:(j,A,r)=>{r.d(A,{x:()=>P});var d=r(6533),I=r(19577),E=r(44349),h=r(2294),p=r(87925),C=r(48320);const v=3,O=4,S=(t,s,o)=>Math.max(Math.min(o,s),t);class W{errorCount=0;timeoutState=0;lastUpdateTime=0;jitterRandomNumber=0;randomizeJitterDuration(){this.jitterRandomNumber=Math.random()-.5}getCircuitBreakerDuration(){switch(this.timeoutState){case 1:return 5e3+this.jitterRandomNumber*1e3;case 2:return 1e4+this.jitterRandomNumber*2e3;case 3:return 3e4+this.jitterRandomNumber*6e3;case 4:return 6e4+this.jitterRandomNumber*12e3;default:return 0}}isActive(s){const o=this.lastUpdateTime+this.getCircuitBreakerDuration();return this.errorCount===v&&s<o}handleResponse(s,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.isActive(s))return!1;const f=o?1:-1;return this.errorCount=S(0,v,this.errorCount+f),this.errorCount===v?(this.timeoutState=Math.min(this.timeoutState+1,O),i&&this.randomizeJitterDuration()):this.errorCount===0&&(this.timeoutState=0),this.lastUpdateTime=s,!0}}const F=(t,s)=>{const o=new W;let i=null;const f=t.interceptors.request.use(c=>{if(o.isActive(Date.now()))throw new C.A.Cancel(i?.message);return c},c=>Promise.reject(c)),u=t.interceptors.response.use(c=>(o.handleResponse(Date.now(),!1),c),c=>{const l=c.response?.status,_=l===408||c.code==="ECONNABORTED",R=l>=500&&l<600,T=_||R,D=Date.now();o.handleResponse(D,T,!0),T&&(i=c);const b=o.isActive(D);return s(b),Promise.reject(c)});return{getIsBlocked:()=>o.isActive(Date.now()),removeInterceptors:()=>{t.interceptors.request.eject(f),t.interceptors.response.eject(u)}}},L=t=>{const s=(0,I.c)(9),o=(0,E.useRef)(void 0),[i,f]=(0,E.useState)(!1);let u;s[0]===Symbol.for("react.memo_cache_sentinel")?(u=D=>{f(D)},s[0]=u):u=s[0];const g=u;let c,l;s[1]!==i?(c=()=>{if(!i)return;const D=setInterval(()=>{(o.current?.()??!1)||f(!1)},1e3);return()=>clearInterval(D)},l=[i],s[1]=i,s[2]=c,s[3]=l):(c=s[2],l=s[3]),(0,E.useEffect)(c,l);let _,R;s[4]!==t?(_=()=>{const{getIsBlocked:D,removeInterceptors:b}=F(t,g);return o.current=D,b},R=[t],s[4]=t,s[5]=_,s[6]=R):(_=s[5],R=s[6]),(0,E.useEffect)(_,R);let T;return s[7]!==i?(T={lastRequestBlocked:i},s[7]=i,s[8]=T):T=s[8],T};var z=r(38250),V=r(16377);const U="circuit-breaker-notification",a=()=>{const t=(0,I.c)(6),s=(0,z.E)(),o=(0,V.V)(),{formatMessage:i}=(0,p.tz)(),{lastRequestBlocked:f}=L(h.Zr),{lastRequestBlocked:u}=L(h.js),{lastRequestBlocked:g}=L(h.ut),{lastRequestBlocked:c}=L(h.f8),l=f||u||g||c;let _,R;t[0]!==s||t[1]!==i||t[2]!==l||t[3]!==o?(_=()=>l?(s({id:U,icon:{type:"variant",variant:"error"},title:i({id:"circuit-breaker-notification.title"}),content:i({id:"circuit-breaker-notification.text"}),actions:{},timeout:!1}),()=>o(U)):w,R=[s,o,i,l],t[0]=s,t[1]=i,t[2]=l,t[3]=o,t[4]=_,t[5]=R):(_=t[4],R=t[5]),(0,E.useEffect)(_,R)};function w(){}var x=r(67252),H=r(76454),n=r(96318);const e=(t,s)=>{const o=(0,E.useRef)({});o.current=t,(0,E.useEffect)(()=>{const i=new Map;return s.forEach(f=>{const u=f.interceptors.request.use(async g=>{for await(const[c,l]of Object.entries(o.current)){if(g.headers[c]!==f.defaults.headers.common[c]||l===void 0)continue;const _=typeof l=="string"?l:await l();g.headers[c]=_}return g});i.set(f,u)}),()=>{i.forEach((f,u)=>{u.interceptors.request.eject(f)})}},[s])},m=async()=>{if(!(typeof window>"u"))return window.AwsWafIntegration.getToken()},y=[h.js],M=()=>{const t=(0,I.c)(2),s=(0,x.a)();let o;if(t[0]!==s){const f=s(123456,void 0,"EUR",{currencyDisplay:"symbol"}).replace("\u20AC","\xA4").replace("EUR","\xA4"),u=new TextEncoder;o=btoa(String.fromCharCode(...u.encode(f))),t[0]=s,t[1]=o}else o=t[1];return o},B=()=>{const t=(0,I.c)(8),{locale:s}=(0,p.tz)(),{sessionId:o,visitorId:i,visitorIdProspect:f}=(0,H.UM)(),u=M();let g;t[0]!==s?(g=(0,n.L)(s),t[0]=s,t[1]=g):g=t[1];const c=i??f;let l;t[2]!==u||t[3]!==o||t[4]!==g||t[5]!==c?(l={"App-Language":g,"App-Currency-Format":u,"x-wolt-web-clientid":c,"w-wolt-session-id":o},t[2]=u,t[3]=o,t[4]=g,t[5]=c,t[6]=l):l=t[6],e(l,h.i5);let _;t[7]===Symbol.for("react.memo_cache_sentinel")?(_={"x-aws-waf-token":m},t[7]=_):_=t[7],e(_,y)},P=()=>(a(),B(),null)}}]);

//# sourceMappingURL=https://sourcemaps.internal.wolt.com/wolt-com/8580-619c33d522428d957d25.js.map