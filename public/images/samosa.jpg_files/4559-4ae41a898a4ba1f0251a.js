(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4559],{508:(ve,ne,x)=>{"use strict";x.d(ne,{$n:()=>I,Ev:()=>i,Ly:()=>E,vC:()=>u});var Z=x(44349),e=x(72809),_=x(70851),A=x(44489);const n="al-Button-fdtrnstn-rt-f10",s=({children:g,className:C,show:v})=>{const[y,l]=(0,Z.useState)(v);return(0,Z.useEffect)(()=>{v&&l(!0)},[v]),y?(0,A.jsx)("div",{className:(0,_.$)(n,C),"data-show":v?"":void 0,onAnimationEnd:()=>{v||l(!1)},children:g}):null};var o=x(54184),c=x(9517);const i={xSmall:"small",small:"small",medium:"medium",large:"medium"},m={xSmall:"14px",small:"18px",medium:"20px",large:"24px"},h=(0,e.Y8)(["minHeight","paddingX","paddingY","gap","radius"]),p=({background:g,backgroundActive:C,backgroundHover:v,...y})=>({...y,bg:g,bgActive:C,bgHover:v}),f="al-Button-icn-f10",T="al-Button-bg-f10",O="al-Button-rt-f10",b="al-Button-cntnt-f10",P="al-Button-lbl-f10",d="al-Button-spnnrcntnr-f10",u=({className:g,size:C="small",stretch:v=!1,style:y,styleParams:l,variant:R="primary",...D})=>({...D,className:(0,_.$)(O,g),"data-size":C,"data-stretch":v?!0:void 0,"data-variant":R,style:l?{...y,...(0,e.Mm)(h,p(l))}:y}),I=(0,Z.forwardRef)(function({children:C,disabled:v=!1,icon:y,iconPosition:l="start",loading:R,onClick:D,size:U="small",type:H="button",...re},X){return(0,A.jsxs)("button",{...u({size:U,...re}),"aria-busy":R,disabled:v,onClick:v?void 0:D,type:H,ref:X,children:[(0,A.jsx)("div",{className:T}),(0,A.jsx)(s,{show:R,className:d,children:(0,A.jsx)(o.y$,{color:"inherit",size:m[U]})}),(0,A.jsxs)("div",{className:b,"data-hidden":R?!0:void 0,children:[!!y&&(0,A.jsx)(c.I,{className:f,source:y,size:i[U],"data-order":l==="end"?1:void 0}),(0,A.jsx)("div",{className:P,children:C})]})]})}),E={bg:T,content:b,icon:f,label:P}},7220:(ve,ne,x)=>{ve.exports=x(46758)},15003:(ve,ne,x)=>{"use strict";x.r(ne),x.d(ne,{medium:()=>A,small:()=>_});var Z=x(44349),e=x(44489);const _=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 16 16",ref:o,...s,children:(0,e.jsx)("path",{d:"M2 8a.75.75 0 0 1 .22-.53l4-4a.75.75 0 0 1 1.06 1.06l-2.72 2.72h8.69a.75.75 0 0 1 0 1.5h-8.69l2.72 2.72a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1-.22-.53"})})}),{__al_size:"small",__al_flipOnRtl:!0}),A=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 24 24",ref:o,...s,children:(0,e.jsx)("path",{d:"M3 12a1 1 0 0 1 .293-.707l6-6a1 1 0 0 1 1.414 1.414l-4.293 4.293h13.586a1 1 0 1 1 0 2h-13.586l4.293 4.293a1 1 0 0 1-1.414 1.414l-6-6a1 1 0 0 1-.293-.707"})})}),{__al_size:"medium",__al_flipOnRtl:!0})},15110:(ve,ne,x)=>{"use strict";var Z=x(41665),e=x(30067),_=x(40769),A=x(3095),n=x(17327),s=x(68021),o=x(64333),c=">",i="<",m="prototype",h="script",p=o("IE_PROTO"),f=function(){},T=function(u){return i+h+c+u+i+"/"+h+c},O=function(u){u.write(T("")),u.close();var I=u.parentWindow.Object;return u=null,I},b=function(){var u=s("iframe"),I="java"+h+":",E;return u.style.display="none",n.appendChild(u),u.src=String(I),E=u.contentWindow.document,E.open(),E.write(T("document.F=Object")),E.close(),E.F},P,d=function(){try{P=new ActiveXObject("htmlfile")}catch{}d=typeof document<"u"?document.domain&&P?O(P):b():O(P);for(var u=_.length;u--;)delete d[m][_[u]];return d()};A[p]=!0,ve.exports=Object.create||function(I,E){var g;return I!==null?(f[m]=Z(I),g=new f,f[m]=null,g[p]=I):g=d(),E===void 0?g:e.f(g,E)}},17327:(ve,ne,x)=>{"use strict";var Z=x(64741);ve.exports=Z("document","documentElement")},18291:(ve,ne,x)=>{"use strict";x.r(ne),x.d(ne,{medium:()=>A,small:()=>_});var Z=x(44349),e=x(44489);const _=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 16 16",ref:o,...s,children:(0,e.jsx)("path",{d:"M8 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14m-1.47-9.53 1.47 1.47 1.47-1.47a.75.75 0 1 1 1.06 1.06l-1.47 1.47 1.47 1.47a.75.75 0 1 1-1.06 1.06l-1.47-1.47-1.47 1.47a.75.75 0 1 1-1.06-1.06l1.47-1.47-1.47-1.47a.75.75 0 0 1 1.06-1.06"})})}),{__al_size:"small"}),A=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 24 24",ref:o,...s,children:(0,e.jsx)("path",{d:"M12 22c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10m-2.293-13.707 2.293 2.293 2.293-2.293a1 1 0 1 1 1.414 1.414l-2.293 2.293 2.293 2.293a1 1 0 0 1-1.414 1.414l-2.293-2.293-2.293 2.293a1 1 0 0 1-1.414-1.414l2.293-2.293-2.293-2.293a1 1 0 0 1 1.414-1.414"})})}),{__al_size:"medium"})},21598:(ve,ne,x)=>{"use strict";x.d(ne,{$:()=>n});var Z=x(508),e=x(44489),_=x(9517);function A({as:s="a",children:o,icon:c,iconPosition:i="start",innerRef:m,size:h="small",...p}){return(0,e.jsxs)(s,{...(0,Z.vC)({size:h,...p}),ref:m,children:[(0,e.jsx)("span",{className:Z.Ly.bg}),(0,e.jsxs)("span",{className:Z.Ly.content,children:[!!c&&(0,e.jsx)(_.I,{className:Z.Ly.icon,source:c,size:Z.Ev[h],"data-order":i==="end"?1:void 0}),(0,e.jsx)("span",{className:Z.Ly.label,children:o})]})]})}const n=Object.assign(Z.$n,{Link:A})},25110:(ve,ne,x)=>{"use strict";var Z=x(42218),e=x(40769);ve.exports=Object.keys||function(A){return Z(A,e)}},25404:(ve,ne,x)=>{"use strict";x.d(ne,{Ay:()=>p});var Z=x(44349);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var e=function(){return e=Object.assign||function(T){for(var O,b=1,P=arguments.length;b<P;b++){O=arguments[b];for(var d in O)Object.prototype.hasOwnProperty.call(O,d)&&(T[d]=O[d])}return T},e.apply(this,arguments)};function _(f,T){var O={};for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&T.indexOf(b)<0&&(O[b]=f[b]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,b=Object.getOwnPropertySymbols(f);P<b.length;P++)T.indexOf(b[P])<0&&Object.prototype.propertyIsEnumerable.call(f,b[P])&&(O[b[P]]=f[b[P]]);return O}var A=function(){return Math.random().toString(36).substring(6)},n=function(f){var T=f.animate,O=T===void 0?!0:T,b=f.animateBegin,P=f.backgroundColor,d=P===void 0?"#f5f6f7":P,u=f.backgroundOpacity,I=u===void 0?1:u,E=f.baseUrl,g=E===void 0?"":E,C=f.children,v=f.foregroundColor,y=v===void 0?"#eee":v,l=f.foregroundOpacity,R=l===void 0?1:l,D=f.gradientRatio,U=D===void 0?2:D,H=f.gradientDirection,re=H===void 0?"left-right":H,X=f.uniqueKey,F=f.interval,B=F===void 0?.25:F,z=f.rtl,S=z===void 0?!1:z,L=f.speed,J=L===void 0?1.2:L,V=f.style,ie=V===void 0?{}:V,k=f.title,K=k===void 0?"Loading...":k,Q=f.beforeMask,q=Q===void 0?null:Q,de=_(f,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),me=X||A(),fe=me+"-diff",Oe=me+"-animated-diff",Se=me+"-aria",ge=S?{transform:"scaleX(-1)"}:null,Te="0; "+B+"; 1",pe=J+"s",Y=re==="top-bottom"?"rotate(90)":void 0;return(0,Z.createElement)("svg",e({"aria-labelledby":Se,role:"img",style:e(e({},ie),ge)},de),K?(0,Z.createElement)("title",{id:Se},K):null,q&&(0,Z.isValidElement)(q)?q:null,(0,Z.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+g+"#"+fe+")",style:{fill:"url("+g+"#"+Oe+")"}}),(0,Z.createElement)("defs",null,(0,Z.createElement)("clipPath",{id:fe},C),(0,Z.createElement)("linearGradient",{id:Oe,gradientTransform:Y},(0,Z.createElement)("stop",{offset:"0%",stopColor:d,stopOpacity:I},O&&(0,Z.createElement)("animate",{attributeName:"offset",values:-U+"; "+-U+"; 1",keyTimes:Te,dur:pe,repeatCount:"indefinite",begin:b})),(0,Z.createElement)("stop",{offset:"50%",stopColor:y,stopOpacity:R},O&&(0,Z.createElement)("animate",{attributeName:"offset",values:-U/2+"; "+-U/2+"; "+(1+U/2),keyTimes:Te,dur:pe,repeatCount:"indefinite",begin:b})),(0,Z.createElement)("stop",{offset:"100%",stopColor:d,stopOpacity:I},O&&(0,Z.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+U),keyTimes:Te,dur:pe,repeatCount:"indefinite",begin:b})))))},s=function(f){return f.children?(0,Z.createElement)(n,e({},f)):(0,Z.createElement)(o,e({},f))},o=function(f){return(0,Z.createElement)(s,e({viewBox:"0 0 476 124"},f),(0,Z.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,Z.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},c=function(f){return createElement(s,e({viewBox:"0 0 400 460"},f),createElement("circle",{cx:"31",cy:"31",r:"15"}),createElement("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},i=function(f){return createElement(s,e({viewBox:"0 0 340 84"},f),createElement("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),createElement("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),createElement("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),createElement("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},m=function(f){return createElement(s,e({viewBox:"0 0 400 110"},f),createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),createElement("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),createElement("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},h=function(f){return createElement(s,e({viewBox:"0 0 245 125"},f),createElement("circle",{cx:"10",cy:"20",r:"8"}),createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"50",r:"8"}),createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"80",r:"8"}),createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"110",r:"8"}),createElement("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))};const p=s},29019:(ve,ne)=>{var x,Z;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){"use strict";var e={}.hasOwnProperty,_="[native code]";function A(){for(var n=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var c=typeof o;if(c==="string"||c==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var i=A.apply(null,o);i&&n.push(i)}}else if(c==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var m in o)e.call(o,m)&&o[m]&&n.push(m)}}}return n.join(" ")}ve.exports?(A.default=A,ve.exports=A):(x=[],Z=function(){return A}.apply(ne,x),Z!==void 0&&(ve.exports=Z))})()},30067:(ve,ne,x)=>{"use strict";var Z=x(36274),e=x(11852),_=x(30943),A=x(41665),n=x(65875),s=x(25110);ne.f=Z&&!e?Object.defineProperties:function(c,i){A(c);for(var m=n(i),h=s(i),p=h.length,f=0,T;p>f;)_.f(c,T=h[f++],m[T]);return c}},41218:ve=>{"use strict";ve.exports=JSON.parse('["br","cy","dv","sw","eu","af","am","ha","ku","ml","no","ps","sd","so","sq","ta","tg","tt","ug","ur","vi","ar","az","be","bg","bn","bs","ca","cs","da","de","el","en","es","et","fa","fi","fr","gl","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","ko","ky","lt","lv","mk","mn","mr","ms","nb","nl","nn","pl","pt","ro","ru","sk","sl","sr","sv","th","tr","uk","uz","zh"]')},41334:(ve,ne,x)=>{"use strict";x.d(ne,{A:()=>z});/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function Z(S){return getComputedStyle(S)}function e(S,L){for(var J in L){var V=L[J];typeof V=="number"&&(V=V+"px"),S.style[J]=V}return S}function _(S){var L=document.createElement("div");return L.className=S,L}var A=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function n(S,L){if(!A)throw new Error("No element matching method supported");return A.call(S,L)}function s(S){S.remove?S.remove():S.parentNode&&S.parentNode.removeChild(S)}function o(S,L){return Array.prototype.filter.call(S.children,function(J){return n(J,L)})}var c={main:"ps",rtl:"ps__rtl",element:{thumb:function(S){return"ps__thumb-"+S},rail:function(S){return"ps__rail-"+S},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(S){return"ps--active-"+S},scrolling:function(S){return"ps--scrolling-"+S}}},i={x:null,y:null};function m(S,L){var J=S.element.classList,V=c.state.scrolling(L);J.contains(V)?clearTimeout(i[L]):J.add(V)}function h(S,L){i[L]=setTimeout(function(){return S.isAlive&&S.element.classList.remove(c.state.scrolling(L))},S.settings.scrollingThreshold)}function p(S,L){m(S,L),h(S,L)}var f=function(L){this.element=L,this.handlers={}},T={isEmpty:{configurable:!0}};f.prototype.bind=function(L,J){typeof this.handlers[L]>"u"&&(this.handlers[L]=[]),this.handlers[L].push(J),this.element.addEventListener(L,J,!1)},f.prototype.unbind=function(L,J){var V=this;this.handlers[L]=this.handlers[L].filter(function(ie){return J&&ie!==J?!0:(V.element.removeEventListener(L,ie,!1),!1)})},f.prototype.unbindAll=function(){for(var L in this.handlers)this.unbind(L)},T.isEmpty.get=function(){var S=this;return Object.keys(this.handlers).every(function(L){return S.handlers[L].length===0})},Object.defineProperties(f.prototype,T);var O=function(){this.eventElements=[]};O.prototype.eventElement=function(L){var J=this.eventElements.filter(function(V){return V.element===L})[0];return J||(J=new f(L),this.eventElements.push(J)),J},O.prototype.bind=function(L,J,V){this.eventElement(L).bind(J,V)},O.prototype.unbind=function(L,J,V){var ie=this.eventElement(L);ie.unbind(J,V),ie.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(ie),1)},O.prototype.unbindAll=function(){this.eventElements.forEach(function(L){return L.unbindAll()}),this.eventElements=[]},O.prototype.once=function(L,J,V){var ie=this.eventElement(L),k=function(K){ie.unbind(J,k),V(K)};ie.bind(J,k)};function b(S){if(typeof window.CustomEvent=="function")return new CustomEvent(S);var L=document.createEvent("CustomEvent");return L.initCustomEvent(S,!1,!1,void 0),L}function P(S,L,J,V,ie){V===void 0&&(V=!0),ie===void 0&&(ie=!1);var k;if(L==="top")k=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(L==="left")k=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");d(S,J,k,V,ie)}function d(S,L,J,V,ie){var k=J[0],K=J[1],Q=J[2],q=J[3],de=J[4],me=J[5];V===void 0&&(V=!0),ie===void 0&&(ie=!1);var fe=S.element;S.reach[q]=null,fe[Q]<1&&(S.reach[q]="start"),fe[Q]>S[k]-S[K]-1&&(S.reach[q]="end"),L&&(fe.dispatchEvent(b("ps-scroll-"+q)),L<0?fe.dispatchEvent(b("ps-scroll-"+de)):L>0&&fe.dispatchEvent(b("ps-scroll-"+me)),V&&p(S,q)),S.reach[q]&&(L||ie)&&fe.dispatchEvent(b("ps-"+q+"-reach-"+S.reach[q]))}function u(S){return parseInt(S,10)||0}function I(S){return n(S,"input,[contenteditable]")||n(S,"select,[contenteditable]")||n(S,"textarea,[contenteditable]")||n(S,"button,[contenteditable]")}function E(S){var L=Z(S);return u(L.width)+u(L.paddingLeft)+u(L.paddingRight)+u(L.borderLeftWidth)+u(L.borderRightWidth)}var g={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function C(S){var L=S.element,J=Math.floor(L.scrollTop),V=L.getBoundingClientRect();S.containerWidth=Math.round(V.width),S.containerHeight=Math.round(V.height),S.contentWidth=L.scrollWidth,S.contentHeight=L.scrollHeight,L.contains(S.scrollbarXRail)||(o(L,c.element.rail("x")).forEach(function(ie){return s(ie)}),L.appendChild(S.scrollbarXRail)),L.contains(S.scrollbarYRail)||(o(L,c.element.rail("y")).forEach(function(ie){return s(ie)}),L.appendChild(S.scrollbarYRail)),!S.settings.suppressScrollX&&S.containerWidth+S.settings.scrollXMarginOffset<S.contentWidth?(S.scrollbarXActive=!0,S.railXWidth=S.containerWidth-S.railXMarginWidth,S.railXRatio=S.containerWidth/S.railXWidth,S.scrollbarXWidth=v(S,u(S.railXWidth*S.containerWidth/S.contentWidth)),S.scrollbarXLeft=u((S.negativeScrollAdjustment+L.scrollLeft)*(S.railXWidth-S.scrollbarXWidth)/(S.contentWidth-S.containerWidth))):S.scrollbarXActive=!1,!S.settings.suppressScrollY&&S.containerHeight+S.settings.scrollYMarginOffset<S.contentHeight?(S.scrollbarYActive=!0,S.railYHeight=S.containerHeight-S.railYMarginHeight,S.railYRatio=S.containerHeight/S.railYHeight,S.scrollbarYHeight=v(S,u(S.railYHeight*S.containerHeight/S.contentHeight)),S.scrollbarYTop=u(J*(S.railYHeight-S.scrollbarYHeight)/(S.contentHeight-S.containerHeight))):S.scrollbarYActive=!1,S.scrollbarXLeft>=S.railXWidth-S.scrollbarXWidth&&(S.scrollbarXLeft=S.railXWidth-S.scrollbarXWidth),S.scrollbarYTop>=S.railYHeight-S.scrollbarYHeight&&(S.scrollbarYTop=S.railYHeight-S.scrollbarYHeight),y(L,S),S.scrollbarXActive?L.classList.add(c.state.active("x")):(L.classList.remove(c.state.active("x")),S.scrollbarXWidth=0,S.scrollbarXLeft=0,L.scrollLeft=S.isRtl===!0?S.contentWidth:0),S.scrollbarYActive?L.classList.add(c.state.active("y")):(L.classList.remove(c.state.active("y")),S.scrollbarYHeight=0,S.scrollbarYTop=0,L.scrollTop=0)}function v(S,L){return S.settings.minScrollbarLength&&(L=Math.max(L,S.settings.minScrollbarLength)),S.settings.maxScrollbarLength&&(L=Math.min(L,S.settings.maxScrollbarLength)),L}function y(S,L){var J={width:L.railXWidth},V=Math.floor(S.scrollTop);L.isRtl?J.left=L.negativeScrollAdjustment+S.scrollLeft+L.containerWidth-L.contentWidth:J.left=S.scrollLeft,L.isScrollbarXUsingBottom?J.bottom=L.scrollbarXBottom-V:J.top=L.scrollbarXTop+V,e(L.scrollbarXRail,J);var ie={top:V,height:L.railYHeight};L.isScrollbarYUsingRight?L.isRtl?ie.right=L.contentWidth-(L.negativeScrollAdjustment+S.scrollLeft)-L.scrollbarYRight-L.scrollbarYOuterWidth-9:ie.right=L.scrollbarYRight-S.scrollLeft:L.isRtl?ie.left=L.negativeScrollAdjustment+S.scrollLeft+L.containerWidth*2-L.contentWidth-L.scrollbarYLeft-L.scrollbarYOuterWidth:ie.left=L.scrollbarYLeft+S.scrollLeft,e(L.scrollbarYRail,ie),e(L.scrollbarX,{left:L.scrollbarXLeft,width:L.scrollbarXWidth-L.railBorderXWidth}),e(L.scrollbarY,{top:L.scrollbarYTop,height:L.scrollbarYHeight-L.railBorderYWidth})}function l(S){var L=S.element;S.event.bind(S.scrollbarY,"mousedown",function(J){return J.stopPropagation()}),S.event.bind(S.scrollbarYRail,"mousedown",function(J){var V=J.pageY-window.pageYOffset-S.scrollbarYRail.getBoundingClientRect().top,ie=V>S.scrollbarYTop?1:-1;S.element.scrollTop+=ie*S.containerHeight,C(S),J.stopPropagation()}),S.event.bind(S.scrollbarX,"mousedown",function(J){return J.stopPropagation()}),S.event.bind(S.scrollbarXRail,"mousedown",function(J){var V=J.pageX-window.pageXOffset-S.scrollbarXRail.getBoundingClientRect().left,ie=V>S.scrollbarXLeft?1:-1;S.element.scrollLeft+=ie*S.containerWidth,C(S),J.stopPropagation()})}function R(S){D(S,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),D(S,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function D(S,L){var J=L[0],V=L[1],ie=L[2],k=L[3],K=L[4],Q=L[5],q=L[6],de=L[7],me=L[8],fe=S.element,Oe=null,Se=null,ge=null;function Te(G){G.touches&&G.touches[0]&&(G[ie]=G.touches[0].pageY),fe[q]=Oe+ge*(G[ie]-Se),m(S,de),C(S),G.stopPropagation(),G.type.startsWith("touch")&&G.changedTouches.length>1&&G.preventDefault()}function pe(){h(S,de),S[me].classList.remove(c.state.clicking),S.event.unbind(S.ownerDocument,"mousemove",Te)}function Y(G,se){Oe=fe[q],se&&G.touches&&(G[ie]=G.touches[0].pageY),Se=G[ie],ge=(S[V]-S[J])/(S[k]-S[Q]),se?S.event.bind(S.ownerDocument,"touchmove",Te):(S.event.bind(S.ownerDocument,"mousemove",Te),S.event.once(S.ownerDocument,"mouseup",pe),G.preventDefault()),S[me].classList.add(c.state.clicking),G.stopPropagation()}S.event.bind(S[K],"mousedown",function(G){Y(G)}),S.event.bind(S[K],"touchstart",function(G){Y(G,!0)})}function U(S){var L=S.element,J=function(){return n(L,":hover")},V=function(){return n(S.scrollbarX,":focus")||n(S.scrollbarY,":focus")};function ie(k,K){var Q=Math.floor(L.scrollTop);if(k===0){if(!S.scrollbarYActive)return!1;if(Q===0&&K>0||Q>=S.contentHeight-S.containerHeight&&K<0)return!S.settings.wheelPropagation}var q=L.scrollLeft;if(K===0){if(!S.scrollbarXActive)return!1;if(q===0&&k<0||q>=S.contentWidth-S.containerWidth&&k>0)return!S.settings.wheelPropagation}return!0}S.event.bind(S.ownerDocument,"keydown",function(k){if(!(k.isDefaultPrevented&&k.isDefaultPrevented()||k.defaultPrevented)&&!(!J()&&!V())){var K=document.activeElement?document.activeElement:S.ownerDocument.activeElement;if(K){if(K.tagName==="IFRAME")K=K.contentDocument.activeElement;else for(;K.shadowRoot;)K=K.shadowRoot.activeElement;if(I(K))return}var Q=0,q=0;switch(k.which){case 37:k.metaKey?Q=-S.contentWidth:k.altKey?Q=-S.containerWidth:Q=-30;break;case 38:k.metaKey?q=S.contentHeight:k.altKey?q=S.containerHeight:q=30;break;case 39:k.metaKey?Q=S.contentWidth:k.altKey?Q=S.containerWidth:Q=30;break;case 40:k.metaKey?q=-S.contentHeight:k.altKey?q=-S.containerHeight:q=-30;break;case 32:k.shiftKey?q=S.containerHeight:q=-S.containerHeight;break;case 33:q=S.containerHeight;break;case 34:q=-S.containerHeight;break;case 36:q=S.contentHeight;break;case 35:q=-S.contentHeight;break;default:return}S.settings.suppressScrollX&&Q!==0||S.settings.suppressScrollY&&q!==0||(L.scrollTop-=q,L.scrollLeft+=Q,C(S),ie(Q,q)&&k.preventDefault())}})}function H(S){var L=S.element;function J(K,Q){var q=Math.floor(L.scrollTop),de=L.scrollTop===0,me=q+L.offsetHeight===L.scrollHeight,fe=L.scrollLeft===0,Oe=L.scrollLeft+L.offsetWidth===L.scrollWidth,Se;return Math.abs(Q)>Math.abs(K)?Se=de||me:Se=fe||Oe,Se?!S.settings.wheelPropagation:!0}function V(K){var Q=K.deltaX,q=-1*K.deltaY;return(typeof Q>"u"||typeof q>"u")&&(Q=-1*K.wheelDeltaX/6,q=K.wheelDeltaY/6),K.deltaMode&&K.deltaMode===1&&(Q*=10,q*=10),Q!==Q&&q!==q&&(Q=0,q=K.wheelDelta),K.shiftKey?[-q,-Q]:[Q,q]}function ie(K,Q,q){if(!g.isWebKit&&L.querySelector("select:focus"))return!0;if(!L.contains(K))return!1;for(var de=K;de&&de!==L;){if(de.classList.contains(c.element.consuming))return!0;var me=Z(de);if(q&&me.overflowY.match(/(scroll|auto)/)){var fe=de.scrollHeight-de.clientHeight;if(fe>0&&(de.scrollTop>0&&q<0||de.scrollTop<fe&&q>0))return!0}if(Q&&me.overflowX.match(/(scroll|auto)/)){var Oe=de.scrollWidth-de.clientWidth;if(Oe>0&&(de.scrollLeft>0&&Q<0||de.scrollLeft<Oe&&Q>0))return!0}de=de.parentNode}return!1}function k(K){var Q=V(K),q=Q[0],de=Q[1];if(!ie(K.target,q,de)){var me=!1;S.settings.useBothWheelAxes?S.scrollbarYActive&&!S.scrollbarXActive?(de?L.scrollTop-=de*S.settings.wheelSpeed:L.scrollTop+=q*S.settings.wheelSpeed,me=!0):S.scrollbarXActive&&!S.scrollbarYActive&&(q?L.scrollLeft+=q*S.settings.wheelSpeed:L.scrollLeft-=de*S.settings.wheelSpeed,me=!0):(L.scrollTop-=de*S.settings.wheelSpeed,L.scrollLeft+=q*S.settings.wheelSpeed),C(S),me=me||J(q,de),me&&!K.ctrlKey&&(K.stopPropagation(),K.preventDefault())}}typeof window.onwheel<"u"?S.event.bind(L,"wheel",k):typeof window.onmousewheel<"u"&&S.event.bind(L,"mousewheel",k)}function re(S){if(!g.supportsTouch&&!g.supportsIePointer)return;var L=S.element;function J(ge,Te){var pe=Math.floor(L.scrollTop),Y=L.scrollLeft,G=Math.abs(ge),se=Math.abs(Te);if(se>G){if(Te<0&&pe===S.contentHeight-S.containerHeight||Te>0&&pe===0)return window.scrollY===0&&Te>0&&g.isChrome}else if(G>se&&(ge<0&&Y===S.contentWidth-S.containerWidth||ge>0&&Y===0))return!0;return!0}function V(ge,Te){L.scrollTop-=Te,L.scrollLeft-=ge,C(S)}var ie={},k=0,K={},Q=null;function q(ge){return ge.targetTouches?ge.targetTouches[0]:ge}function de(ge){return ge.pointerType&&ge.pointerType==="pen"&&ge.buttons===0?!1:!!(ge.targetTouches&&ge.targetTouches.length===1||ge.pointerType&&ge.pointerType!=="mouse"&&ge.pointerType!==ge.MSPOINTER_TYPE_MOUSE)}function me(ge){if(de(ge)){var Te=q(ge);ie.pageX=Te.pageX,ie.pageY=Te.pageY,k=new Date().getTime(),Q!==null&&clearInterval(Q)}}function fe(ge,Te,pe){if(!L.contains(ge))return!1;for(var Y=ge;Y&&Y!==L;){if(Y.classList.contains(c.element.consuming))return!0;var G=Z(Y);if(pe&&G.overflowY.match(/(scroll|auto)/)){var se=Y.scrollHeight-Y.clientHeight;if(se>0&&(Y.scrollTop>0&&pe<0||Y.scrollTop<se&&pe>0))return!0}if(Te&&G.overflowX.match(/(scroll|auto)/)){var Ee=Y.scrollWidth-Y.clientWidth;if(Ee>0&&(Y.scrollLeft>0&&Te<0||Y.scrollLeft<Ee&&Te>0))return!0}Y=Y.parentNode}return!1}function Oe(ge){if(de(ge)){var Te=q(ge),pe={pageX:Te.pageX,pageY:Te.pageY},Y=pe.pageX-ie.pageX,G=pe.pageY-ie.pageY;if(fe(ge.target,Y,G))return;V(Y,G),ie=pe;var se=new Date().getTime(),Ee=se-k;Ee>0&&(K.x=Y/Ee,K.y=G/Ee,k=se),J(Y,G)&&ge.cancelable&&ge.preventDefault()}}function Se(){S.settings.swipeEasing&&(clearInterval(Q),Q=setInterval(function(){if(S.isInitialized){clearInterval(Q);return}if(!K.x&&!K.y){clearInterval(Q);return}if(Math.abs(K.x)<.01&&Math.abs(K.y)<.01){clearInterval(Q);return}if(!S.element){clearInterval(Q);return}V(K.x*30,K.y*30),K.x*=.8,K.y*=.8},10))}g.supportsTouch?(S.event.bind(L,"touchstart",me),S.event.bind(L,"touchmove",Oe),S.event.bind(L,"touchend",Se)):g.supportsIePointer&&(window.PointerEvent?(S.event.bind(L,"pointerdown",me),S.event.bind(L,"pointermove",Oe),S.event.bind(L,"pointerup",Se)):window.MSPointerEvent&&(S.event.bind(L,"MSPointerDown",me),S.event.bind(L,"MSPointerMove",Oe),S.event.bind(L,"MSPointerUp",Se)))}var X=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},F={"click-rail":l,"drag-thumb":R,keyboard:U,wheel:H,touch:re},B=function(L,J){var V=this;if(J===void 0&&(J={}),typeof L=="string"&&(L=document.querySelector(L)),!L||!L.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=L,L.classList.add(c.main),this.settings=X();for(var ie in J)this.settings[ie]=J[ie];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var k=function(){return L.classList.add(c.state.focus)},K=function(){return L.classList.remove(c.state.focus)};this.isRtl=Z(L).direction==="rtl",this.isRtl===!0&&L.classList.add(c.rtl),this.isNegativeScroll=function(){var de=L.scrollLeft,me=null;return L.scrollLeft=-1,me=L.scrollLeft<0,L.scrollLeft=de,me}(),this.negativeScrollAdjustment=this.isNegativeScroll?L.scrollWidth-L.clientWidth:0,this.event=new O,this.ownerDocument=L.ownerDocument||document,this.scrollbarXRail=_(c.element.rail("x")),L.appendChild(this.scrollbarXRail),this.scrollbarX=_(c.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",k),this.event.bind(this.scrollbarX,"blur",K),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var Q=Z(this.scrollbarXRail);this.scrollbarXBottom=parseInt(Q.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=u(Q.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=u(Q.borderLeftWidth)+u(Q.borderRightWidth),e(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=u(Q.marginLeft)+u(Q.marginRight),e(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=_(c.element.rail("y")),L.appendChild(this.scrollbarYRail),this.scrollbarY=_(c.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",k),this.event.bind(this.scrollbarY,"blur",K),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var q=Z(this.scrollbarYRail);this.scrollbarYRight=parseInt(q.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=u(q.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?E(this.scrollbarY):null,this.railBorderYWidth=u(q.borderTopWidth)+u(q.borderBottomWidth),e(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=u(q.marginTop)+u(q.marginBottom),e(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:L.scrollLeft<=0?"start":L.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:L.scrollTop<=0?"start":L.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(de){return F[de](V)}),this.lastScrollTop=Math.floor(L.scrollTop),this.lastScrollLeft=L.scrollLeft,this.event.bind(this.element,"scroll",function(de){return V.onScroll(de)}),C(this)};B.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,e(this.scrollbarXRail,{display:"block"}),e(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=u(Z(this.scrollbarXRail).marginLeft)+u(Z(this.scrollbarXRail).marginRight),this.railYMarginHeight=u(Z(this.scrollbarYRail).marginTop)+u(Z(this.scrollbarYRail).marginBottom),e(this.scrollbarXRail,{display:"none"}),e(this.scrollbarYRail,{display:"none"}),C(this),P(this,"top",0,!1,!0),P(this,"left",0,!1,!0),e(this.scrollbarXRail,{display:""}),e(this.scrollbarYRail,{display:""}))},B.prototype.onScroll=function(L){this.isAlive&&(C(this),P(this,"top",this.element.scrollTop-this.lastScrollTop),P(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},B.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),s(this.scrollbarX),s(this.scrollbarY),s(this.scrollbarXRail),s(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},B.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(L){return!L.match(/^ps([-_].+|)$/)}).join(" ")};const z=B},42306:(ve,ne,x)=>{"use strict";x.d(ne,{L:()=>Ue});var Z=x(13803),e=x(34826),_=x(44349),A=x(62146);function n($,te){let le;const oe=()=>{const{currentTime:ue}=te,Ie=(ue===null?0:ue.value)/100;le!==Ie&&$(Ie),le=Ie};return A.Gt.preUpdate(oe,!0),()=>(0,A.WG)(oe)}var s=x(3469),o=x(11199);const c=new WeakMap;let i;function m($,te){if(te){const{inlineSize:le,blockSize:oe}=te[0];return{width:le,height:oe}}else return $ instanceof SVGElement&&"getBBox"in $?$.getBBox():{width:$.offsetWidth,height:$.offsetHeight}}function h({target:$,contentRect:te,borderBoxSize:le}){c.get($)?.forEach(oe=>{oe({target:$,contentSize:te,get size(){return m($,le)}})})}function p($){$.forEach(h)}function f(){typeof ResizeObserver>"u"||(i=new ResizeObserver(p))}function T($,te){i||f();const le=(0,o.K)($);return le.forEach(oe=>{let ue=c.get(oe);ue||(ue=new Set,c.set(oe,ue)),ue.add(te),i?.observe(oe)}),()=>{le.forEach(oe=>{const ue=c.get(oe);ue?.delete(te),ue?.size||i?.unobserve(oe)})}}const O=new Set;let b;function P(){b=()=>{const $={width:window.innerWidth,height:window.innerHeight},te={target:window,size:$,contentSize:$};O.forEach(le=>le(te))},window.addEventListener("resize",b)}function d($){return O.add($),b||P(),()=>{O.delete($),!O.size&&b&&(b=void 0)}}function u($,te){return typeof $=="function"?d($):T($,te)}var I=x(26270),E=x(14389);const g=50,C=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),v=()=>({time:0,x:C(),y:C()}),y={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function l($,te,le,oe){const ue=le[te],{length:ye,position:Ie}=y[te],Ne=ue.current,Ce=le.time;ue.current=$[`scroll${Ie}`],ue.scrollLength=$[`scroll${ye}`]-$[`client${ye}`],ue.offset.length=0,ue.offset[0]=0,ue.offset[1]=ue.scrollLength,ue.progress=(0,I.q)(0,ue.scrollLength,ue.current);const Ve=oe-Ce;ue.velocity=Ve>g?0:(0,E.f)(ue.current-Ne,Ve)}function R($,te,le){l($,"x",te,le),l($,"y",te,le),te.time=le}var D=x(77222),U=x(91242),H=x(76844);function re($,te){const le={x:0,y:0};let oe=$;for(;oe&&oe!==te;)if(oe instanceof HTMLElement)le.x+=oe.offsetLeft,le.y+=oe.offsetTop,oe=oe.offsetParent;else if(oe.tagName==="svg"){const ue=oe.getBoundingClientRect();oe=oe.parentElement;const ye=oe.getBoundingClientRect();le.x+=ue.left-ye.left,le.y+=ue.top-ye.top}else if(oe instanceof SVGGraphicsElement){const{x:ue,y:ye}=oe.getBBox();le.x+=ue,le.y+=ye;let Ie=null,Ne=oe.parentNode;for(;!Ie;)Ne.tagName==="svg"&&(Ie=Ne),Ne=oe.parentNode;oe=Ie}else break;return le}const X={start:0,center:.5,end:1};function F($,te,le=0){let oe=0;if($ in X&&($=X[$]),typeof $=="string"){const ue=parseFloat($);$.endsWith("px")?oe=ue:$.endsWith("%")?$=ue/100:$.endsWith("vw")?oe=ue/100*document.documentElement.clientWidth:$.endsWith("vh")?oe=ue/100*document.documentElement.clientHeight:$=ue}return typeof $=="number"&&(oe=te*$),le+oe}const B=[0,0];function z($,te,le,oe){let ue=Array.isArray($)?$:B,ye=0,Ie=0;return typeof $=="number"?ue=[$,$]:typeof $=="string"&&($=$.trim(),$.includes(" ")?ue=$.split(" "):ue=[$,X[$]?$:"0"]),ye=F(ue[0],le,oe),Ie=F(ue[1],te),ye-Ie}const S={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},L={x:0,y:0};function J($){return"getBBox"in $&&$.tagName!=="svg"?$.getBBox():{width:$.clientWidth,height:$.clientHeight}}function V($,te,le){const{offset:oe=S.All}=le,{target:ue=$,axis:ye="y"}=le,Ie=ye==="y"?"height":"width",Ne=ue!==$?re(ue,$):L,Ce=ue===$?{width:$.scrollWidth,height:$.scrollHeight}:J(ue),Ve={width:$.clientWidth,height:$.clientHeight};te[ye].offset.length=0;let Le=!te[ye].interpolate;const xe=oe.length;for(let Pe=0;Pe<xe;Pe++){const We=z(oe[Pe],Ve[Ie],Ce[Ie],Ne[ye]);!Le&&We!==te[ye].interpolatorOffsets[Pe]&&(Le=!0),te[ye].offset[Pe]=We}Le&&(te[ye].interpolate=(0,D.G)(te[ye].offset,(0,U.Z)(oe),{clamp:!1}),te[ye].interpolatorOffsets=[...te[ye].offset]),te[ye].progress=(0,H.q)(0,1,te[ye].interpolate(te[ye].current))}function ie($,te=$,le){if(le.x.targetOffset=0,le.y.targetOffset=0,te!==$){let oe=te;for(;oe&&oe!==$;)le.x.targetOffset+=oe.offsetLeft,le.y.targetOffset+=oe.offsetTop,oe=oe.offsetParent}le.x.targetLength=te===$?te.scrollWidth:te.clientWidth,le.y.targetLength=te===$?te.scrollHeight:te.clientHeight,le.x.containerLength=$.clientWidth,le.y.containerLength=$.clientHeight}function k($,te,le,oe={}){return{measure:()=>ie($,oe.target,le),update:ue=>{R($,le,ue),(oe.offset||oe.target)&&V($,le,oe)},notify:()=>te(le)}}const K=new WeakMap,Q=new WeakMap,q=new WeakMap,de=$=>$===document.documentElement?window:$;function me($,{container:te=document.documentElement,...le}={}){let oe=q.get(te);oe||(oe=new Set,q.set(te,oe));const ue=v(),ye=k(te,$,ue,le);if(oe.add(ye),!K.has(te)){const Ne=()=>{for(const Pe of oe)Pe.measure()},Ce=()=>{for(const Pe of oe)Pe.update(A.uv.timestamp)},Ve=()=>{for(const Pe of oe)Pe.notify()},Le=()=>{A.Gt.read(Ne,!1,!0),A.Gt.read(Ce,!1,!0),A.Gt.preUpdate(Ve,!1,!0)};K.set(te,Le);const xe=de(te);window.addEventListener("resize",Le,{passive:!0}),te!==document.documentElement&&Q.set(te,u(te,Le)),xe.addEventListener("scroll",Le,{passive:!0})}const Ie=K.get(te);return A.Gt.read(Ie,!1,!0),()=>{(0,A.WG)(Ie);const Ne=q.get(te);if(!Ne||(Ne.delete(ye),Ne.size))return;const Ce=K.get(te);K.delete(te),Ce&&(de(te).removeEventListener("scroll",Ce),Q.get(te)?.(),window.removeEventListener("resize",Ce))}}const fe=new Map;function Oe($){const te={value:0},le=me(oe=>{te.value=oe[$.axis].progress*100},$);return{currentTime:te,cancel:le}}function Se({source:$,container:te,...le}){const{axis:oe}=le;$&&(te=$);const ue=fe.get(te)??new Map;fe.set(te,ue);const ye=le.target??"self",Ie=ue.get(ye)??{},Ne=oe+(le.offset??[]).join(",");return Ie[Ne]||(Ie[Ne]=!le.target&&(0,s.J)()?new ScrollTimeline({source:te,axis:oe}):Oe({container:te,...le})),Ie[oe]}function ge($,te){const le=Se(te);return $.attachTimeline({timeline:te.target?void 0:le,observe:oe=>(oe.pause(),n(ue=>{oe.time=oe.duration*ue},le))})}function Te($){return $.length===2}function pe($,te){return Te($)?me(le=>{$(le[te.axis].progress,le)},te):n($,Se(te))}function Y($,{axis:te="y",container:le=document.documentElement,...oe}={}){const ue={axis:te,container:le,...oe};return typeof $=="function"?pe($,ue):ge($,ue)}var G=x(26437),se=x(52412);function Ee($,te){(0,e.$)(!!(!te||te.current),`You have defined a ${$} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}const Re=()=>({scrollX:(0,Z.OQ)(0),scrollY:(0,Z.OQ)(0),scrollXProgress:(0,Z.OQ)(0),scrollYProgress:(0,Z.OQ)(0)});function Ue({container:$,target:te,layoutEffect:le=!0,...oe}={}){const ue=(0,G.M)(Re);return(le?se.E:_.useEffect)(()=>(Ee("target",te),Ee("container",$),Y((Ie,{x:Ne,y:Ce})=>{ue.scrollX.set(Ne.current),ue.scrollXProgress.set(Ne.progress),ue.scrollY.set(Ce.current),ue.scrollYProgress.set(Ce.progress)},{...oe,container:$?.current||void 0,target:te?.current||void 0})),[$,te,JSON.stringify(oe.offset)]),ue}},46758:(ve,ne)=>{"use strict";var x;x={value:!0};function Z(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z=function(y){return typeof y}:Z=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Z(v)}var e="basil",_=function(y){return y===3?"v3":y},A="https://js.stripe.com",n="".concat(A,"/").concat(e,"/stripe.js"),s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,c="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",i=function(y){return s.test(y)||o.test(y)},m=function(){for(var y=document.querySelectorAll('script[src^="'.concat(A,'"]')),l=0;l<y.length;l++){var R=y[l];if(i(R.src))return R}return null},h=function(y){var l=y&&!y.advancedFraudSignals?"?advancedFraudSignals=false":"",R=document.createElement("script");R.src="".concat(n).concat(l);var D=document.head||document.body;if(!D)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return D.appendChild(R),R},p=function(y,l){!y||!y._registerWrapper||y._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:l})},f=null,T=null,O=null,b=function(y){return function(l){y(new Error("Failed to load Stripe.js",{cause:l}))}},P=function(y,l){return function(){window.Stripe?y(window.Stripe):l(new Error("Stripe.js not available"))}},d=function(y){return f!==null?f:(f=new Promise(function(l,R){if(typeof window>"u"||typeof document>"u"){l(null);return}if(window.Stripe&&y&&console.warn(c),window.Stripe){l(window.Stripe);return}try{var D=m();if(D&&y)console.warn(c);else if(!D)D=h(y);else if(D&&O!==null&&T!==null){var U;D.removeEventListener("load",O),D.removeEventListener("error",T),(U=D.parentNode)===null||U===void 0||U.removeChild(D),D=h(y)}O=P(l,R),T=b(R),D.addEventListener("load",O),D.addEventListener("error",T)}catch(H){R(H);return}}),f.catch(function(l){return f=null,Promise.reject(l)}))},u=function(y,l,R){if(y===null)return null;var D=l[0],U=D.match(/^pk_test/),H=_(y.version),re=e;U&&H!==re&&console.warn("Stripe.js@".concat(H," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(re,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var X=y.apply(void 0,l);return p(X,R),X},I=function(y){var l=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(y),`
`);if(y===null||Z(y)!=="object")throw new Error(l);if(Object.keys(y).length===1&&typeof y.advancedFraudSignals=="boolean")return y;throw new Error(l)},E,g=!1,C=function(){for(var y=arguments.length,l=new Array(y),R=0;R<y;R++)l[R]=arguments[R];g=!0;var D=Date.now();return d(E).then(function(U){return u(U,l,D)})};C.setLoadParameters=function(v){if(g&&E){var y=I(v),l=Object.keys(y),R=l.reduce(function(D,U){var H;return D&&v[U]===((H=E)===null||H===void 0?void 0:H[U])},!0);if(R)return}if(g)throw new Error("You cannot change load parameters after calling loadStripe");E=I(v)},ne.loadStripe=C},49260:(ve,ne,x)=>{"use strict";x.d(ne,{G:()=>m});var Z=x(77222);function e(...p){const f=!Array.isArray(p[0]),T=f?0:-1,O=p[0+T],b=p[1+T],P=p[2+T],d=p[3+T],u=(0,Z.G)(b,P,d);return f?u(O):u}var _=x(26437),A=x(62146),n=x(52412),s=x(54731);function o(p,f){const T=(0,s.d)(f()),O=()=>T.set(f());return O(),(0,n.E)(()=>{const b=()=>A.Gt.preRender(O,!1,!0),P=p.map(d=>d.on("change",b));return()=>{P.forEach(d=>d()),(0,A.WG)(O)}}),T}var c=x(13803);function i(p){c.bt.current=[],p();const f=o(c.bt.current,p);return c.bt.current=void 0,f}function m(p,f,T,O){if(typeof p=="function")return i(p);const b=typeof f=="function"?f:e(f,T,O);return Array.isArray(p)?h(p,b):h([p],([P])=>b(P))}function h(p,f){const T=(0,_.M)(()=>[]);return o(p,()=>{T.length=0;const O=p.length;for(let b=0;b<O;b++)T[b]=p[b].get();return f(T)})}},49539:(ve,ne,x)=>{"use strict";x.d(ne,{h:()=>_});let Z=new WeakMap,e=[];function _(n,s=document.body){let o=new Set(n),c=new Set,i=f=>{for(let P of f.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))o.add(P);let T=P=>{if(o.has(P)||P.parentElement&&c.has(P.parentElement)&&P.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let d of o)if(P.contains(d))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},O=document.createTreeWalker(f,NodeFilter.SHOW_ELEMENT,{acceptNode:T}),b=T(f);if(b===NodeFilter.FILTER_ACCEPT&&m(f),b!==NodeFilter.FILTER_REJECT){let P=O.nextNode();for(;P!=null;)m(P),P=O.nextNode()}},m=f=>{var T;let O=(T=Z.get(f))!==null&&T!==void 0?T:0;f.getAttribute("aria-hidden")==="true"&&O===0||(O===0&&f.setAttribute("aria-hidden","true"),c.add(f),Z.set(f,O+1))};e.length&&e[e.length-1].disconnect(),i(s);let h=new MutationObserver(f=>{for(let T of f)if(!(T.type!=="childList"||T.addedNodes.length===0)&&![...o,...c].some(O=>O.contains(T.target))){for(let O of T.removedNodes)O instanceof Element&&(o.delete(O),c.delete(O));for(let O of T.addedNodes)(O instanceof HTMLElement||O instanceof SVGElement)&&(O.dataset.liveAnnouncer==="true"||O.dataset.reactAriaTopLayer==="true")?o.add(O):O instanceof Element&&i(O)}});h.observe(s,{childList:!0,subtree:!0});let p={visibleNodes:o,hiddenNodes:c,observe(){h.observe(s,{childList:!0,subtree:!0})},disconnect(){h.disconnect()}};return e.push(p),()=>{h.disconnect();for(let f of c){let T=Z.get(f);T!=null&&(T===1?(f.removeAttribute("aria-hidden"),Z.delete(f)):Z.set(f,T-1))}p===e[e.length-1]?(e.pop(),e.length&&e[e.length-1].observe()):e.splice(e.indexOf(p),1)}}function A(n){let s=e[e.length-1];if(s&&!s.visibleNodes.has(n))return s.visibleNodes.add(n),()=>{s.visibleNodes.delete(n)}}},50355:ve=>{"use strict";ve.exports=JSON.parse('[["AF","AFG","004","ISO 3166-2:AF"],["AL","ALB","008","ISO 3166-2:AL"],["DZ","DZA","012","ISO 3166-2:DZ"],["AS","ASM","016","ISO 3166-2:AS"],["AD","AND","020","ISO 3166-2:AD"],["AO","AGO","024","ISO 3166-2:AO"],["AI","AIA","660","ISO 3166-2:AI"],["AQ","ATA","010","ISO 3166-2:AQ"],["AG","ATG","028","ISO 3166-2:AG"],["AR","ARG","032","ISO 3166-2:AR"],["AM","ARM","051","ISO 3166-2:AM"],["AW","ABW","533","ISO 3166-2:AW"],["AU","AUS","036","ISO 3166-2:AU"],["AT","AUT","040","ISO 3166-2:AT"],["AZ","AZE","031","ISO 3166-2:AZ"],["BS","BHS","044","ISO 3166-2:BS"],["BH","BHR","048","ISO 3166-2:BH"],["BD","BGD","050","ISO 3166-2:BD"],["BB","BRB","052","ISO 3166-2:BB"],["BY","BLR","112","ISO 3166-2:BY"],["BE","BEL","056","ISO 3166-2:BE"],["BZ","BLZ","084","ISO 3166-2:BZ"],["BJ","BEN","204","ISO 3166-2:BJ"],["BM","BMU","060","ISO 3166-2:BM"],["BT","BTN","064","ISO 3166-2:BT"],["BO","BOL","068","ISO 3166-2:BO"],["BA","BIH","070","ISO 3166-2:BA"],["BW","BWA","072","ISO 3166-2:BW"],["BV","BVT","074","ISO 3166-2:BV"],["BR","BRA","076","ISO 3166-2:BR"],["IO","IOT","086","ISO 3166-2:IO"],["BN","BRN","096","ISO 3166-2:BN"],["BG","BGR","100","ISO 3166-2:BG"],["BF","BFA","854","ISO 3166-2:BF"],["BI","BDI","108","ISO 3166-2:BI"],["KH","KHM","116","ISO 3166-2:KH"],["CM","CMR","120","ISO 3166-2:CM"],["CA","CAN","124","ISO 3166-2:CA"],["CV","CPV","132","ISO 3166-2:CV"],["KY","CYM","136","ISO 3166-2:KY"],["CF","CAF","140","ISO 3166-2:CF"],["TD","TCD","148","ISO 3166-2:TD"],["CL","CHL","152","ISO 3166-2:CL"],["CN","CHN","156","ISO 3166-2:CN"],["CX","CXR","162","ISO 3166-2:CX"],["CC","CCK","166","ISO 3166-2:CC"],["CO","COL","170","ISO 3166-2:CO"],["KM","COM","174","ISO 3166-2:KM"],["CG","COG","178","ISO 3166-2:CG"],["CD","COD","180","ISO 3166-2:CD"],["CK","COK","184","ISO 3166-2:CK"],["CR","CRI","188","ISO 3166-2:CR"],["CI","CIV","384","ISO 3166-2:CI"],["HR","HRV","191","ISO 3166-2:HR"],["CU","CUB","192","ISO 3166-2:CU"],["CY","CYP","196","ISO 3166-2:CY"],["CZ","CZE","203","ISO 3166-2:CZ"],["DK","DNK","208","ISO 3166-2:DK"],["DJ","DJI","262","ISO 3166-2:DJ"],["DM","DMA","212","ISO 3166-2:DM"],["DO","DOM","214","ISO 3166-2:DO"],["EC","ECU","218","ISO 3166-2:EC"],["EG","EGY","818","ISO 3166-2:EG"],["SV","SLV","222","ISO 3166-2:SV"],["GQ","GNQ","226","ISO 3166-2:GQ"],["ER","ERI","232","ISO 3166-2:ER"],["EE","EST","233","ISO 3166-2:EE"],["ET","ETH","231","ISO 3166-2:ET"],["FK","FLK","238","ISO 3166-2:FK"],["FO","FRO","234","ISO 3166-2:FO"],["FJ","FJI","242","ISO 3166-2:FJ"],["FI","FIN","246","ISO 3166-2:FI"],["FR","FRA","250","ISO 3166-2:FR"],["GF","GUF","254","ISO 3166-2:GF"],["PF","PYF","258","ISO 3166-2:PF"],["TF","ATF","260","ISO 3166-2:TF"],["GA","GAB","266","ISO 3166-2:GA"],["GM","GMB","270","ISO 3166-2:GM"],["GE","GEO","268","ISO 3166-2:GE"],["DE","DEU","276","ISO 3166-2:DE"],["GH","GHA","288","ISO 3166-2:GH"],["GI","GIB","292","ISO 3166-2:GI"],["GR","GRC","300","ISO 3166-2:GR"],["GL","GRL","304","ISO 3166-2:GL"],["GD","GRD","308","ISO 3166-2:GD"],["GP","GLP","312","ISO 3166-2:GP"],["GU","GUM","316","ISO 3166-2:GU"],["GT","GTM","320","ISO 3166-2:GT"],["GN","GIN","324","ISO 3166-2:GN"],["GW","GNB","624","ISO 3166-2:GW"],["GY","GUY","328","ISO 3166-2:GY"],["HT","HTI","332","ISO 3166-2:HT"],["HM","HMD","334","ISO 3166-2:HM"],["VA","VAT","336","ISO 3166-2:VA"],["HN","HND","340","ISO 3166-2:HN"],["HK","HKG","344","ISO 3166-2:HK"],["HU","HUN","348","ISO 3166-2:HU"],["IS","ISL","352","ISO 3166-2:IS"],["IN","IND","356","ISO 3166-2:IN"],["ID","IDN","360","ISO 3166-2:ID"],["IR","IRN","364","ISO 3166-2:IR"],["IQ","IRQ","368","ISO 3166-2:IQ"],["IE","IRL","372","ISO 3166-2:IE"],["IL","ISR","376","ISO 3166-2:IL"],["IT","ITA","380","ISO 3166-2:IT"],["JM","JAM","388","ISO 3166-2:JM"],["JP","JPN","392","ISO 3166-2:JP"],["JO","JOR","400","ISO 3166-2:JO"],["KZ","KAZ","398","ISO 3166-2:KZ"],["KE","KEN","404","ISO 3166-2:KE"],["KI","KIR","296","ISO 3166-2:KI"],["KP","PRK","408","ISO 3166-2:KP"],["KR","KOR","410","ISO 3166-2:KR"],["KW","KWT","414","ISO 3166-2:KW"],["KG","KGZ","417","ISO 3166-2:KG"],["LA","LAO","418","ISO 3166-2:LA"],["LV","LVA","428","ISO 3166-2:LV"],["LB","LBN","422","ISO 3166-2:LB"],["LS","LSO","426","ISO 3166-2:LS"],["LR","LBR","430","ISO 3166-2:LR"],["LY","LBY","434","ISO 3166-2:LY"],["LI","LIE","438","ISO 3166-2:LI"],["LT","LTU","440","ISO 3166-2:LT"],["LU","LUX","442","ISO 3166-2:LU"],["MO","MAC","446","ISO 3166-2:MO"],["MG","MDG","450","ISO 3166-2:MG"],["MW","MWI","454","ISO 3166-2:MW"],["MY","MYS","458","ISO 3166-2:MY"],["MV","MDV","462","ISO 3166-2:MV"],["ML","MLI","466","ISO 3166-2:ML"],["MT","MLT","470","ISO 3166-2:MT"],["MH","MHL","584","ISO 3166-2:MH"],["MQ","MTQ","474","ISO 3166-2:MQ"],["MR","MRT","478","ISO 3166-2:MR"],["MU","MUS","480","ISO 3166-2:MU"],["YT","MYT","175","ISO 3166-2:YT"],["MX","MEX","484","ISO 3166-2:MX"],["FM","FSM","583","ISO 3166-2:FM"],["MD","MDA","498","ISO 3166-2:MD"],["MC","MCO","492","ISO 3166-2:MC"],["MN","MNG","496","ISO 3166-2:MN"],["MS","MSR","500","ISO 3166-2:MS"],["MA","MAR","504","ISO 3166-2:MA"],["MZ","MOZ","508","ISO 3166-2:MZ"],["MM","MMR","104","ISO 3166-2:MM"],["NA","NAM","516","ISO 3166-2:NA"],["NR","NRU","520","ISO 3166-2:NR"],["NP","NPL","524","ISO 3166-2:NP"],["NL","NLD","528","ISO 3166-2:NL"],["NC","NCL","540","ISO 3166-2:NC"],["NZ","NZL","554","ISO 3166-2:NZ"],["NI","NIC","558","ISO 3166-2:NI"],["NE","NER","562","ISO 3166-2:NE"],["NG","NGA","566","ISO 3166-2:NG"],["NU","NIU","570","ISO 3166-2:NU"],["NF","NFK","574","ISO 3166-2:NF"],["MP","MNP","580","ISO 3166-2:MP"],["MK","MKD","807","ISO 3166-2:MK"],["NO","NOR","578","ISO 3166-2:NO"],["OM","OMN","512","ISO 3166-2:OM"],["PK","PAK","586","ISO 3166-2:PK"],["PW","PLW","585","ISO 3166-2:PW"],["PS","PSE","275","ISO 3166-2:PS"],["PA","PAN","591","ISO 3166-2:PA"],["PG","PNG","598","ISO 3166-2:PG"],["PY","PRY","600","ISO 3166-2:PY"],["PE","PER","604","ISO 3166-2:PE"],["PH","PHL","608","ISO 3166-2:PH"],["PN","PCN","612","ISO 3166-2:PN"],["PL","POL","616","ISO 3166-2:PL"],["PT","PRT","620","ISO 3166-2:PT"],["PR","PRI","630","ISO 3166-2:PR"],["QA","QAT","634","ISO 3166-2:QA"],["RE","REU","638","ISO 3166-2:RE"],["RO","ROU","642","ISO 3166-2:RO"],["RU","RUS","643","ISO 3166-2:RU"],["RW","RWA","646","ISO 3166-2:RW"],["SH","SHN","654","ISO 3166-2:SH"],["KN","KNA","659","ISO 3166-2:KN"],["LC","LCA","662","ISO 3166-2:LC"],["PM","SPM","666","ISO 3166-2:PM"],["VC","VCT","670","ISO 3166-2:VC"],["WS","WSM","882","ISO 3166-2:WS"],["SM","SMR","674","ISO 3166-2:SM"],["ST","STP","678","ISO 3166-2:ST"],["SA","SAU","682","ISO 3166-2:SA"],["SN","SEN","686","ISO 3166-2:SN"],["SC","SYC","690","ISO 3166-2:SC"],["SL","SLE","694","ISO 3166-2:SL"],["SG","SGP","702","ISO 3166-2:SG"],["SK","SVK","703","ISO 3166-2:SK"],["SI","SVN","705","ISO 3166-2:SI"],["SB","SLB","090","ISO 3166-2:SB"],["SO","SOM","706","ISO 3166-2:SO"],["ZA","ZAF","710","ISO 3166-2:ZA"],["GS","SGS","239","ISO 3166-2:GS"],["ES","ESP","724","ISO 3166-2:ES"],["LK","LKA","144","ISO 3166-2:LK"],["SD","SDN","729","ISO 3166-2:SD"],["SR","SUR","740","ISO 3166-2:SR"],["SJ","SJM","744","ISO 3166-2:SJ"],["SZ","SWZ","748","ISO 3166-2:SZ"],["SE","SWE","752","ISO 3166-2:SE"],["CH","CHE","756","ISO 3166-2:CH"],["SY","SYR","760","ISO 3166-2:SY"],["TW","TWN","158","ISO 3166-2:TW"],["TJ","TJK","762","ISO 3166-2:TJ"],["TZ","TZA","834","ISO 3166-2:TZ"],["TH","THA","764","ISO 3166-2:TH"],["TL","TLS","626","ISO 3166-2:TL"],["TG","TGO","768","ISO 3166-2:TG"],["TK","TKL","772","ISO 3166-2:TK"],["TO","TON","776","ISO 3166-2:TO"],["TT","TTO","780","ISO 3166-2:TT"],["TN","TUN","788","ISO 3166-2:TN"],["TR","TUR","792","ISO 3166-2:TR"],["TM","TKM","795","ISO 3166-2:TM"],["TC","TCA","796","ISO 3166-2:TC"],["TV","TUV","798","ISO 3166-2:TV"],["UG","UGA","800","ISO 3166-2:UG"],["UA","UKR","804","ISO 3166-2:UA"],["AE","ARE","784","ISO 3166-2:AE"],["GB","GBR","826","ISO 3166-2:GB"],["US","USA","840","ISO 3166-2:US"],["UM","UMI","581","ISO 3166-2:UM"],["UY","URY","858","ISO 3166-2:UY"],["UZ","UZB","860","ISO 3166-2:UZ"],["VU","VUT","548","ISO 3166-2:VU"],["VE","VEN","862","ISO 3166-2:VE"],["VN","VNM","704","ISO 3166-2:VN"],["VG","VGB","092","ISO 3166-2:VG"],["VI","VIR","850","ISO 3166-2:VI"],["WF","WLF","876","ISO 3166-2:WF"],["EH","ESH","732","ISO 3166-2:EH"],["YE","YEM","887","ISO 3166-2:YE"],["ZM","ZMB","894","ISO 3166-2:ZM"],["ZW","ZWE","716","ISO 3166-2:ZW"],["AX","ALA","248","ISO 3166-2:AX"],["BQ","BES","535","ISO 3166-2:BQ"],["CW","CUW","531","ISO 3166-2:CW"],["GG","GGY","831","ISO 3166-2:GG"],["IM","IMN","833","ISO 3166-2:IM"],["JE","JEY","832","ISO 3166-2:JE"],["ME","MNE","499","ISO 3166-2:ME"],["BL","BLM","652","ISO 3166-2:BL"],["MF","MAF","663","ISO 3166-2:MF"],["RS","SRB","688","ISO 3166-2:RS"],["SX","SXM","534","ISO 3166-2:SX"],["SS","SSD","728","ISO 3166-2:SS"],["XK","XKX","983","ISO 3166-2:XK"]]')},51085:(ve,ne,x)=>{"use strict";x.d(ne,{i:()=>pe,W:()=>Te});class Z{constructor(G){this.stop=()=>this.runAll("stop"),this.animations=G.filter(Boolean)}get finished(){return Promise.all(this.animations.map(G=>G.finished))}getAll(G){return this.animations[0][G]}setAll(G,se){for(let Ee=0;Ee<this.animations.length;Ee++)this.animations[Ee][G]=se}attachTimeline(G){const se=this.animations.map(Ee=>Ee.attachTimeline(G));return()=>{se.forEach((Ee,Re)=>{Ee&&Ee(),this.animations[Re].stop()})}}get time(){return this.getAll("time")}set time(G){this.setAll("time",G)}get speed(){return this.getAll("speed")}set speed(G){this.setAll("speed",G)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let G=0;for(let se=0;se<this.animations.length;se++)G=Math.max(G,this.animations[se].duration);return G}runAll(G){this.animations.forEach(se=>se[G]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class e extends Z{then(G,se){return this.finished.finally(G).then(()=>{})}}var _=x(58233),A=x(91242),n=x(17105),s=x(63593),o=x(66032),c=x(7661),i=x(34826);const m=(Y,G,se)=>{const Ee=G-Y;return((se-Y)%Ee+Ee)%Ee+Y};var h=x(1813);function p(Y,G){return(0,h.h)(Y)?Y[m(0,Y.length,G)]:Y}var f=x(26270),T=x(58396),O=x(11199);function b(Y){return typeof Y=="object"&&!Array.isArray(Y)}function P(Y,G,se,Ee){return typeof Y=="string"&&b(G)?(0,O.K)(Y,se,Ee):Y instanceof NodeList?Array.from(Y):Array.isArray(Y)?Y:[Y]}function d(Y,G,se){return Y*(G+1)}function u(Y,G,se,Ee){return typeof G=="number"?G:G.startsWith("-")||G.startsWith("+")?Math.max(0,Y+parseFloat(G)):G==="<"?se:Ee.get(G)??Y}var I=x(60171),E=x(49394);function g(Y,G,se){for(let Ee=0;Ee<Y.length;Ee++){const Re=Y[Ee];Re.at>G&&Re.at<se&&((0,E.Ai)(Y,Re),Ee--)}}function C(Y,G,se,Ee,Re,Ue){g(Y,Re,Ue);for(let $=0;$<G.length;$++)Y.push({value:G[$],at:(0,I.k)(Re,Ue,Ee[$]),easing:p(se,$)})}function v(Y,G){for(let se=0;se<Y.length;se++)Y[se]=Y[se]/(G+1)}function y(Y,G){return Y.at===G.at?Y.value===null?1:G.value===null?-1:0:Y.at-G.at}const l="easeInOut",R=20;function D(Y,{defaultTransition:G={},...se}={},Ee,Re){const Ue=G.duration||.3,$=new Map,te=new Map,le={},oe=new Map;let ue=0,ye=0,Ie=0;for(let Ne=0;Ne<Y.length;Ne++){const Ce=Y[Ne];if(typeof Ce=="string"){oe.set(Ce,ye);continue}else if(!Array.isArray(Ce)){oe.set(Ce.name,u(ye,Ce.at,ue,oe));continue}let[Ve,Le,xe={}]=Ce;xe.at!==void 0&&(ye=u(ye,xe.at,ue,oe));let Pe=0;const We=(je,Qe,Ze,Et=0,_t=0)=>{const Ye=re(je),{delay:Kt=0,times:Xe=(0,A.Z)(Ye),type:zt="keyframes",repeat:yt,repeatType:ni,repeatDelay:ii=0,...rn}=Qe;let{ease:it=G.ease||"easeOut",duration:Je}=Qe;const pr=typeof Kt=="function"?Kt(Et,_t):Kt,hr=Ye.length,fr=(0,n.W)(zt)?zt:Re?.[zt];if(hr<=2&&fr){let vt=100;if(hr===2&&B(Ye)){const gt=Ye[1]-Ye[0];vt=Math.abs(gt)}const Nt={...rn};Je!==void 0&&(Nt.duration=(0,c.f)(Je));const Ct=(0,s.X)(Nt,vt,fr);it=Ct.ease,Je=Ct.duration}Je??(Je=Ue);const mr=ye+pr;Xe.length===1&&Xe[0]===0&&(Xe[1]=1);const Er=Xe.length-Ye.length;if(Er>0&&(0,o.f)(Xe,Er),Ye.length===1&&Ye.unshift(null),yt){(0,i.V)(yt<R,"Repeat count too high, must be less than 20"),Je=d(Je,yt);const vt=[...Ye],Nt=[...Xe];it=Array.isArray(it)?[...it]:[it];const Ct=[...it];for(let gt=0;gt<yt;gt++){Ye.push(...vt);for(let At=0;At<vt.length;At++)Xe.push(Nt[At]+(gt+1)),it.push(At===0?"linear":p(Ct,At-1))}v(Xe,yt)}const _r=mr+Je;C(Ze,Ye,it,Xe,mr,_r),Pe=Math.max(pr+Je,Pe),Ie=Math.max(_r,Ie)};if((0,T.S)(Ve)){const je=U(Ve,te);We(Le,xe,H("default",je))}else{const je=P(Ve,Le,Ee,le),Qe=je.length;for(let Ze=0;Ze<Qe;Ze++){Le=Le,xe=xe;const Et=je[Ze],_t=U(Et,te);for(const Ye in Le)We(Le[Ye],X(xe,Ye),H(Ye,_t),Ze,Qe)}}ue=ye,ye+=Pe}return te.forEach((Ne,Ce)=>{for(const Ve in Ne){const Le=Ne[Ve];Le.sort(y);const xe=[],Pe=[],We=[];for(let Qe=0;Qe<Le.length;Qe++){const{at:Ze,value:Et,easing:_t}=Le[Qe];xe.push(Et),Pe.push((0,f.q)(0,Ie,Ze)),We.push(_t||"easeOut")}Pe[0]!==0&&(Pe.unshift(0),xe.unshift(xe[0]),We.unshift(l)),Pe[Pe.length-1]!==1&&(Pe.push(1),xe.push(null)),$.has(Ce)||$.set(Ce,{keyframes:{},transition:{}});const je=$.get(Ce);je.keyframes[Ve]=xe,je.transition[Ve]={...G,duration:Ie,ease:We,times:Pe,...se}}}),$}function U(Y,G){return!G.has(Y)&&G.set(Y,{}),G.get(Y)}function H(Y,G){return G[Y]||(G[Y]=[]),G[Y]}function re(Y){return Array.isArray(Y)?Y:[Y]}function X(Y,G){return Y&&Y[G]?{...Y,...Y[G]}:{...Y}}const F=Y=>typeof Y=="number",B=Y=>Y.every(F);var z=x(77599),S=x(14618),L=x(22227),J=x(36339),V=x(9639),ie=x(72678),k=x(35082);function K(Y,G){return Y in G}class Q extends k.B{constructor(){super(...arguments),this.type="object"}readValueFromInstance(G,se){if(K(se,G)){const Ee=G[se];if(typeof Ee=="string"||typeof Ee=="number")return Ee}}getBaseTargetFromProps(){}removeValueFromRenderState(G,se){delete se.output[G]}measureInstanceViewportBox(){return(0,ie.ge)()}build(G,se){Object.assign(G.output,se)}renderInstance(G,{output:se}){Object.assign(G,se)}sortInstanceNodePosition(){return 0}}function q(Y){const G={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},se=(0,L.x)(Y)?new J.l(G):new V.M(G);se.mount(Y),z.C.set(Y,se)}function de(Y){const G={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},se=new Q(G);se.mount(Y),z.C.set(Y,se)}var me=x(75400);function fe(Y,G){return(0,T.S)(Y)||typeof Y=="number"||typeof Y=="string"&&!b(G)}function Oe(Y,G,se,Ee){const Re=[];if(fe(Y,G))Re.push((0,me.z)(Y,b(G)&&G.default||G,se&&(se.default||se)));else{const Ue=P(Y,G,Ee),$=Ue.length;(0,i.V)(!!$,"No valid elements provided.");for(let te=0;te<$;te++){const le=Ue[te],oe=le instanceof Element?q:de;z.C.has(le)||oe(le);const ue=z.C.get(le),ye={...se};"delay"in ye&&typeof ye.delay=="function"&&(ye.delay=ye.delay(te,$)),Re.push(...(0,S.$)(ue,{...G,transition:ye},{}))}}return Re}function Se(Y,G,se){const Ee=[];return D(Y,G,se,{spring:_.o}).forEach(({keyframes:Ue,transition:$},te)=>{Ee.push(...Oe(te,Ue,$))}),Ee}function ge(Y){return Array.isArray(Y)&&Y.some(Array.isArray)}function Te(Y){function G(se,Ee,Re){let Ue=[];ge(se)?Ue=Se(se,Ee,Y):Ue=Oe(se,Ee,Re,Y);const $=new e(Ue);return Y&&Y.animations.push($),$}return G}const pe=Te()},54184:(ve,ne,x)=>{"use strict";x.d(ne,{y$:()=>p});var Z=x(44349),e=x(70851),_=x(44489);const A=["brand","neutral","inherit"],n=["small","medium","large","xLarge"],s="al-Spinner-rt-f10",o="al-Spinner-anmtncntnr-f10",c="al-Spinner-crcl-f10",i="al-Spinner-cntnr1-f10",m="al-Spinner-cntnr2-f10",h="al-Spinner-cntnr3-f10",p=(0,Z.forwardRef)(function({className:T,color:O="brand",size:b="medium",style:P,...d},u){const I=A.includes(O),E=n.includes(b);return(0,_.jsx)("div",{className:(0,e.$)(s,T),"data-color":I?O:void 0,"data-size":E?b:void 0,...d,ref:u,style:{...P,...I?null:{"--color":O},...E?null:{"--size":b}},children:(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("div",{className:(0,e.$)(c,i),children:(0,_.jsx)("svg",{viewBox:"0 0 50 50",children:(0,_.jsx)("circle",{cx:"25",cy:"25",fill:"none",r:"20",strokeWidth:"10"})})}),(0,_.jsx)("div",{className:(0,e.$)(c,m),children:(0,_.jsx)("svg",{viewBox:"0 0 50 50",children:(0,_.jsx)("circle",{cx:"25",cy:"25",fill:"none",r:"20",strokeWidth:"10"})})}),(0,_.jsx)("div",{className:(0,e.$)(c,h),children:(0,_.jsx)("svg",{viewBox:"0 0 50 50",children:(0,_.jsx)("circle",{cx:"25",cy:"25",fill:"none",r:"20",strokeWidth:"10"})})})]})})})},54731:(ve,ne,x)=>{"use strict";x.d(ne,{d:()=>n});var Z=x(13803),e=x(44349),_=x(2634),A=x(26437);function n(s){const o=(0,A.M)(()=>(0,Z.OQ)(s)),{isStatic:c}=(0,e.useContext)(_.Q);if(c){const[,i]=(0,e.useState)(s);(0,e.useEffect)(()=>o.on("change",i),[])}return o}},60107:(ve,ne,x)=>{"use strict";var Z=x(65981),e=x(15110),_=x(30943).f,A=Z("unscopables"),n=Array.prototype;n[A]===void 0&&_(n,A,{configurable:!0,value:e(null)}),ve.exports=function(s){n[A][s]=!0}},61157:(ve,ne,x)=>{"use strict";x.r(ne),x.d(ne,{medium:()=>A,small:()=>_});var Z=x(44349),e=x(44489);const _=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 16 16",ref:o,...s,children:(0,e.jsx)("path",{d:"M9.947 1.806a2.753 2.753 0 0 0-3.894 0l-4.247 4.247a2.753 2.753 0 0 0 0 3.894l4.247 4.247a2.753 2.753 0 0 0 3.894 0l4.247-4.247a2.753 2.753 0 0 0 0-3.894zm-.947 9.194a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-.247-6.25v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 1.5 0"})})}),{__al_size:"small"}),A=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 24 24",ref:o,...s,children:(0,e.jsx)("path",{d:"M9.175 3.17a3.996 3.996 0 0 1 5.65 0l6.005 6.005a3.996 3.996 0 0 1 0 5.65l-6.004 6.005a3.996 3.996 0 0 1-5.651 0l-6.005-6.004a3.996 3.996 0 0 1 0-5.651zm4.075 11.83a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0m-.25-7a1 1 0 1 0-2 0v3.5a1 1 0 1 0 2 0z"})})}),{__al_size:"medium"})},63087:ve=>{(function(ne){if(1)ve.exports=ne();else var x})(function(){var ne,x,Z;return function(){function e(_,A,n){function s(i,m){if(!A[i]){if(!_[i]){var h=void 0;if(!m&&h)return require(i,!0);if(o)return o(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var f=A[i]={exports:{}};_[i][0].call(f.exports,function(T){var O=_[i][1][T];return s(O||T)},f,f.exports,e,_,A,n)}return A[i].exports}for(var o=void 0,c=0;c<n.length;c++)s(n[c]);return s}return e}()({1:[function(e,_,A){"use strict";var n=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(A,"__esModule",{value:!0}),A.PromiseGlobal=void 0;var s=n(e("promise-polyfill")),o=typeof Promise<"u"?Promise:s.default;A.PromiseGlobal=o},{"promise-polyfill":68}],2:[function(e,_,A){"use strict";var n=e("./lib/promise"),s={};function o(c){var i,m=JSON.stringify(c);if(!c.forceScriptReload&&(i=s[m],i))return i;var h=document.createElement("script"),p=c.dataAttributes||{},f=c.container||document.head;return h.src=c.src,h.id=c.id||"",h.async=!0,c.crossorigin&&h.setAttribute("crossorigin",""+c.crossorigin),Object.keys(p).forEach(function(T){h.setAttribute("data-"+T,""+p[T])}),i=new n.PromiseGlobal(function(T,O){h.addEventListener("load",function(){T(h)}),h.addEventListener("error",function(){O(new Error(c.src+" failed to load."))}),h.addEventListener("abort",function(){O(new Error(c.src+" has aborted."))}),f.appendChild(h)}),s[m]=i,i}o.clearCache=function(){s={}},_.exports=o},{"./lib/promise":1}],3:[function(e,_,A){_.exports=e("./dist/load-script")},{"./dist/load-script":2}],4:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,/Android/i.test(s)}},{}],5:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,/CrOS/i.test(s)}},{}],6:[function(e,_,A){"use strict";var n=e("./is-edge"),s=e("./is-samsung"),o=e("./is-duckduckgo"),c=e("./is-opera"),i=e("./is-silk");_.exports=function(h){return h=h||window.navigator.userAgent,(h.indexOf("Chrome")!==-1||h.indexOf("CriOS")!==-1)&&!n(h)&&!s(h)&&!o(h)&&!c(h)&&!i(h)}},{"./is-duckduckgo":7,"./is-edge":8,"./is-opera":18,"./is-samsung":19,"./is-silk":20}],7:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("DuckDuckGo/")!==-1}},{}],8:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("Edge/")!==-1}},{}],9:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,/Firefox/i.test(s)}},{}],10:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("MSIE 9")!==-1}},{}],11:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,/FxiOS/i.test(s)}},{}],12:[function(e,_,A){"use strict";var n=e("./is-ios");function s(o){return/\bGSA\b/.test(o)}_.exports=function(c){return c=c||window.navigator.userAgent,n(c)&&s(c)}},{"./is-ios":16}],13:[function(e,_,A){"use strict";var n=e("./is-ios"),s=e("./is-ios-firefox"),o=/webkit/i;function c(h){return o.test(h)}function i(h){return h.indexOf("CriOS")>-1}function m(h){return h.indexOf("FBAN")>-1}_.exports=function(p){return p=p||window.navigator.userAgent,n(p)&&c(p)&&!i(p)&&!s(p)&&!m(p)}},{"./is-ios":16,"./is-ios-firefox":11}],14:[function(e,_,A){"use strict";var n=e("./is-ios"),s=e("./is-ios-google-search-app");_.exports=function(c){return c=c||window.navigator.userAgent,n(c)?s(c)?!0:/.+AppleWebKit(?!.*Safari)/i.test(c):!1}},{"./is-ios":16,"./is-ios-google-search-app":12}],15:[function(e,_,A){"use strict";var n=e("./is-ios-webview");_.exports=function(o,c){return c=typeof c<"u"?c:window.statusbar.visible,n(o)&&c}},{"./is-ios-webview":14}],16:[function(e,_,A){"use strict";var n=e("./is-ipados");_.exports=function(o,c,i){c===void 0&&(c=!0),o=o||window.navigator.userAgent;var m=/iPhone|iPod|iPad/i.test(o);return c?m||n(o,i):m}},{"./is-ipados":17}],17:[function(e,_,A){"use strict";_.exports=function(s,o){return s=s||window.navigator.userAgent,o=o||window.document,/Mac|iPad/i.test(s)&&"ontouchend"in o}},{}],18:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("OPR/")!==-1||s.indexOf("Opera/")!==-1||s.indexOf("OPT/")!==-1}},{}],19:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,/SamsungBrowser/i.test(s)}},{}],20:[function(e,_,A){"use strict";_.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("Silk/")!==-1}},{}],21:[function(e,_,A){"use strict";var n=48,s=e("./is-android"),o=e("./is-ios-firefox"),c=e("./is-ios-webview"),i=e("./is-chrome"),m=e("./is-samsung"),h=e("./is-duckduckgo");function p(b){b=b||window.navigator.userAgent;var P=b.match(/CriOS\/(\d+)\./);if(!P)return!1;var d=parseInt(P[1],10);return d<n}function f(b){return b=b||window.navigator.userAgent,b.indexOf("Opera Mini")>-1}function T(b){var P=/Version\/[\d.]+/i;return b=b||window.navigator.userAgent,s(b)?P.test(b)&&!f(b)&&!h(b):!1}function O(b){return!i(b)&&!m(b)&&/samsung/i.test(b)}_.exports=function(P){return P=P||window.navigator.userAgent,!(c(P)||o(P)||T(P)||f(P)||p(P)||O(P))}},{"./is-android":4,"./is-chrome":6,"./is-duckduckgo":7,"./is-ios-firefox":11,"./is-ios-webview":14,"./is-samsung":19}],22:[function(e,_,A){_.exports=e("./dist/is-android")},{"./dist/is-android":4}],23:[function(e,_,A){_.exports=e("./dist/is-chrome-os")},{"./dist/is-chrome-os":5}],24:[function(e,_,A){_.exports=e("./dist/is-chrome")},{"./dist/is-chrome":6}],25:[function(e,_,A){_.exports=e("./dist/is-firefox")},{"./dist/is-firefox":9}],26:[function(e,_,A){_.exports=e("./dist/is-ie9")},{"./dist/is-ie9":10}],27:[function(e,_,A){_.exports=e("./dist/is-ios-safari")},{"./dist/is-ios-safari":13}],28:[function(e,_,A){_.exports=e("./dist/is-ios-webview")},{"./dist/is-ios-webview":14}],29:[function(e,_,A){_.exports=e("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":15}],30:[function(e,_,A){_.exports=e("./dist/is-ios")},{"./dist/is-ios":16}],31:[function(e,_,A){_.exports=e("./dist/is-samsung")},{"./dist/is-samsung":19}],32:[function(e,_,A){_.exports=e("./dist/supports-popups")},{"./dist/supports-popups":21}],33:[function(e,_,A){"use strict";var n=function(){function s(){this._events={}}return s.prototype.on=function(o,c){this._events[o]?this._events[o].push(c):this._events[o]=[c]},s.prototype.off=function(o,c){var i=this._events[o];if(i){var m=i.indexOf(c);i.splice(m,1)}},s.prototype._emit=function(o){for(var c=[],i=1;i<arguments.length;i++)c[i-1]=arguments[i];var m=this._events[o];m&&m.forEach(function(h){h.apply(void 0,c)})},s.prototype.hasListener=function(o){var c=this._events[o];return c?c.length>0:!1},s.createChild=function(o){o.prototype=Object.create(s.prototype,{constructor:o})},s}();_.exports=n},{}],34:[function(e,_,A){"use strict";var n=typeof Promise<"u"?Promise:null,s=function(){function o(c){var i=this;if(typeof c=="function"){this._promise=new o.Promise(c);return}this._promise=new o.Promise(function(m,h){i._resolveFunction=m,i._rejectFunction=h}),c=c||{},this._onResolve=c.onResolve||o.defaultOnResolve,this._onReject=c.onReject||o.defaultOnReject,o.shouldCatchExceptions(c)&&this._promise.catch(function(){}),this._resetState()}return o.defaultOnResolve=function(c){return o.Promise.resolve(c)},o.defaultOnReject=function(c){return o.Promise.reject(c)},o.setPromise=function(c){o.Promise=c},o.shouldCatchExceptions=function(c){return c.hasOwnProperty("suppressUnhandledPromiseMessage")?!!c.suppressUnhandledPromiseMessage:!!o.suppressUnhandledPromiseMessage},o.all=function(c){return o.Promise.all(c)},o.allSettled=function(c){return o.Promise.allSettled(c)},o.race=function(c){return o.Promise.race(c)},o.reject=function(c){return o.Promise.reject(c)},o.resolve=function(c){return o.Promise.resolve(c)},o.prototype.then=function(){for(var c,i=[],m=0;m<arguments.length;m++)i[m]=arguments[m];return(c=this._promise).then.apply(c,i)},o.prototype.catch=function(){for(var c,i=[],m=0;m<arguments.length;m++)i[m]=arguments[m];return(c=this._promise).catch.apply(c,i)},o.prototype.resolve=function(c){var i=this;return this.isFulfilled?this:(this._setResolved(),o.Promise.resolve().then(function(){return i._onResolve(c)}).then(function(m){i._resolveFunction(m)}).catch(function(m){i._resetState(),i.reject(m)}),this)},o.prototype.reject=function(c){var i=this;return this.isFulfilled?this:(this._setRejected(),o.Promise.resolve().then(function(){return i._onReject(c)}).then(function(m){i._setResolved(),i._resolveFunction(m)}).catch(function(m){return i._rejectFunction(m)}),this)},o.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},o.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},o.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},o.Promise=n,o}();_.exports=s},{}],35:[function(e,_,A){"use strict";var n=e("./lib/set-attributes"),s=e("./lib/default-attributes"),o=e("./lib/assign");_.exports=function(i){i===void 0&&(i={});var m=document.createElement("iframe"),h=o.assign({},s.defaultAttributes,i);return h.style&&typeof h.style!="string"&&(o.assign(m.style,h.style),delete h.style),n.setAttributes(m,h),m.getAttribute("id")||(m.id=m.name),m}},{"./lib/assign":36,"./lib/default-attributes":37,"./lib/set-attributes":38}],36:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.assign=void 0;function n(s){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return o.forEach(function(i){typeof i=="object"&&Object.keys(i).forEach(function(m){s[m]=i[m]})}),s}A.assign=n},{}],37:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.defaultAttributes=void 0,A.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],38:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.setAttributes=void 0;function n(s,o){for(var c in o)if(o.hasOwnProperty(c)){var i=o[c];i==null?s.removeAttribute(c):s.setAttribute(c,i)}}A.setAttributes=n},{}],39:[function(e,_,A){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,c=s==="x"?o:o&3|8;return c.toString(16)})}_.exports=n},{}],40:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0});function n(s){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];setTimeout(function(){try{s.apply(void 0,o)}catch(i){console.log("Error in callback function"),console.log(i)}},1)}}A.deferred=n},{}],41:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0});function n(s){var o=!1;return function(){for(var c=[],i=0;i<arguments.length;i++)c[i]=arguments[i];o||(o=!0,s.apply(void 0,c))}}A.once=n},{}],42:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0});function n(s,o){if(!o)return s;s.then(function(c){return o(null,c)}).catch(function(c){return o(c)})}A.promiseOrCallback=n},{}],43:[function(e,_,A){"use strict";var n=e("./lib/deferred"),s=e("./lib/once"),o=e("./lib/promise-or-callback");function c(i){return function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];var p,f=m[m.length-1];return typeof f=="function"&&(p=m.pop(),p=s.once(n.deferred(p))),o.promiseOrCallback(i.apply(this,m),p)}}c.wrapPrototype=function(i,m){m===void 0&&(m={});var h=m.ignoreMethods||[],p=m.transformPrivateMethods===!0,f=Object.getOwnPropertyNames(i.prototype).filter(function(T){var O,b=T!=="constructor"&&typeof i.prototype[T]=="function",P=h.indexOf(T)===-1;return p?O=!0:O=T.charAt(0)!=="_",b&&O&&P});return f.forEach(function(T){var O=i.prototype[T];i.prototype[T]=c(O)}),i},_.exports=c},{"./lib/deferred":40,"./lib/once":41,"./lib/promise-or-callback":42}],44:[function(e,_,A){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(u){for(var I,E=1,g=arguments.length;E<g;E++){I=arguments[E];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(u[C]=I[C])}return u},n.apply(this,arguments)},s=e("./lib/card-types"),o=e("./lib/add-matching-cards-to-results"),c=e("./lib/is-valid-input-type"),i=e("./lib/find-best-match"),m=e("./lib/clone"),h={},p={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},f=[p.VISA,p.MASTERCARD,p.AMERICAN_EXPRESS,p.DINERS_CLUB,p.DISCOVER,p.JCB,p.UNIONPAY,p.MAESTRO,p.ELO,p.MIR,p.HIPER,p.HIPERCARD],T=m.clone(f);function O(u){return h[u]||s[u]}function b(){return T.map(function(u){return m.clone(O(u))})}function P(u,I){I===void 0&&(I=!1);var E=T.indexOf(u);if(!I&&E===-1)throw new Error('"'+u+'" is not a supported card type.');return E}function d(u){var I=[];if(!c.isValidInputType(u))return I;if(u.length===0)return b();T.forEach(function(g){var C=O(g);o.addMatchingCardsToResults(u,C,I)});var E=i.findBestMatch(I);return E?[E]:I}d.getTypeInfo=function(u){return m.clone(O(u))},d.removeCard=function(u){var I=P(u);T.splice(I,1)},d.addCard=function(u){var I=P(u.type,!0);h[u.type]=u,I===-1&&T.push(u.type)},d.updateCard=function(u,I){var E=h[u]||s[u];if(!E)throw new Error('"'+u+"\" is not a recognized type. Use `addCard` instead.'");if(I.type&&E.type!==I.type)throw new Error("Cannot overwrite type parameter.");var g=m.clone(E);g=n(n({},g),I),h[g.type]=g},d.changeOrder=function(u,I){var E=P(u);T.splice(E,1),T.splice(I,0,u)},d.resetModifications=function(){T=m.clone(f),h={}},d.types=p,_.exports=d},{"./lib/add-matching-cards-to-results":45,"./lib/card-types":46,"./lib/clone":47,"./lib/find-best-match":48,"./lib/is-valid-input-type":49}],45:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.addMatchingCardsToResults=void 0;var n=e("./clone"),s=e("./matches");function o(c,i,m){var h,p;for(h=0;h<i.patterns.length;h++){var f=i.patterns[h];if(s.matches(c,f)){var T=n.clone(i);Array.isArray(f)?p=String(f[0]).length:p=String(f).length,c.length>=p&&(T.matchStrength=p),m.push(T);break}}}A.addMatchingCardsToResults=o},{"./clone":47,"./matches":50}],46:[function(e,_,A){"use strict";var n={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}};_.exports=n},{}],47:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.clone=void 0;function n(s){return s?JSON.parse(JSON.stringify(s)):null}A.clone=n},{}],48:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.findBestMatch=void 0;function n(o){var c=o.filter(function(i){return i.matchStrength}).length;return c>0&&c===o.length}function s(o){return n(o)?o.reduce(function(c,i){return!c||Number(c.matchStrength)<Number(i.matchStrength)?i:c}):null}A.findBestMatch=s},{}],49:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isValidInputType=void 0;function n(s){return typeof s=="string"||s instanceof String}A.isValidInputType=n},{}],50:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.matches=void 0;function n(c,i,m){var h=String(i).length,p=c.substr(0,h),f=parseInt(p,10);return i=parseInt(String(i).substr(0,p.length),10),m=parseInt(String(m).substr(0,p.length),10),f>=i&&f<=m}function s(c,i){return i=String(i),i.substring(0,c.length)===c.substring(0,i.length)}function o(c,i){return Array.isArray(i)?n(c,i[0],i[1]):s(c,i)}A.matches=o},{}],51:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Framebus=void 0;var n=e("./lib"),s=typeof window<"u"&&window.Promise,o=function(){function c(i){i===void 0&&(i={}),this.origin=i.origin||"*",this.channel=i.channel||"",this.verifyDomain=i.verifyDomain,this.targetFrames=i.targetFrames||[],this.limitBroadcastToFramesArray=!!i.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return c.setPromise=function(i){c.Promise=i},c.target=function(i){return new c(i)},c.prototype.addTargetFrame=function(i){this.limitBroadcastToFramesArray&&this.targetFrames.push(i)},c.prototype.include=function(i){return i==null||i.Window==null||i.constructor!==i.Window?!1:(n.childWindows.push(i),!0)},c.prototype.target=function(i){return c.target(i)},c.prototype.emit=function(i,m,h){if(this.isDestroyed)return!1;var p=this.origin;if(i=this.namespaceEvent(i),(0,n.isntString)(i)||(0,n.isntString)(p))return!1;typeof m=="function"&&(h=m,m=void 0);var f=(0,n.packagePayload)(i,p,m,h);return f?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(T){(0,n.sendMessage)(T,f,p)}):(0,n.broadcast)(f,{origin:p,frame:window.top||window.self}),!0):!1},c.prototype.emitAsPromise=function(i,m){var h=this;return new c.Promise(function(p,f){var T=h.emit(i,m,function(O){p(O)});T||f(new Error('Listener not added for "'.concat(i,'"')))})},c.prototype.on=function(i,m){if(this.isDestroyed)return!1;var h=this,p=this.origin,f=m;return i=this.namespaceEvent(i),(0,n.subscriptionArgsInvalid)(i,f,p)?!1:(this.hasAdditionalChecksForOnListeners&&(f=function(){for(var T=[],O=0;O<arguments.length;O++)T[O]=arguments[O];h.passesVerifyDomainCheck(this&&this.origin)&&h.hasMatchingTargetFrame(this&&this.source)&&m.apply(void 0,T)}),this.listeners.push({eventName:i,handler:f,originalHandler:m}),n.subscribers[p]=n.subscribers[p]||{},n.subscribers[p][i]=n.subscribers[p][i]||[],n.subscribers[p][i].push(f),!0)},c.prototype.off=function(i,m){var h=m;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var p=0;p<this.listeners.length;p++){var f=this.listeners[p];f.originalHandler===m&&(h=f.handler)}i=this.namespaceEvent(i);var T=this.origin;if((0,n.subscriptionArgsInvalid)(i,h,T))return!1;var O=n.subscribers[T]&&n.subscribers[T][i];if(!O)return!1;for(var p=0;p<O.length;p++)if(O[p]===h)return O.splice(p,1),!0;return!1},c.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var i=0;i<this.listeners.length;i++){var m=this.listeners[i];this.off(m.eventName,m.handler)}this.listeners.length=0}},c.prototype.passesVerifyDomainCheck=function(i){return this.verifyDomain?this.checkOrigin(i):!0},c.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(i){return i instanceof HTMLIFrameElement?i.contentWindow:i}).filter(function(i){return i}):[]},c.prototype.hasMatchingTargetFrame=function(i){if(!this.limitBroadcastToFramesArray)return!0;var m=this.targetFramesAsWindows().find(function(h){return h===i});return!!m},c.prototype.checkOrigin=function(i){var m,h=document.createElement("a");h.href=location.href,h.protocol==="https:"?m=h.host.replace(/:443$/,""):h.protocol==="http:"?m=h.host.replace(/:80$/,""):m=h.host;var p=h.protocol+"//"+m;return p===i?!0:this.verifyDomain?this.verifyDomain(i):!0},c.prototype.namespaceEvent=function(i){return this.channel?"".concat(this.channel,":").concat(i):i},c.Promise=s,c}();A.Framebus=o},{"./lib":59}],52:[function(e,_,A){"use strict";var n=e("./lib"),s=e("./framebus");(0,n.attach)(),_.exports=s.Framebus},{"./framebus":51,"./lib":59}],53:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.detach=A.attach=void 0;var n=e("./"),s=!1;function o(){s||typeof window>"u"||(s=!0,window.addEventListener("message",n.onMessage,!1))}A.attach=o;function c(){s=!1,window.removeEventListener("message",n.onMessage,!1)}A.detach=c},{"./":59}],54:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.broadcastToChildWindows=void 0;var n=e("./");function s(o,c,i){for(var m=n.childWindows.length-1;m>=0;m--){var h=n.childWindows[m];h.closed?n.childWindows.splice(m,1):i!==h&&(0,n.broadcast)(o,{origin:c,frame:h.top})}}A.broadcastToChildWindows=s},{"./":59}],55:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.broadcast=void 0;var n=e("./");function s(o,c){var i=0,m,h=c.origin,p=c.frame;try{for(p.postMessage(o,h),(0,n.hasOpener)(p)&&p.opener.top!==window.top&&s(o,{origin:h,frame:p.opener.top});m=p.frames[i];)s(o,{origin:h,frame:m}),i++}catch{}}A.broadcast=s},{"./":59}],56:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.subscribers=A.childWindows=A.prefix=void 0,A.prefix="/*framebus*/",A.childWindows=[],A.subscribers={}},{}],57:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.dispatch=void 0;var n=e("./");function s(o,c,i,m,h){if(n.subscribers[o]&&n.subscribers[o][c]){var p=[];i&&p.push(i),m&&p.push(m);for(var f=0;f<n.subscribers[o][c].length;f++)n.subscribers[o][c][f].apply(h,p)}}A.dispatch=s},{"./":59}],58:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.hasOpener=void 0;function n(s){return!(s.top!==s||s.opener==null||s.opener===s||s.opener.closed===!0)}A.hasOpener=n},{}],59:[function(e,_,A){"use strict";var n=this&&this.__createBinding||(Object.create?function(o,c,i,m){m===void 0&&(m=i);var h=Object.getOwnPropertyDescriptor(c,i);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[i]}}),Object.defineProperty(o,m,h)}:function(o,c,i,m){m===void 0&&(m=i),o[m]=c[i]}),s=this&&this.__exportStar||function(o,c){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(c,i)&&n(c,o,i)};Object.defineProperty(A,"__esModule",{value:!0}),s(e("./attach"),A),s(e("./broadcast-to-child-windows"),A),s(e("./broadcast"),A),s(e("./constants"),A),s(e("./dispatch"),A),s(e("./has-opener"),A),s(e("./is-not-string"),A),s(e("./message"),A),s(e("./package-payload"),A),s(e("./send-message"),A),s(e("./subscribe-replier"),A),s(e("./subscription-args-invalid"),A),s(e("./types"),A),s(e("./unpack-payload"),A)},{"./attach":53,"./broadcast":55,"./broadcast-to-child-windows":54,"./constants":56,"./dispatch":57,"./has-opener":58,"./is-not-string":60,"./message":61,"./package-payload":62,"./send-message":63,"./subscribe-replier":64,"./subscription-args-invalid":65,"./types":66,"./unpack-payload":67}],60:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isntString=void 0;function n(s){return typeof s!="string"}A.isntString=n},{}],61:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.onMessage=void 0;var n=e("./");function s(o){if(!(0,n.isntString)(o.data)){var c=(0,n.unpackPayload)(o);if(c){var i=c.eventData,m=c.reply;(0,n.dispatch)("*",c.event,i,m,o),(0,n.dispatch)(o.origin,c.event,i,m,o),(0,n.broadcastToChildWindows)(o.data,c.origin,o.source)}}}A.onMessage=s},{"./":59}],62:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.packagePayload=void 0;var n=e("./");function s(o,c,i,m){var h,p={event:o,origin:c};typeof m=="function"&&(p.reply=(0,n.subscribeReplier)(m,c)),p.eventData=i;try{h=n.prefix+JSON.stringify(p)}catch(f){throw new Error("Could not stringify event: ".concat(f.message))}return h}A.packagePayload=s},{"./":59}],63:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.sendMessage=void 0;function n(s,o,c){try{s.postMessage(o,c)}catch{}}A.sendMessage=n},{}],64:[function(e,_,A){"use strict";var n=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(A,"__esModule",{value:!0}),A.subscribeReplier=void 0;var s=e("../framebus"),o=n(e("@braintree/uuid"));function c(i,m){var h=(0,o.default)();function p(f,T){i(f,T),s.Framebus.target({origin:m}).off(h,p)}return s.Framebus.target({origin:m}).on(h,p),h}A.subscribeReplier=c},{"../framebus":51,"@braintree/uuid":39}],65:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.subscriptionArgsInvalid=void 0;var n=e("./");function s(o,c,i){return(0,n.isntString)(o)||typeof c!="function"?!0:(0,n.isntString)(i)}A.subscriptionArgsInvalid=s},{"./":59}],66:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0})},{}],67:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.unpackPayload=void 0;var n=e("./");function s(o){var c;if(o.data.slice(0,n.prefix.length)!==n.prefix)return!1;try{c=JSON.parse(o.data.slice(n.prefix.length))}catch{return!1}if(c.reply){var i=o.origin,m=o.source,h=c.reply;c.reply=function(f){if(m){var T=(0,n.packagePayload)(h,i,f);T&&m.postMessage(T,i)}}}return c}A.unpackPayload=s},{"./":59}],68:[function(e,_,A){"use strict";function n(d){var u=this.constructor;return this.then(function(I){return u.resolve(d()).then(function(){return I})},function(I){return u.resolve(d()).then(function(){return u.reject(I)})})}function s(d){var u=this;return new u(function(I,E){if(!(d&&typeof d.length<"u"))return E(new TypeError(typeof d+" "+d+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var g=Array.prototype.slice.call(d);if(g.length===0)return I([]);var C=g.length;function v(l,R){if(R&&(typeof R=="object"||typeof R=="function")){var D=R.then;if(typeof D=="function"){D.call(R,function(U){v(l,U)},function(U){g[l]={status:"rejected",reason:U},--C===0&&I(g)});return}}g[l]={status:"fulfilled",value:R},--C===0&&I(g)}for(var y=0;y<g.length;y++)v(y,g[y])})}var o=setTimeout;function c(d){return!!(d&&typeof d.length<"u")}function i(){}function m(d,u){return function(){d.apply(u,arguments)}}function h(d){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof d!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],P(d,this)}function p(d,u){for(;d._state===3;)d=d._value;if(d._state===0){d._deferreds.push(u);return}d._handled=!0,h._immediateFn(function(){var I=d._state===1?u.onFulfilled:u.onRejected;if(I===null){(d._state===1?f:T)(u.promise,d._value);return}var E;try{E=I(d._value)}catch(g){T(u.promise,g);return}f(u.promise,E)})}function f(d,u){try{if(u===d)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var I=u.then;if(u instanceof h){d._state=3,d._value=u,O(d);return}else if(typeof I=="function"){P(m(I,u),d);return}}d._state=1,d._value=u,O(d)}catch(E){T(d,E)}}function T(d,u){d._state=2,d._value=u,O(d)}function O(d){d._state===2&&d._deferreds.length===0&&h._immediateFn(function(){d._handled||h._unhandledRejectionFn(d._value)});for(var u=0,I=d._deferreds.length;u<I;u++)p(d,d._deferreds[u]);d._deferreds=null}function b(d,u,I){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof u=="function"?u:null,this.promise=I}function P(d,u){var I=!1;try{d(function(E){I||(I=!0,f(u,E))},function(E){I||(I=!0,T(u,E))})}catch(E){if(I)return;I=!0,T(u,E)}}h.prototype.catch=function(d){return this.then(null,d)},h.prototype.then=function(d,u){var I=new this.constructor(i);return p(this,new b(d,u,I)),I},h.prototype.finally=n,h.all=function(d){return new h(function(u,I){if(!c(d))return I(new TypeError("Promise.all accepts an array"));var E=Array.prototype.slice.call(d);if(E.length===0)return u([]);var g=E.length;function C(y,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var R=l.then;if(typeof R=="function"){R.call(l,function(D){C(y,D)},I);return}}E[y]=l,--g===0&&u(E)}catch(D){I(D)}}for(var v=0;v<E.length;v++)C(v,E[v])})},h.allSettled=s,h.resolve=function(d){return d&&typeof d=="object"&&d.constructor===h?d:new h(function(u){u(d)})},h.reject=function(d){return new h(function(u,I){I(d)})},h.race=function(d){return new h(function(u,I){if(!c(d))return I(new TypeError("Promise.race accepts an array"));for(var E=0,g=d.length;E<g;E++)h.resolve(d[E]).then(u,I)})},h._immediateFn=typeof setImmediate=="function"&&function(d){setImmediate(d)}||function(d){o(d,0)},h._unhandledRejectionFn=function(u){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",u)},_.exports=h},{}],69:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isIos=A.isIE9=A.isSamsungBrowser=A.isAndroidChrome=A.isKitKatWebview=void 0;var n=typeof window<"u"&&window.navigator&&window.navigator.userAgent,s=e("@braintree/browser-detection/is-android"),o=e("@braintree/browser-detection/is-chrome-os"),c=e("@braintree/browser-detection/is-chrome"),i=e("@braintree/browser-detection/is-ios");A.isIos=i;var m=e("@braintree/browser-detection/is-ie9");A.isIE9=m;var h=/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;function p(b){return!c(b)&&b.indexOf("Samsung")>-1}function f(b){return b===void 0&&(b=n),s(b)&&h.test(b)}A.isKitKatWebview=f;function T(b){return b===void 0&&(b=n),(s(b)||o(b))&&c(b)}A.isAndroidChrome=T;function O(b){return b===void 0&&(b=n),/SamsungBrowser/.test(b)||p(b)}A.isSamsungBrowser=O},{"@braintree/browser-detection/is-android":22,"@braintree/browser-detection/is-chrome":24,"@braintree/browser-detection/is-chrome-os":23,"@braintree/browser-detection/is-ie9":26,"@braintree/browser-detection/is-ios":30}],70:[function(e,_,A){"use strict";var n=e("./lib/device");_.exports=function(){return!(0,n.isSamsungBrowser)()}},{"./lib/device":69}],71:[function(e,_,A){_.exports=e("./dist/supports-input-formatting")},{"./dist/supports-input-formatting":70}],72:[function(e,_,A){"use strict";var n=e("../lib/braintree-error"),s=e("./errors"),o=e("../lib/assign").assign,c=e("../lib/methods"),i=e("../lib/convert-methods-to-error"),m=e("@braintree/wrap-promise");function h(p){this._client=p.client}h.prototype.getRewardsBalance=function(p){var f=p.nonce,T;return f?(T=o({_meta:{source:"american-express"},paymentMethodNonce:f},p),delete T.nonce,this._client.request({method:"get",endpoint:"payment_methods/amex_rewards_balance",data:T}).catch(function(O){return Promise.reject(new n({type:s.AMEX_NETWORK_ERROR.type,code:s.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express rewards balance.",details:{originalError:O}}))})):Promise.reject(new n({type:s.AMEX_NONCE_REQUIRED.type,code:s.AMEX_NONCE_REQUIRED.code,message:"getRewardsBalance must be called with a nonce."}))},h.prototype.getExpressCheckoutProfile=function(p){return p.nonce?this._client.request({method:"get",endpoint:"payment_methods/amex_express_checkout_cards/"+p.nonce,data:{_meta:{source:"american-express"},paymentMethodNonce:p.nonce}}).catch(function(f){return Promise.reject(new n({type:s.AMEX_NETWORK_ERROR.type,code:s.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express Checkout nonce profile.",details:{originalError:f}}))}):Promise.reject(new n({type:s.AMEX_NONCE_REQUIRED.type,code:s.AMEX_NONCE_REQUIRED.code,message:"getExpressCheckoutProfile must be called with a nonce."}))},h.prototype.teardown=function(){return i(this,c(h.prototype)),Promise.resolve()},_.exports=m.wrapPrototype(h)},{"../lib/assign":121,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/methods":155,"./errors":73,"@braintree/wrap-promise":43}],73:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={AMEX_NONCE_REQUIRED:{type:n.types.MERCHANT,code:"AMEX_NONCE_REQUIRED"},AMEX_NETWORK_ERROR:{type:n.types.NETWORK,code:"AMEX_NETWORK_ERROR"}}},{"../lib/braintree-error":124}],74:[function(e,_,A){"use strict";var n=e("./american-express"),s=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i="3.97.0",m=e("@braintree/wrap-promise");function h(p){var f="American Express";return s.verify({name:f,client:p.client,authorization:p.authorization}).then(function(){return o.create({authorization:p.authorization,client:p.client,debug:p.debug,assetsUrl:c.create(p.authorization),name:f})}).then(function(T){return p.client=T,new n(p)})}_.exports={create:m(h),VERSION:i}},{"../lib/basic-component-verification":122,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./american-express":72,"@braintree/wrap-promise":43}],75:[function(e,_,A){"use strict";var n=e("../lib/braintree-error"),s=e("../lib/analytics"),o=e("./errors"),c=e("../lib/methods"),i=e("../lib/convert-methods-to-error"),m=e("@braintree/wrap-promise");function h(p){this._instantiatedWithClient=!p.useDeferredClient,this._client=p.client,this._createPromise=p.createPromise,this._client&&this._setMerchantIdentifier()}h.prototype._waitForClient=function(){return this._client?Promise.resolve():this._createPromise.then(function(p){this._client=p,this._setMerchantIdentifier()}.bind(this))},h.prototype._setMerchantIdentifier=function(){var p=this._client.getConfiguration().gatewayConfiguration.applePayWeb;p&&Object.defineProperty(this,"merchantIdentifier",{value:p.merchantIdentifier,configurable:!1,writable:!1})},h.prototype.createPaymentRequest=function(p){return this._instantiatedWithClient?this._createPaymentRequestSynchronously(p):this._waitForClient().then(function(){return this._createPaymentRequestSynchronously(p)}.bind(this))},h.prototype._createPaymentRequestSynchronously=function(p){var f=this._client.getConfiguration().gatewayConfiguration.applePayWeb,T={countryCode:f.countryCode,currencyCode:f.currencyCode,merchantCapabilities:f.merchantCapabilities||["supports3DS"],supportedNetworks:f.supportedNetworks.map(function(O){return O==="mastercard"?"masterCard":O})};return Object.assign({},T,p)},h.prototype.performValidation=function(p){var f=this;return!p||!p.validationURL?Promise.reject(new n(o.APPLE_PAY_VALIDATION_URL_REQUIRED)):this._waitForClient().then(function(){var T={validationUrl:p.validationURL,domainName:p.domainName||window.location.hostname,merchantIdentifier:p.merchantIdentifier||f.merchantIdentifier};return p.displayName!=null&&(T.displayName=p.displayName),f._client.request({method:"post",endpoint:"apple_pay_web/sessions",data:{_meta:{source:"apple-pay"},applePayWebSession:T}})}).then(function(T){return s.sendEvent(f._client,"applepay.performValidation.succeeded"),Promise.resolve(T)}).catch(function(T){return s.sendEvent(f._client,"applepay.performValidation.failed"),T.code==="CLIENT_REQUEST_ERROR"?Promise.reject(new n({type:o.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,code:o.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,message:o.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,details:{originalError:T.details.originalError}})):Promise.reject(new n({type:o.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,code:o.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,message:o.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,details:{originalError:T}}))})},h.prototype.tokenize=function(p){var f=this;return p.token?this._waitForClient().then(function(){return f._client.request({method:"post",endpoint:"payment_methods/apple_payment_tokens",data:{_meta:{source:"apple-pay"},applePaymentToken:Object.assign({},p.token,{paymentData:btoa(JSON.stringify(p.token.paymentData))})}})}).then(function(T){return s.sendEvent(f._client,"applepay.tokenize.succeeded"),Promise.resolve(T.applePayCards[0])}).catch(function(T){return s.sendEvent(f._client,"applepay.tokenize.failed"),Promise.reject(new n({type:o.APPLE_PAY_TOKENIZATION.type,code:o.APPLE_PAY_TOKENIZATION.code,message:o.APPLE_PAY_TOKENIZATION.message,details:{originalError:T}}))}):Promise.reject(new n(o.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))},h.prototype.teardown=function(){return i(this,c(h.prototype)),Promise.resolve()},_.exports=m.wrapPrototype(h)},{"../lib/analytics":119,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/methods":155,"./errors":76,"@braintree/wrap-promise":43}],76:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={APPLE_PAY_NOT_ENABLED:{type:n.types.MERCHANT,code:"APPLE_PAY_NOT_ENABLED",message:"Apple Pay is not enabled for this merchant."},APPLE_PAY_VALIDATION_URL_REQUIRED:{type:n.types.MERCHANT,code:"APPLE_PAY_VALIDATION_URL_REQUIRED",message:"performValidation must be called with a validationURL."},APPLE_PAY_MERCHANT_VALIDATION_NETWORK:{type:n.types.NETWORK,code:"APPLE_PAY_MERCHANT_VALIDATION_NETWORK",message:"A network error occurred when validating the Apple Pay merchant."},APPLE_PAY_MERCHANT_VALIDATION_FAILED:{type:n.types.MERCHANT,code:"APPLE_PAY_MERCHANT_VALIDATION_FAILED",message:"Make sure you have registered your domain name in the Braintree Control Panel."},APPLE_PAY_PAYMENT_TOKEN_REQUIRED:{type:n.types.MERCHANT,code:"APPLE_PAY_PAYMENT_TOKEN_REQUIRED",message:"tokenize must be called with a payment token."},APPLE_PAY_TOKENIZATION:{type:n.types.NETWORK,code:"APPLE_PAY_TOKENIZATION",message:"A network error occurred when processing the Apple Pay payment."}}},{"../lib/braintree-error":124}],77:[function(e,_,A){"use strict";var n=e("./apple-pay"),s=e("../lib/analytics"),o=e("../lib/braintree-error"),c=e("../lib/basic-component-verification"),i=e("../lib/create-assets-url"),m=e("../lib/create-deferred-client"),h=e("./errors"),p="3.97.0",f=e("@braintree/wrap-promise");function T(O){var b="Apple Pay";return c.verify({name:b,client:O.client,authorization:O.authorization}).then(function(){var P,d=m.create({authorization:O.authorization,client:O.client,debug:O.debug,assetsUrl:i.create(O.authorization),name:b}).then(function(u){return u.getConfiguration().gatewayConfiguration.applePayWeb?(s.sendEvent(u,"applepay.initialized"),u):Promise.reject(new o(h.APPLE_PAY_NOT_ENABLED))});return O.createPromise=d,P=new n(O),O.useDeferredClient?P:d.then(function(u){return P._client=u,P})})}_.exports={create:f(T),VERSION:p}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./apple-pay":75,"./errors":76,"@braintree/wrap-promise":43}],78:[function(e,_,A){"use strict";var n=e("./constants").BRAINTREE_VERSION,s=e("./request/graphql"),o=e("./request"),c=e("../lib/is-verified-domain"),i=e("../lib/braintree-error"),m=e("../lib/convert-to-braintree-error"),h=e("./get-configuration").getConfiguration,p=e("../lib/create-authorization-data"),f=e("../lib/add-metadata"),T=e("@braintree/wrap-promise"),O=e("../lib/once"),b=e("../lib/deferred"),P=e("../lib/assign").assign,d=e("../lib/analytics"),u=e("./errors"),I=e("../lib/constants").VERSION,E=e("../lib/constants").GRAPHQL_URLS,g=e("../lib/methods"),C=e("../lib/convert-methods-to-error"),v=e("../lib/assets"),y=e("../lib/constants").FRAUDNET_FNCLS,l=e("../lib/constants").FRAUDNET_SOURCE,R=e("../lib/constants").FRAUDNET_URL,D={};function U(X){var F,B;if(X=X||{},F=JSON.stringify(X),B=X.gatewayConfiguration,!B)throw new i(u.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(z){if(z in B&&!c(B[z]))throw new i({type:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:z+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(F)},this._request=o,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=B.clientApiUrl+"/v1/",B.graphQL){if(!c(B.graphQL.url))throw new i({type:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new s({graphQL:B.graphQL})}}U.initialize=function(X){var F,B,z=D[X.authorization];if(z)return d.sendEvent(z,"custom.client.load.cached"),z;try{B=p(X.authorization)}catch{return Promise.reject(new i(u.CLIENT_INVALID_AUTHORIZATION))}return z=h(B).then(function(S){return X.debug&&(S.isDebug=!0),S.authorization=X.authorization,F=new U(S),F}),D[X.authorization]=z,d.sendEvent(z,"custom.client.load.initialized"),z.then(function(S){return d.sendEvent(F,"custom.client.load.succeeded"),S}).catch(function(S){return delete D[X.authorization],Promise.reject(S)})},U.clearCache=function(){D={}},U.prototype._findOrCreateFraudnetJSON=function(X){var F=document.querySelector('script[fncls="'+y+'"]'),B,z,S,L;F||(F=document.body.appendChild(document.createElement("script")),F.type="application/json",F.setAttribute("fncls",y)),B=this.getConfiguration(),z={rda_tenant:"bt_card",mid:B.gatewayConfiguration.merchantId},S=B.authorizationFingerprint,S&&S.split("&").forEach(function(J){var V=J.split("=");V[0]==="customer_id"&&V.length>1&&(z.cid=V[1])}),L={f:X.substr(0,32),fp:z,bu:!1,s:l},F.text=JSON.stringify(L)},U.prototype.request=function(X,F){var B=this,z=new Promise(function(S,L){var J,V,ie,k,K=!!(X.endpoint==="payment_methods/credit_cards"&&B.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if(X.api!=="graphQLApi"&&(X.method?X.endpoint||(J="options.endpoint"):J="options.method"),J)throw new i({type:u.CLIENT_OPTION_REQUIRED.type,code:u.CLIENT_OPTION_REQUIRED.code,message:J+" is required when making a request."});if("api"in X?V=X.api:V="clientApi",k={method:X.method,graphQL:B._graphQL,timeout:X.timeout,metadata:B._configuration.analyticsMetadata},V==="clientApi")ie=B._clientApiBaseUrl,k.data=f(B._configuration,X.data);else if(V==="graphQLApi")ie=E[B._configuration.gatewayConfiguration.environment],X.endpoint="",k.method="post",k.data=P({clientSdkMetadata:{platform:B._configuration.analyticsMetadata.platform,source:B._configuration.analyticsMetadata.source,integration:B._configuration.analyticsMetadata.integration,sessionId:B._configuration.analyticsMetadata.sessionId,version:I}},X.data),k.headers=re(B._configuration);else throw new i({type:u.CLIENT_OPTION_INVALID.type,code:u.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});k.url=ie+X.endpoint,k.sendAnalyticsEvent=function(Q){d.sendEvent(B,Q)},B._request(k,function(Q,q,de){var me,fe;if(fe=H(de,Q),fe){L(fe);return}if(V==="graphQLApi"&&q.errors){L(m(q.errors,{type:u.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:u.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:u.CLIENT_GRAPHQL_REQUEST_ERROR.message}));return}me=P({_httpStatus:de},q),K&&me.creditCards&&me.creditCards.length>0&&(B._findOrCreateFraudnetJSON(me.creditCards[0].nonce),v.loadScript({src:R,forceScriptReload:!0})),S(me)})});if(typeof F=="function"){F=O(b(F)),z.then(function(S){F(null,S,S._httpStatus)}).catch(function(S){var L=S&&S.details&&S.details.httpStatus;F(S,null,L)});return}return z};function H(X,F){var B;if(X===-1?B=new i(u.CLIENT_REQUEST_TIMEOUT):X===401?B=new i(u.CLIENT_AUTHORIZATION_INVALID):X===403?B=new i(u.CLIENT_AUTHORIZATION_INSUFFICIENT):X===429?B=new i(u.CLIENT_RATE_LIMITED):X>=500?B=new i(u.CLIENT_GATEWAY_NETWORK):(X<200||X>=400)&&(B=m(F,{type:u.CLIENT_REQUEST_ERROR.type,code:u.CLIENT_REQUEST_ERROR.code,message:u.CLIENT_REQUEST_ERROR.message})),B)return B.details=B.details||{},B.details.httpStatus=X,B}U.prototype.toJSON=function(){return this.getConfiguration()},U.prototype.getVersion=function(){return I},U.prototype.teardown=T(function(){var X=this;return delete D[X.getConfiguration().authorization],C(X,g(U.prototype)),Promise.resolve()});function re(X){var F=X.authorizationFingerprint||X.authorization;return{Authorization:"Bearer "+F,"Braintree-Version":n}}_.exports=U},{"../lib/add-metadata":118,"../lib/analytics":119,"../lib/assets":120,"../lib/assign":121,"../lib/braintree-error":124,"../lib/constants":126,"../lib/convert-methods-to-error":127,"../lib/convert-to-braintree-error":128,"../lib/create-authorization-data":130,"../lib/deferred":132,"../lib/is-verified-domain":153,"../lib/methods":155,"../lib/once":156,"./constants":79,"./errors":80,"./get-configuration":81,"./request":92,"./request/graphql":90,"@braintree/wrap-promise":43}],79:[function(e,_,A){"use strict";_.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],80:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:n.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:n.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:n.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:n.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:n.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:n.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:n.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:n.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:n.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:n.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:n.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":124}],81:[function(e,_,A){"use strict";var n=e("../lib/braintree-error"),s=e("@braintree/wrap-promise"),o=e("./request"),c=e("@braintree/uuid"),i=e("../lib/constants"),m=e("./errors"),h=e("./request/graphql"),p=e("../lib/constants").GRAPHQL_URLS,f=e("../lib/is-date-string-before-or-on"),T=e("./constants").BRAINTREE_VERSION;function O(b){return new Promise(function(P,d){var u,I,E,g,C=c(),v={merchantAppId:window.location.host,platform:i.PLATFORM,sdkVersion:i.VERSION,source:i.SOURCE,integration:i.INTEGRATION,integrationType:i.INTEGRATION,sessionId:C};I=b.attrs,E=b.configUrl,I._meta=v,I.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION,I.configVersion="3",g={url:E,method:"GET",data:I},I.authorizationFingerprint&&b.graphQL?(f(b.graphQL.date,T)&&(g.graphQL=new h({graphQL:{url:b.graphQL.url,features:["configuration"]}})),g.metadata=v):I.tokenizationKey&&(g.graphQL=new h({graphQL:{url:p[b.environment],features:["configuration"]}}),g.metadata=v),o(g,function(y,l,R){var D;if(y){R===403?D=m.CLIENT_AUTHORIZATION_INSUFFICIENT:R===401?D=m.CLIENT_AUTHORIZATION_INVALID:D=m.CLIENT_GATEWAY_NETWORK,d(new n({type:D.type,code:D.code,message:D.message,details:{originalError:y}}));return}u={authorizationType:I.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:I.authorizationFingerprint,analyticsMetadata:v,gatewayConfiguration:l},P(u)})})}_.exports={getConfiguration:s(O)}},{"../lib/braintree-error":124,"../lib/constants":126,"../lib/is-date-string-before-or-on":151,"./constants":79,"./errors":80,"./request":92,"./request/graphql":90,"@braintree/uuid":39,"@braintree/wrap-promise":43}],82:[function(e,_,A){"use strict";var n=e("../lib/braintree-error"),s=e("./client"),o="3.97.0",c=e("@braintree/wrap-promise"),i=e("../lib/errors");function m(h){return h.authorization?s.initialize(h):Promise.reject(new n({type:i.INSTANTIATION_OPTION_REQUIRED.type,code:i.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}_.exports={create:c(m),VERSION:o}},{"../lib/braintree-error":124,"../lib/errors":135,"./client":78,"@braintree/wrap-promise":43}],83:[function(e,_,A){"use strict";var n=e("../../lib/querystring"),s=e("../../lib/assign").assign,o=e("./prep-body"),c=e("./parse-body"),i=e("./xhr"),m=i.isAvailable,h=e("./graphql/request"),p=e("./default-request"),f=1,T=408;function O(u){return!u||u===T}function b(u){var I=!u.data&&u.errors&&u.errors[0]&&u.errors[0].extensions&&u.errors[0].extensions.errorClass;return I==="UNKNOWN"||I==="INTERNAL"}function P(u,I,E){var g,C,v,y,l,R,D,U=u.url,H=u.graphQL,re=u.timeout,X=i.getRequestObject(),F=E,B=!!(H&&H.isGraphQLRequest(U,u.data));u.headers=s({"Content-Type":"application/json"},u.headers),B?v=new h(u):v=new p(u),U=v.getUrl(),y=v.getBody(),l=v.getMethod(),R=v.getHeaders(),l==="GET"&&(U=n.queryify(U,y),y=null),m?X.onreadystatechange=function(){if(X.readyState===4){if(X.status===0&&B){delete u.graphQL,P(u,I,E);return}if(D=c(X.responseText),C=v.adaptResponseBody(D),g=v.determineStatus(X.status,D),g>=400||g<200){if(B&&b(D)){delete u.graphQL,P(u,I,E);return}if(I<f&&O(g)){I++,P(u,I,E);return}F(C||"error",null,g||500)}else F(null,C,g)}}:(u.headers&&(U=n.queryify(U,R)),X.onload=function(){F(null,c(X.responseText),X.status)},X.onerror=function(){F("error",null,500)},X.onprogress=function(){},X.ontimeout=function(){F("timeout",null,-1)});try{X.open(l,U,!0)}catch(z){if(!B)throw z;delete u.graphQL,P(u,I,E);return}X.timeout=re,m&&Object.keys(R).forEach(function(z){X.setRequestHeader(z,R[z])});try{X.send(o(l,y))}catch{}}function d(u,I){P(u,0,I)}_.exports={request:d}},{"../../lib/assign":121,"../../lib/querystring":157,"./default-request":84,"./graphql/request":91,"./parse-body":93,"./prep-body":94,"./xhr":95}],84:[function(e,_,A){"use strict";function n(s){this._url=s.url,this._data=s.data,this._method=s.method,this._headers=s.headers}n.prototype.getUrl=function(){return this._url},n.prototype.getBody=function(){return this._data},n.prototype.getMethod=function(){return this._method},n.prototype.getHeaders=function(){return this._headers},n.prototype.adaptResponseBody=function(s){return s},n.prototype.determineStatus=function(s){return s},_.exports=n},{}],85:[function(e,_,A){"use strict";var n=e("./error"),s=e("../../../../lib/assign").assign,o={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function c(h,p){var f;return h.data&&!h.errors?f=i(h,p):f=n(h),f}function i(h,p){var f=h.data.clientConfiguration,T;return T={environment:f.environment.toLowerCase(),clientApiUrl:f.clientApiUrl,assetsUrl:f.assetsUrl,analytics:{url:f.analyticsUrl},merchantId:f.merchantId,venmo:"off"},f.supportedFeatures&&(T.graphQL={url:p._graphQL._config.url,features:f.supportedFeatures.map(function(O){return O.toLowerCase()})}),f.braintreeApi&&(T.braintreeApi=f.braintreeApi),f.applePayWeb&&(T.applePayWeb=f.applePayWeb,T.applePayWeb.supportedNetworks=m(f.applePayWeb.supportedCardBrands,o.applePayWeb),delete T.applePayWeb.supportedCardBrands),f.ideal&&(T.ideal=f.ideal),f.kount&&(T.kount={kountMerchantId:f.kount.merchantId}),f.creditCard?(T.challenges=f.creditCard.challenges.map(function(O){return O.toLowerCase()}),T.creditCards={supportedCardTypes:m(f.creditCard.supportedCardBrands,o.creditCard)},T.threeDSecureEnabled=f.creditCard.threeDSecureEnabled,T.threeDSecure=f.creditCard.threeDSecure):(T.challenges=[],T.creditCards={supportedCardTypes:[]},T.threeDSecureEnabled=!1),f.googlePay&&(T.androidPay={displayName:f.googlePay.displayName,enabled:!0,environment:f.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:f.googlePay.googleAuthorization,paypalClientId:f.googlePay.paypalClientId,supportedNetworks:m(f.googlePay.supportedCardBrands,o.googlePay)}),f.venmo&&(T.payWithVenmo={merchantId:f.venmo.merchantId,accessToken:f.venmo.accessToken,environment:f.venmo.environment.toLowerCase(),enrichedCustomerDataEnabled:f.venmo.enrichedCustomerDataEnabled}),f.paypal?(T.paypalEnabled=!0,T.paypal=s({},f.paypal),T.paypal.currencyIsoCode=T.paypal.currencyCode,T.paypal.environment=T.paypal.environment.toLowerCase(),delete T.paypal.currencyCode):T.paypalEnabled=!1,f.unionPay&&(T.unionPay={enabled:!0,merchantAccountId:f.unionPay.merchantAccountId}),f.visaCheckout&&(T.visaCheckout={apikey:f.visaCheckout.apiKey,encryptionKey:f.visaCheckout.encryptionKey,externalClientId:f.visaCheckout.externalClientId,supportedCardTypes:m(f.visaCheckout.supportedCardBrands,o.visaCheckout)}),f.masterpass&&(T.masterpass={merchantCheckoutId:f.masterpass.merchantCheckoutId,supportedNetworks:m(f.masterpass.supportedCardBrands,o.masterpass)}),f.usBankAccount&&(T.usBankAccount={routeId:f.usBankAccount.routeId,plaid:{publicKey:f.usBankAccount.plaidPublicKey}}),T}function m(h,p){return h.reduce(function(f,T){return p.hasOwnProperty(T)?f.concat(p[T]):f},[])}_.exports=c},{"../../../../lib/assign":121,"./error":87}],86:[function(e,_,A){"use strict";var n=e("./error"),s={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},o={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},c={PSDTWO:"psd2"};function i(h){var p;return h.data&&!h.errors?p=m(h):p=n(h),p}function m(h){var p=h.data.tokenizeCreditCard,f=p.creditCard,T=f.last4?f.last4.substr(2,4):"",O=f.binData,b,P;return O&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(d){O[d]?O[d]=o[O[d]]:O[d]="Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(d){O[d]||(O[d]="Unknown")})),b={creditCards:[{binData:O,consumed:!1,description:T?"ending in "+T:"",nonce:p.token,details:{cardholderName:f.cardholderName,expirationMonth:f.expirationMonth,expirationYear:f.expirationYear,bin:f.bin||"",cardType:s[f.brandCode]||"Unknown",lastFour:f.last4||"",lastTwo:T},type:"CreditCard",threeDSecureInfo:null}]},p.authenticationInsight&&(P=p.authenticationInsight.customerAuthenticationRegulationEnvironment,b.creditCards[0].authenticationInsight={regulationEnvironment:c[P]||P.toLowerCase()}),b}_.exports=i},{"./error":87}],87:[function(e,_,A){"use strict";function n(h){var p,f=h.errors&&h.errors[0]&&h.errors[0].extensions&&h.errors[0].extensions.errorClass;return f==="VALIDATION"?p=o(h):f?p=s(h):p={error:{message:"There was a problem serving your request"},fieldErrors:[]},p}function s(h){return{error:{message:h.errors[0].message},fieldErrors:[]}}function o(h){var p=c(h.errors);return p.length===0?{error:{message:h.errors[0].message}}:{error:{message:m(p)},fieldErrors:p}}function c(h){var p=[];return h.forEach(function(f){f.extensions&&f.extensions.inputPath&&i(f.extensions.inputPath.slice(1),f,p)}),p}function i(h,p,f){var T,O=p.extensions.legacyCode,b=h[0];if(h.length===1){f.push({code:O,field:b,message:p.message});return}f.forEach(function(P){P.field===b&&(T=P)}),T||(T={field:b,fieldErrors:[]},f.push(T)),i(h.slice(1),p,T.fieldErrors)}function m(h){var p={creditCard:"Credit card is invalid"},f=h[0].field;return p[f]}_.exports=n},{}],88:[function(e,_,A){"use strict";var n="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment       enrichedCustomerDataEnabled    }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }";function s(){return{query:n,operationName:"ClientConfiguration"}}_.exports=s},{}],89:[function(e,_,A){"use strict";var n=e("../../../../lib/assign").assign;function s(m){var h=m.hasAuthenticationInsight,p="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!";return h&&(p+=", $authenticationInsightInput: AuthenticationInsightInput!"),p+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",h&&(p+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),p+="  } }",p}function o(m,h){var p=m.creditCard,f=p&&p.billingAddress,T=p&&p.expirationDate,O=p&&(p.expirationMonth||T&&T.split("/")[0].trim()),b=p&&(p.expirationYear||T&&T.split("/")[1].trim()),P={input:{creditCard:{number:p&&p.number,expirationMonth:O,expirationYear:b,cvv:p&&p.cvv,cardholderName:p&&p.cardholderName},options:{}}};return h.hasAuthenticationInsight&&(P.authenticationInsightInput={merchantAccountId:m.merchantAccountId}),f&&(P.input.creditCard.billingAddress=f),P.input=c(m,P.input),P}function c(m,h){var p;return m.creditCard&&m.creditCard.options&&typeof m.creditCard.options.validate=="boolean"?p=m.creditCard.options.validate:m.authorizationFingerprint&&m.tokenizationKey||m.authorizationFingerprint?p=!0:m.tokenizationKey&&(p=!1),typeof p=="boolean"&&(h.options=n({validate:p},h.options)),h}function i(m){var h={hasAuthenticationInsight:!!(m.authenticationInsight&&m.merchantAccountId)};return{query:s(h),variables:o(m,h),operationName:"TokenizeCreditCard"}}_.exports=i},{"../../../../lib/assign":121}],90:[function(e,_,A){"use strict";var n={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},s=["creditCard.options.unionPayEnrollment"];function o(i){this._config=i.graphQL}o.prototype.getGraphQLEndpoint=function(){return this._config.url},o.prototype.isGraphQLRequest=function(i,m){var h,p=this.getClientApiPath(i);return!this._isGraphQLEnabled()||!p||(h=this._config.features.some(function(f){return n[f]===p}),c(m))?!1:h},o.prototype.getClientApiPath=function(i){var m,h="/client_api/v1/",p=i.split(h);return p.length>1&&(m=p[1].split("?")[0]),m},o.prototype._isGraphQLEnabled=function(){return!!this._config};function c(i){return s.some(function(m){var h=m.split(".").reduce(function(p,f){return p&&p[f]},i);return h!==void 0})}_.exports=o},{}],91:[function(e,_,A){"use strict";var n=e("../../constants").BRAINTREE_VERSION,s=e("../../../lib/assign").assign,o=e("../../../lib/snake-case-to-camel-case"),c=e("./generators/credit-card-tokenization"),i=e("./adapters/credit-card-tokenization"),m=e("./generators/configuration"),h=e("./adapters/configuration"),p={"payment_methods/credit_cards":c,configuration:m},f={"payment_methods/credit_cards":i,configuration:h};function T(P){var d=P.graphQL.getClientApiPath(P.url);this._graphQL=P.graphQL,this._data=P.data,this._method=P.method,this._headers=P.headers,this._clientSdkMetadata={source:P.metadata.source,integration:P.metadata.integration,sessionId:P.metadata.sessionId},this._sendAnalyticsEvent=P.sendAnalyticsEvent||Function.prototype,this._generator=p[d],this._adapter=f[d],this._sendAnalyticsEvent("graphql.init")}T.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},T.prototype.getBody=function(){var P=b(this._data),d=this._generator(P),u=s({clientSdkMetadata:this._clientSdkMetadata},d);return JSON.stringify(u)},T.prototype.getMethod=function(){return"POST"},T.prototype.getHeaders=function(){var P,d;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),P=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),P=this._data.tokenizationKey),d={Authorization:"Bearer "+P,"Braintree-Version":n},s({},this._headers,d)},T.prototype.adaptResponseBody=function(P){return this._adapter(P,this)},T.prototype.determineStatus=function(P,d){var u,I;return P===200?(I=d.errors&&d.errors[0]&&d.errors[0].extensions&&d.errors[0].extensions.errorClass,d.data&&!d.errors?u=200:I==="VALIDATION"?u=422:I==="AUTHORIZATION"?u=403:I==="AUTHENTICATION"?u=401:O(I,d)?u=403:u=500):P?u=P:u=500,this._sendAnalyticsEvent("graphql.status."+P),this._sendAnalyticsEvent("graphql.determinedStatus."+u),u};function O(P,d){return!P&&d.errors[0].message}function b(P){var d={};return Object.keys(P).forEach(function(u){var I=o(u);typeof P[u]=="object"?d[I]=b(P[u]):typeof P[u]=="number"?d[I]=String(P[u]):d[I]=P[u]}),d}_.exports=T},{"../../../lib/assign":121,"../../../lib/snake-case-to-camel-case":159,"../../constants":79,"./adapters/configuration":85,"./adapters/credit-card-tokenization":86,"./generators/configuration":88,"./generators/credit-card-tokenization":89}],92:[function(e,_,A){"use strict";var n=e("../../lib/once"),s=e("./ajax-driver");_.exports=function(o,c){c=n(c||Function.prototype),o.method=(o.method||"GET").toUpperCase(),o.timeout=o.timeout==null?6e4:o.timeout,o.data=o.data||{},s.request(o,c)}},{"../../lib/once":156,"./ajax-driver":83}],93:[function(e,_,A){"use strict";_.exports=function(n){try{n=JSON.parse(n)}catch{}return n}},{}],94:[function(e,_,A){"use strict";_.exports=function(n,s){if(typeof n!="string")throw new Error("Method must be a string");return n.toLowerCase()!=="get"&&s!=null&&(s=typeof s=="string"?s:JSON.stringify(s)),s}},{}],95:[function(e,_,A){"use strict";var n=typeof window<"u"&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;function s(){return n?new window.XMLHttpRequest:new window.XDomainRequest}_.exports={isAvailable:n,getRequestObject:s}},{}],96:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:n.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:n.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:n.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":124}],97:[function(e,_,A){"use strict";var n=e("../lib/constants").FRAUDNET_FNCLS,s=e("../lib/constants").FRAUDNET_SOURCE,o=e("../lib/constants").FRAUDNET_URL,c=e("../lib/assets").loadScript,i;function m(P){var d=new p;return P=P||{},!P.sessionId&&i?(d.sessionId=i,Promise.resolve(d)):d.initialize(P)}function h(){i=null}function p(){}p.prototype.initialize=function(P){var d=P.environment,u=this;return this.sessionId=P.sessionId||T(),P.sessionId||(i=this.sessionId),this._beaconId=O(this.sessionId),this._parameterBlock=b(this.sessionId,this._beaconId,d),c({src:o}).then(function(I){return u._thirdPartyBlock=I,u}).catch(function(){return null})},p.prototype.teardown=function(){f(document.querySelector('iframe[title="ppfniframe"]')),f(document.querySelector('iframe[title="pbf"]')),f(this._parameterBlock),f(this._thirdPartyBlock)};function f(P){P&&P.parentNode&&P.parentNode.removeChild(P)}function T(){var P,d="";for(P=0;P<32;P++)d+=Math.floor(Math.random()*16).toString(16);return d}function O(P){var d=new Date().getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+P+"&t="+d+"&a=14"}function b(P,d,u){var I=document.body.appendChild(document.createElement("script")),E={f:P,s,b:d};return u!=="production"&&(E.sandbox=!0),I.type="application/json",I.setAttribute("fncls",n),I.text=JSON.stringify(E),I}_.exports={setup:m,clearSessionIdCache:h}},{"../lib/assets":120,"../lib/constants":126}],98:[function(e,_,A){"use strict";var n=e("./kount"),s=e("./fraudnet"),o=e("../lib/braintree-error"),c=e("../lib/basic-component-verification"),i=e("../lib/create-deferred-client"),m=e("../lib/create-assets-url"),h=e("../lib/methods"),p=e("../lib/convert-methods-to-error"),f="3.97.0",T=e("@braintree/wrap-promise"),O=e("./errors");function b(u){var I="Data Collector",E={_instances:[]},g;return c.verify({name:I,client:u.client,authorization:u.authorization}).then(function(){return E._instantiatedWithAClient=!u.useDeferredClient,E._createPromise=i.create({authorization:u.authorization,client:u.client,debug:u.debug,assetsUrl:m.create(u.authorization),name:I}).then(function(C){var v,y=C.getConfiguration();if(u.kount===!0&&y.gatewayConfiguration.kount){try{v=n.setup({environment:y.gatewayConfiguration.environment,merchantId:y.gatewayConfiguration.kount.kountMerchantId})}catch(l){return Promise.reject(new o({type:O.DATA_COLLECTOR_KOUNT_ERROR.type,code:O.DATA_COLLECTOR_KOUNT_ERROR.code,message:l.message}))}g=v.deviceData,E._instances.push(v)}else g={};return Promise.resolve(C)}).then(function(C){return s.setup({sessionId:u.riskCorrelationId||u.clientMetadataId||u.correlationId,environment:C.getConfiguration().gatewayConfiguration.environment}).then(function(v){v&&(g.correlation_id=v.sessionId,E._instances.push(v))})}).then(function(){return E._instances.length===0?Promise.reject(new o(O.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(E.deviceData=JSON.stringify(g),E.rawDeviceData=g,E)}),E.teardown=P(E),E.getDeviceData=d(E),E._instantiatedWithAClient?E._createPromise:E})}function P(u){return T(function(){return u._createPromise.then(function(){u._instances.forEach(function(E){E&&E.teardown()}),p(u,h(u))})})}function d(u){return T(function(E){return E=E||{},u._createPromise.then(function(){return E.raw?Promise.resolve(u.rawDeviceData):Promise.resolve(u.deviceData)})})}_.exports={create:T(b),VERSION:f}},{"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"../lib/methods":155,"./errors":96,"./fraudnet":97,"./kount":99,"@braintree/wrap-promise":43}],99:[function(e,_,A){"use strict";var n=e("./vendor/sjcl"),s=e("../lib/camel-case-to-snake-case"),o="https://assets.qa.braintreepayments.com/data",c="braintreeDataFrame-",i={development:o,qa:o,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},m={};function h(f){var T=f??{};return new p(T)}function p(f){var T=p.getCachedDeviceData(f.merchantId);if(T){this.deviceData=T,this._isCached=!0;return}this._currentEnvironment=this._initializeEnvironment(f),n.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),p.setCachedDeviceData(f.merchantId,this.deviceData),this._iframe=this._setupIFrame()}p.getCachedDeviceData=function(f){return m[f]},p.setCachedDeviceData=function(f,T){m[f]=T},p.prototype.teardown=function(){this._isCached||(n.random.stopCollectors(),this._removeIframe())},p.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},p.prototype._getDeviceData=function(){return s({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},p.prototype._generateDeviceSessionId=function(){var f,T;return f=n.random.randomWords(4,0),T=n.codec.hex.fromBits(f),T},p.prototype._setupIFrame=function(){var f,T,O=this;return f="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,T=document.createElement("iframe"),T.width=1,T.id=c+this._deviceSessionId,T.height=1,T.frameBorder=0,T.scrolling="no",T.style.position="fixed",T.style.left="-999999px",T.style.top="-999999px",T.title="Braintree-Kount-iframe",T.setAttribute("aria-hidden","true"),document.body.appendChild(T),setTimeout(function(){T.src=O._currentEnvironment.url+"/logo.htm"+f,T.innerHTML='<img src="'+O._currentEnvironment.url+"/logo.gif"+f+'" alt="" />'},10),T},p.prototype._initializeEnvironment=function(f){var T=i[f.environment];if(T==null)throw new Error(f.environment+" is not a valid environment for kount.environment");return{url:T,name:f.environment,id:f.merchantId}},_.exports={setup:h,Kount:p,environmentUrls:i}},{"../lib/camel-case-to-snake-case":125,"./vendor/sjcl":100}],100:[function(e,_,A){"use strict";var n={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(d){this.toString=function(){return"CORRUPT: "+this.message},this.message=d},invalid:function(d){this.toString=function(){return"INVALID: "+this.message},this.message=d},bug:function(d){this.toString=function(){return"BUG: "+this.message},this.message=d},notReady:function(d){this.toString=function(){return"NOT READY: "+this.message},this.message=d}}};n.cipher.aes=function(d){this.l[0][0][0]||this.G();var u,I,E,g,C=this.l[0][4],v=this.l[1];u=d.length;var y=1;if(u!==4&&u!==6&&u!==8)throw new n.exception.invalid("invalid aes key size");for(this.b=[E=d.slice(0),g=[]],d=u;d<4*u+28;d++)I=E[d-1],(d%u===0||u===8&&d%u===4)&&(I=C[I>>>24]<<24^C[I>>16&255]<<16^C[I>>8&255]<<8^C[I&255],d%u===0&&(I=I<<8^I>>>24^y<<24,y=y<<1^283*(y>>7))),E[d]=E[d-u]^I;for(u=0;d;u++,d--)I=E[u&3?d:d-4],g[u]=4>=d||4>u?I:v[0][C[I>>>24]]^v[1][C[I>>16&255]]^v[2][C[I>>8&255]]^v[3][C[I&255]]},n.cipher.aes.prototype={encrypt:function(d){return s(this,d,0)},decrypt:function(d){return s(this,d,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var d=this.l[0],u=this.l[1],I=d[4],E=u[4],g,C,v,y=[],l=[],R,D,U,H;for(g=0;256>g;g++)l[(y[g]=g<<1^283*(g>>7))^g]=g;for(C=v=0;!I[C];C^=R||1,v=l[v]||1)for(U=v^v<<1^v<<2^v<<3^v<<4,U=U>>8^U&255^99,I[C]=U,E[U]=C,D=y[g=y[R=y[C]]],H=16843009*D^65537*g^257*R^16843008*C,D=257*y[U]^16843008*U,g=0;4>g;g++)d[g][C]=D=D<<24^D>>>8,u[g][U]=H=H<<24^H>>>8;for(g=0;5>g;g++)d[g]=d[g].slice(0),u[g]=u[g].slice(0)}};function s(d,u,I){if(u.length!==4)throw new n.exception.invalid("invalid aes block size");var E=d.b[I],g=u[0]^E[0],C=u[I?3:1]^E[1],v=u[2]^E[2];u=u[I?1:3]^E[3];var y,l,R,D=E.length/4-2,U,H=4,re=[0,0,0,0];y=d.l[I],d=y[0];var X=y[1],F=y[2],B=y[3],z=y[4];for(U=0;U<D;U++)y=d[g>>>24]^X[C>>16&255]^F[v>>8&255]^B[u&255]^E[H],l=d[C>>>24]^X[v>>16&255]^F[u>>8&255]^B[g&255]^E[H+1],R=d[v>>>24]^X[u>>16&255]^F[g>>8&255]^B[C&255]^E[H+2],u=d[u>>>24]^X[g>>16&255]^F[C>>8&255]^B[v&255]^E[H+3],H+=4,g=y,C=l,v=R;for(U=0;4>U;U++)re[I?3&-U:U]=z[g>>>24]<<24^z[C>>16&255]<<16^z[v>>8&255]<<8^z[u&255]^E[H++],y=g,g=C,C=v,v=u,u=y;return re}n.bitArray={bitSlice:function(d,u,I){return d=n.bitArray.M(d.slice(u/32),32-(u&31)).slice(1),I===void 0?d:n.bitArray.clamp(d,I-u)},extract:function(d,u,I){var E=Math.floor(-u-I&31);return((u+I-1^u)&-32?d[u/32|0]<<32-E^d[u/32+1|0]>>>E:d[u/32|0]>>>E)&(1<<I)-1},concat:function(d,u){if(d.length===0||u.length===0)return d.concat(u);var I=d[d.length-1],E=n.bitArray.getPartial(I);return E===32?d.concat(u):n.bitArray.M(u,E,I|0,d.slice(0,d.length-1))},bitLength:function(d){var u=d.length;return u===0?0:32*(u-1)+n.bitArray.getPartial(d[u-1])},clamp:function(d,u){if(32*d.length<u)return d;d=d.slice(0,Math.ceil(u/32));var I=d.length;return u=u&31,0<I&&u&&(d[I-1]=n.bitArray.partial(u,d[I-1]&2147483648>>u-1,1)),d},partial:function(d,u,I){return d===32?u:(I?u|0:u<<32-d)+1099511627776*d},getPartial:function(d){return Math.round(d/1099511627776)||32},equal:function(d,u){if(n.bitArray.bitLength(d)!==n.bitArray.bitLength(u))return!1;var I=0,E;for(E=0;E<d.length;E++)I|=d[E]^u[E];return I===0},M:function(d,u,I,E){var g;for(g=0,E===void 0&&(E=[]);32<=u;u-=32)E.push(I),I=0;if(u===0)return E.concat(d);for(g=0;g<d.length;g++)E.push(I|d[g]>>>u),I=d[g]<<32-u;return g=d.length?d[d.length-1]:0,d=n.bitArray.getPartial(g),E.push(n.bitArray.partial(u+d&31,32<u+d?I:E.pop(),1)),E},Y:function(d,u){return[d[0]^u[0],d[1]^u[1],d[2]^u[2],d[3]^u[3]]},byteswapM:function(d){var u,I;for(u=0;u<d.length;++u)I=d[u],d[u]=I>>>24|I>>>8&65280|(I&65280)<<8|I<<24;return d}},n.codec.utf8String={fromBits:function(d){var u="",I=n.bitArray.bitLength(d),E,g;for(E=0;E<I/8;E++)(E&3)===0&&(g=d[E/4]),u+=String.fromCharCode(g>>>8>>>8>>>8),g<<=8;return decodeURIComponent(escape(u))},toBits:function(d){d=unescape(encodeURIComponent(d));var u=[],I,E=0;for(I=0;I<d.length;I++)E=E<<8|d.charCodeAt(I),(I&3)===3&&(u.push(E),E=0);return I&3&&u.push(n.bitArray.partial(8*(I&3),E)),u}},n.codec.hex={fromBits:function(d){var u="",I;for(I=0;I<d.length;I++)u+=((d[I]|0)+0xf00000000000).toString(16).substr(4);return u.substr(0,n.bitArray.bitLength(d)/4)},toBits:function(d){var u,I=[],E;for(d=d.replace(/\s|0x/g,""),E=d.length,d=d+"00000000",u=0;u<d.length;u+=8)I.push(parseInt(d.substr(u,8),16)^0);return n.bitArray.clamp(I,4*E)}},n.hash.sha256=function(d){this.b[0]||this.G(),d?(this.u=d.u.slice(0),this.o=d.o.slice(0),this.h=d.h):this.reset()},n.hash.sha256.hash=function(d){return new n.hash.sha256().update(d).finalize()},n.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(d){typeof d=="string"&&(d=n.codec.utf8String.toBits(d));var u,I=this.o=n.bitArray.concat(this.o,d);if(u=this.h,d=this.h=u+n.bitArray.bitLength(d),9007199254740991<d)throw new n.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var E=new Uint32Array(I),g=0;for(u=512+u-(512+u&511);u<=d;u+=512)o(this,E.subarray(16*g,16*(g+1))),g+=1;I.splice(0,16*g)}else for(u=512+u-(512+u&511);u<=d;u+=512)o(this,I.splice(0,16));return this},finalize:function(){var d,I=this.o,u=this.u,I=n.bitArray.concat(I,[n.bitArray.partial(1,1)]);for(d=I.length+2;d&15;d++)I.push(0);for(I.push(Math.floor(this.h/4294967296)),I.push(this.h|0);I.length;)o(this,I.splice(0,16));return this.reset(),u},K:[],b:[],G:function(){function d(C){return 4294967296*(C-Math.floor(C))|0}for(var u=0,I=2,E,g;64>u;I++){for(g=!0,E=2;E*E<=I;E++)if(I%E===0){g=!1;break}g&&(8>u&&(this.K[u]=d(Math.pow(I,.5))),this.b[u]=d(Math.pow(I,1/3)),u++)}}};function o(d,u){var I,E,g,C=d.u,v=d.b,y=C[0],l=C[1],R=C[2],D=C[3],U=C[4],H=C[5],re=C[6],X=C[7];for(I=0;64>I;I++)16>I?E=u[I]:(E=u[I+1&15],g=u[I+14&15],E=u[I&15]=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+u[I&15]+u[I+9&15]|0),E=E+X+(U>>>6^U>>>11^U>>>25^U<<26^U<<21^U<<7)+(re^U&(H^re))+v[I],X=re,re=H,H=U,U=D+E|0,D=R,R=l,l=y,y=E+(l&R^D&(l^R))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;C[0]=C[0]+y|0,C[1]=C[1]+l|0,C[2]=C[2]+R|0,C[3]=C[3]+D|0,C[4]=C[4]+U|0,C[5]=C[5]+H|0,C[6]=C[6]+re|0,C[7]=C[7]+X|0}n.prng=function(d){this.c=[new n.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=d,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},n.prng.prototype={randomWords:function(d,u){var I=[],E;E=this.isReady(u);var g;if(E===this.m)throw new n.exception.notReady("generator isn't seeded");if(E&this.A){E=!(E&this.w),g=[];var C=0,v;for(this.L=g[0]=new Date().valueOf()+this.P,v=0;16>v;v++)g.push(4294967296*Math.random()|0);for(v=0;v<this.c.length&&(g=g.concat(this.c[v].finalize()),C+=this.i[v],this.i[v]=0,E||!(this.H&1<<v));v++);for(this.H>=1<<this.c.length&&(this.c.push(new n.hash.sha256),this.i.push(0)),this.f-=C,C>this.j&&(this.j=C),this.H++,this.b=n.hash.sha256.hash(this.b.concat(g)),this.C=new n.cipher.aes(this.b),E=0;4>E&&(this.g[E]=this.g[E]+1|0,!this.g[E]);E++);}for(E=0;E<d;E+=4)(E+1)%this.O===0&&m(this),g=h(this),I.push(g[0],g[1],g[2],g[3]);return m(this),I.slice(0,d)},setDefaultParanoia:function(d,u){if(d===0&&u!=="Setting paranoia=0 will ruin your security; use it only for testing")throw new n.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=d},addEntropy:function(d,u,I){I=I||"user";var E,g,C=new Date().valueOf(),v=this.v[I],y=this.isReady(),l=0;switch(E=this.J[I],E===void 0&&(E=this.J[I]=this.T++),v===void 0&&(v=this.v[I]=0),this.v[I]=(this.v[I]+1)%this.c.length,typeof d){case"number":u===void 0&&(u=1),this.c[v].update([E,this.F++,1,u,C,1,d|0]);break;case"object":if(I=Object.prototype.toString.call(d),I==="[object Uint32Array]"){for(g=[],I=0;I<d.length;I++)g.push(d[I]);d=g}else for(I!=="[object Array]"&&(l=1),I=0;I<d.length&&!l;I++)typeof d[I]!="number"&&(l=1);if(!l){if(u===void 0)for(I=u=0;I<d.length;I++)for(g=d[I];0<g;)u++,g=g>>>1;this.c[v].update([E,this.F++,2,u,C,d.length].concat(d))}break;case"string":u===void 0&&(u=d.length),this.c[v].update([E,this.F++,3,u,C,d.length]),this.c[v].update(d);break;default:l=1}if(l)throw new n.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[v]+=u,this.f+=u,y===this.m&&(this.isReady()!==this.m&&c("seeded",Math.max(this.j,this.f)),c("progress",this.getProgress()))},isReady:function(d){return d=this.I[d!==void 0?d:this.D],this.j&&this.j>=d?this.i[0]>this.N&&new Date().valueOf()>this.L?this.A|this.w:this.w:this.f>=d?this.A|this.m:this.m},getProgress:function(d){return d=this.I[d||this.D],this.j>=d||this.f>d?1:this.f/d},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:p(this,this.V),mouseCollector:p(this,this.W),keyboardCollector:p(this,this.U),accelerometerCollector:p(this,this.R),touchCollector:p(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new n.exception.bug("can't attach event");this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(d,u){this.B[d][this.S++]=u},removeEventListener:function(d,u){var I,E,g=this.B[d],C=[];for(E in g)g.hasOwnProperty(E)&&g[E]===u&&C.push(E);for(I=0;I<C.length;I++)E=C[I],delete g[E]},U:function(){i(this,1)},W:function(d){var u,I;try{u=d.x||d.clientX||d.offsetX||0,I=d.y||d.clientY||d.offsetY||0}catch{I=u=0}u!=0&&I!=0&&this.addEntropy([u,I],2,"mouse"),i(this,0)},X:function(d){d=d.touches[0]||d.changedTouches[0],this.addEntropy([d.pageX||d.clientX,d.pageY||d.clientY],1,"touch"),i(this,0)},V:function(){i(this,2)},R:function(d){if(d=d.accelerationIncludingGravity.x||d.accelerationIncludingGravity.y||d.accelerationIncludingGravity.z,window.orientation){var u=window.orientation;typeof u=="number"&&this.addEntropy(u,1,"accelerometer")}d&&this.addEntropy(d,2,"accelerometer"),i(this,0)}};function c(d,u){var I,E=n.random.B[d],g=[];for(I in E)E.hasOwnProperty(I)&&g.push(E[I]);for(I=0;I<g.length;I++)g[I](u)}function i(d,u){typeof window<"u"&&window.performance&&typeof window.performance.now=="function"?d.addEntropy(window.performance.now(),u,"loadtime"):d.addEntropy(new Date().valueOf(),u,"loadtime")}function m(d){d.b=h(d).concat(h(d)),d.C=new n.cipher.aes(d.b)}function h(d){for(var u=0;4>u&&(d.g[u]=d.g[u]+1|0,!d.g[u]);u++);return d.C.encrypt(d.g)}function p(d,u){return function(){u.apply(d,arguments)}}n.random=new n.prng(6);e:try{var f,T,O,b;if(b=typeof _<"u"&&_.exports){var P;try{P=e("crypto")}catch{P=null}b=T=P}if(b&&T.randomBytes)f=T.randomBytes(128),f=new Uint32Array(new Uint8Array(f).buffer),n.random.addEntropy(f,1024,"crypto['randomBytes']");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(O=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(O);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(O);else break e;n.random.addEntropy(O,1024,"crypto['getRandomValues']")}}catch(d){typeof window<"u"&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(d))}typeof _<"u"&&_.exports&&(_.exports=n),typeof ne=="function"&&ne([],function(){return n})},{crypto:void 0}],101:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={GOOGLE_PAYMENT_NOT_ENABLED:{type:n.types.MERCHANT,code:"GOOGLE_PAYMENT_NOT_ENABLED",message:"Google Pay is not enabled for this merchant."},GOOGLE_PAYMENT_GATEWAY_ERROR:{code:"GOOGLE_PAYMENT_GATEWAY_ERROR",message:"There was an error when tokenizing the Google Pay payment method.",type:n.types.UNKNOWN},GOOGLE_PAYMENT_UNSUPPORTED_VERSION:{code:"GOOGLE_PAYMENT_UNSUPPORTED_VERSION",type:n.types.MERCHANT}}},{"../lib/braintree-error":124}],102:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("../lib/assign").assign,o=e("../lib/convert-methods-to-error"),c=e("../lib/find"),i=e("../lib/generate-google-pay-configuration"),m=e("../lib/braintree-error"),h=e("./errors"),p=e("../lib/methods"),f=e("@braintree/wrap-promise"),T={1:"_createV1PaymentDataRequest",2:"_createV2PaymentDataRequest"};function O(P){if(this._createPromise=P.createPromise,this._client=P.client,this._useDeferredClient=P.useDeferredClient,this._googlePayVersion=P.googlePayVersion||1,this._googleMerchantId=P.googleMerchantId,this._isUnsupportedGooglePayAPIVersion())throw new m({code:h.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.code,message:"The Braintree SDK does not support Google Pay version "+this._googlePayVersion+". Please upgrade the version of your Braintree SDK and contact support if this error persists.",type:h.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.type})}O.prototype._waitForClient=function(){return this._client?Promise.resolve():this._createPromise.then(function(P){this._client=P}.bind(this))},O.prototype._isUnsupportedGooglePayAPIVersion=function(){return!(this._googlePayVersion in T)},O.prototype._getDefaultConfig=function(){return this._defaultConfig||(this._defaultConfig=i(this._client.getConfiguration(),this._googlePayVersion,this._googleMerchantId)),this._defaultConfig},O.prototype._createV1PaymentDataRequest=function(P){var d=this._getDefaultConfig(),u=P.cardRequirements&&P.cardRequirements.allowedCardNetworks,I=d.cardRequirements.allowedCardNetworks,E=u||I;return P=s({},d,P),P.cardRequirements.allowedCardNetworks=E,P},O.prototype._createV2PaymentDataRequest=function(P){var d=this._getDefaultConfig();return P.allowedPaymentMethods&&P.allowedPaymentMethods.forEach(function(u){var I=c(d.allowedPaymentMethods,"type",u.type);I&&b(u,I)}),P=s({},d,P),P},O.prototype.createPaymentDataRequest=function(P){return this._useDeferredClient?this._waitForClient().then(function(){return this._createPaymentDataRequestSyncronously(P)}.bind(this)):this._createPaymentDataRequestSyncronously(P)},O.prototype._createPaymentDataRequestSyncronously=function(P){var d=s({},P),u=this._googlePayVersion,I=T[u];return n.sendEvent(this._createPromise,"google-payment.v"+u+".createPaymentDataRequest"),this[I](d)},O.prototype.parseResponse=function(P){var d=this;return Promise.resolve().then(function(){var u,I=P.apiVersion===2?P.paymentMethodData.tokenizationData.token:P.paymentMethodToken.token,E=JSON.parse(I),g=E.error;return g?Promise.reject(g):(n.sendEvent(d._createPromise,"google-payment.parseResponse.succeeded"),E.paypalAccounts?(u=E.paypalAccounts[0],n.sendEvent(d._createPromise,"google-payment.parseResponse.succeeded.paypal"),Promise.resolve({nonce:u.nonce,type:u.type,description:u.description})):(u=E.androidPayCards[0],n.sendEvent(d._createPromise,"google-payment.parseResponse.succeeded.google-payment"),Promise.resolve({nonce:u.nonce,type:u.type,description:u.description,details:{cardType:u.details.cardType,lastFour:u.details.lastFour,lastTwo:u.details.lastTwo,isNetworkTokenized:u.details.isNetworkTokenized,bin:u.details.bin},binData:u.binData})))}).catch(function(u){return n.sendEvent(d._createPromise,"google-payment.parseResponse.failed"),Promise.reject(new m({code:h.GOOGLE_PAYMENT_GATEWAY_ERROR.code,message:h.GOOGLE_PAYMENT_GATEWAY_ERROR.message,type:h.GOOGLE_PAYMENT_GATEWAY_ERROR.type,details:{originalError:u}}))})},O.prototype.teardown=function(){return o(this,p(O.prototype)),Promise.resolve()};function b(P,d){Object.keys(d).forEach(function(u){typeof d[u]=="object"?P[u]=s({},d[u],P[u]):P[u]=P[u]||d[u]})}_.exports=f.wrapPrototype(O)},{"../lib/analytics":119,"../lib/assign":121,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/find":137,"../lib/generate-google-pay-configuration":149,"../lib/methods":155,"./errors":101,"@braintree/wrap-promise":43}],103:[function(e,_,A){"use strict";var n=e("./google-payment"),s=e("../lib/braintree-error"),o=e("../lib/create-assets-url"),c=e("../lib/create-deferred-client"),i=e("../lib/basic-component-verification"),m=e("@braintree/wrap-promise"),h="3.97.0",p=e("./errors");function f(T){var O="Google Pay";return i.verify({name:O,client:T.client,authorization:T.authorization}).then(function(){var b,P;return b=c.create({authorization:T.authorization,client:T.client,debug:T.debug,assetsUrl:o.create(T.authorization),name:O}).then(function(d){var u=d.getConfiguration();return T.client=d,u.gatewayConfiguration.androidPay?d:Promise.reject(new s(p.GOOGLE_PAYMENT_NOT_ENABLED))}),T.createPromise=b,P=new n(T),T.useDeferredClient?P:b.then(function(d){return P._client=d,P})})}_.exports={create:m(f),VERSION:h}},{"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./errors":101,"./google-payment":102,"@braintree/wrap-promise":43}],104:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error"),s=e("../shared/errors"),o=e("../shared/constants").allowedAttributes;function c(m,h){var p;return o.hasOwnProperty(m)?h!=null&&!i(m,h)&&(p=new n({type:s.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:s.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+h+'" is not allowed for "'+m+'" attribute.'})):p=new n({type:s.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:s.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+m+'" attribute is not supported in Hosted Fields.'}),p}function i(m,h){return o[m]==="string"?typeof h=="string"||typeof h=="number":o[m]==="boolean"?String(h)==="true"||String(h)==="false":!1}_.exports=c},{"../../lib/braintree-error":124,"../shared/constants":112,"../shared/errors":113}],105:[function(e,_,A){"use strict";var n=e("../shared/constants"),s=e("../../lib/use-min");_.exports=function(c,i,m){return c+"/web/"+n.VERSION+"/html/hosted-fields-frame"+s(m)+".html#"+i}},{"../../lib/use-min":160,"../shared/constants":112}],106:[function(e,_,A){"use strict";var n=e("../shared/constants").navigationDirections,s=e("../shared/browser-detection"),o=e("../shared/focus-intercept"),c=e("../shared/find-parent-tags"),i=["INPUT","SELECT","TEXTAREA"],m=["hidden","button","reset","submit","checkbox","radio","file"];function h(T){return s.hasSoftwareKeyboard()?i.indexOf(T.tagName)>-1&&m.indexOf(T.type)<0:T.type!=="hidden"}function p(T,O){switch(T){case n.BACK:return{checkIndexBounds:function(b){return b<0},indexChange:-1};case n.FORWARD:return{checkIndexBounds:function(b){return b>O-1},indexChange:1};default:}return{}}function f(T){var O,b;for(O=0;O<T.length;O++)if(b=T[O],h(b))return b;return null}_.exports={removeExtraFocusElements:function(T,O){var b=Array.prototype.slice.call(T.elements),P=f(b),d=f(b.reverse());[P,d].forEach(function(u){u&&o.matchFocusElement(u.getAttribute("id"))&&O(u.getAttribute("id"))})},createFocusChangeHandler:function(T,O){return function(b){var P,d,u,I,E=document.getElementById("bt-"+b.field+"-"+b.direction+"-"+T);if(E){if(u=c(E,"form")[0],document.forms.length<1||!u){O.onRemoveFocusIntercepts();return}u=[].slice.call(u.elements),P=u.indexOf(E),I=p(b.direction,u.length);do{if(P+=I.indexChange,I.checkIndexBounds(P))return;d=u[P]}while(!h(d));o.matchFocusElement(d.getAttribute("id"))?O.onTriggerInputFocus(d.getAttribute("data-braintree-type")):d.focus()}}}}},{"../shared/browser-detection":111,"../shared/constants":112,"../shared/find-parent-tags":114,"../shared/focus-intercept":115}],107:[function(e,_,A){"use strict";var n=e("../shared/constants").allowedStyles;_.exports=function(o){var c=document.createElement("input"),i={},m;return o[0]==="."&&(o=o.substring(1)),c.className=o,c.style.display="none !important",c.style.position="fixed !important",c.style.left="-99999px !important",c.style.top="-99999px !important",document.body.appendChild(c),m=window.getComputedStyle(c),n.forEach(function(h){var p=m[h];p&&(i[h]=p)}),document.body.removeChild(c),i}},{"../shared/constants":112}],108:[function(e,_,A){"use strict";var n=e("../../lib/assign").assign,s=e("../../lib/create-assets-url"),o=e("../../lib/is-verified-domain"),c=e("../../lib/destructor"),i=e("@braintree/iframer"),m=e("framebus"),h=e("../../lib/create-deferred-client"),p=e("../../lib/braintree-error"),f=e("./compose-url"),T=e("./get-styles-from-class"),O=e("../shared/constants"),b=e("../shared/errors"),P=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,d=e("@braintree/uuid"),u=e("../shared/find-parent-tags"),I=e("../shared/browser-detection"),E=O.events,g=e("@braintree/event-emitter"),C=e("./inject-frame"),v=e("../../lib/analytics"),y=O.allowedFields,l=e("../../lib/methods"),R=e("../../lib/shadow"),D=e("../../lib/find-root-node"),U=e("../../lib/convert-methods-to-error"),H=e("../../lib/errors"),re=e("../shared/get-card-types"),X=e("./attribute-validation-error"),F=e("@braintree/wrap-promise"),B=e("./focus-change"),z=e("../shared/focus-intercept").destroy,S=5;function L(k){return function(K){var Q,q=K.merchantPayload,de=q.emittedBy,me=k[de].containerElement;Object.keys(q.fields).forEach(function(fe){q.fields[fe].container=k[fe].containerElement}),Q=q.fields[de],me.classList.toggle(O.externalClasses.FOCUSED,Q.isFocused),me.classList.toggle(O.externalClasses.VALID,Q.isValid),me.classList.toggle(O.externalClasses.INVALID,!Q.isPotentiallyValid),this._state={cards:q.cards,fields:q.fields},this._emit(K.type,q)}}function J(k){var K=k.getBoundingClientRect(),Q=Math.floor(K.height/2),q=Math.floor(K.width/2);return K.top<(window.innerHeight-Q||document.documentElement.clientHeight-Q)&&K.right>q&&K.bottom>Q&&K.left<(window.innerWidth-q||document.documentElement.clientWidth-q)}function V(k){var K,Q,q,de,me,fe=this,Oe={},Se={},ge=[],Te=d();if(this._merchantConfigurationOptions=n({},k),k.client?(Q=k.client.getConfiguration(),q=Q.gatewayConfiguration.assetsUrl,de=Q.isDebug):(q=s.create(k.authorization),de=!!k.isDebug),this._clientPromise=h.create({client:k.client,authorization:k.authorization,debug:de,assetsUrl:q,name:"Hosted Fields"}),me=f(q,Te,de),!k.fields||Object.keys(k.fields).length===0)throw new p({type:H.INSTANTIATION_OPTION_REQUIRED.type,code:H.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});g.call(this),this._injectedNodes=[],this._destructor=new c,this._fields=Oe,this._state={fields:{},cards:re("")},this._bus=new m({channel:Te,verifyDomain:o,targetFrames:[]}),this._destructor.registerFunctionForTeardown(function(){fe._bus.teardown()}),k.client?v.sendEvent(this._clientPromise,"custom.hosted-fields.initialized"):v.sendEvent(this._clientPromise,"custom.hosted-fields.initialized.deferred-client"),Object.keys(k.fields).forEach(function(pe){var Y,G,se,Ee,Re;if(!O.allowedFields.hasOwnProperty(pe))throw new p({type:b.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:b.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+pe+'" is not a valid field.'});if(Y=k.fields[pe],G=Y.container||Y.selector,typeof G=="string"&&(G=document.querySelector(G)),!G||G.nodeType!==1)throw new p({type:b.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:b.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:b.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:Y.selector,fieldContainer:Y.container,fieldKey:pe}});if(G.querySelector('iframe[name^="braintree-"]'))throw new p({type:b.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:b.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:b.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:Y.selector,fieldContainer:Y.container,fieldKey:pe}});if(se=G,R.isShadowElement(se)&&(se=R.transformToSlot(se,"height: 100%")),Y.maxlength&&typeof Y.maxlength!="number")throw new p({type:b.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:b.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:pe}});if(Y.minlength&&typeof Y.minlength!="number")throw new p({type:b.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:b.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:pe}});Ee=i({type:pe,name:"braintree-hosted-field-"+pe,style:O.defaultIFrameStyle,title:Y.iframeTitle||"Secure Credit Card Frame - "+O.allowedFields[pe].label}),this._bus.addTargetFrame(Ee),this._injectedNodes.push.apply(this._injectedNodes,C(Te,Ee,se,function(){fe.focus(pe)})),this._setupLabelFocus(pe,G),Oe[pe]={frameElement:Ee,containerElement:G},Re=new Promise(function(Ue){Se[pe]=Ue}),ge.push(Re),this._state.fields[pe]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:G},setTimeout(function(){Ee.src=me},0)}.bind(this)),this._merchantConfigurationOptions.styles&&Object.keys(this._merchantConfigurationOptions.styles).forEach(function(pe){var Y=fe._merchantConfigurationOptions.styles[pe];typeof Y=="string"&&(fe._merchantConfigurationOptions.styles[pe]=T(Y))}),this._bus.on(E.REMOVE_FOCUS_INTERCEPTS,function(pe){z(pe&&pe.id)}),this._bus.on(E.TRIGGER_FOCUS_CHANGE,B.createFocusChangeHandler(Te,{onRemoveFocusIntercepts:function(pe){fe._bus.emit(E.REMOVE_FOCUS_INTERCEPTS,{id:pe})},onTriggerInputFocus:function(pe){fe.focus(pe)}})),this._bus.on(E.READY_FOR_CLIENT,function(pe){fe._clientPromise.then(function(Y){pe(Y)})}),this._bus.on(E.CARD_FORM_ENTRY_HAS_BEGUN,function(){v.sendEvent(fe._clientPromise,"hosted-fields.input.started")}),this._bus.on(E.BIN_AVAILABLE,function(pe){fe._emit("binAvailable",{bin:pe})}),K=setTimeout(function(){v.sendEvent(fe._clientPromise,"custom.hosted-fields.load.timed-out"),fe._emit("timeout")},P),Promise.all(ge).then(function(pe){var Y=pe[0];clearTimeout(K),Y(ie(fe._merchantConfigurationOptions)),fe._cleanUpFocusIntercepts(),fe._emit("ready")}),this._bus.on(E.FRAME_READY,function(pe,Y){Se[pe.field](Y)}),this._bus.on(E.INPUT_EVENT,L(Oe).bind(this)),this._destructor.registerFunctionForTeardown(function(){var pe,Y,G;for(pe=0;pe<fe._injectedNodes.length;pe++)Y=fe._injectedNodes[pe],G=Y.parentNode,G.removeChild(Y),G.classList.remove(O.externalClasses.FOCUSED,O.externalClasses.INVALID,O.externalClasses.VALID)}),this._destructor.registerFunctionForTeardown(function(){z()}),this._destructor.registerFunctionForTeardown(function(){var pe=l(V.prototype).concat(l(g.prototype));U(fe,pe)})}g.createChild(V),V.prototype._setupLabelFocus=function(k,K){var Q,q,de=this,me=D(K);if(K.id==null)return;function fe(){de.focus(k)}for(Q=Array.prototype.slice.call(document.querySelectorAll('label[for="'+K.id+'"]')),me!==document&&(Q=Q.concat(Array.prototype.slice.call(me.querySelectorAll('label[for="'+K.id+'"]')))),Q=Q.concat(u(K,"label")),Q=Q.filter(function(Oe,Se,ge){return ge.indexOf(Oe)===Se}),q=0;q<Q.length;q++)Q[q].addEventListener("click",fe,!1);this._destructor.registerFunctionForTeardown(function(){for(q=0;q<Q.length;q++)Q[q].removeEventListener("click",fe,!1)})},V.prototype._getAnyFieldContainer=function(){var k=this;return Object.keys(this._fields).reduce(function(K,Q){return K||k._fields[Q].containerElement},null)},V.prototype._cleanUpFocusIntercepts=function(){var k,K;document.forms.length<1?this._bus.emit(E.REMOVE_FOCUS_INTERCEPTS):(k=this._getAnyFieldContainer(),K=u(k,"form")[0],K?B.removeExtraFocusElements(K,function(Q){this._bus.emit(E.REMOVE_FOCUS_INTERCEPTS,{id:Q})}.bind(this)):this._bus.emit(E.REMOVE_FOCUS_INTERCEPTS))},V.prototype._attachInvalidFieldContainersToError=function(k){k.details&&k.details.invalidFieldKeys&&k.details.invalidFieldKeys.length>0&&(k.details.invalidFields={},k.details.invalidFieldKeys.forEach(function(K){k.details.invalidFields[K]=this._fields[K].containerElement}.bind(this)))},V.prototype.getChallenges=function(){return this._clientPromise.then(function(k){return k.getConfiguration().gatewayConfiguration.challenges})},V.prototype.getSupportedCardTypes=function(){return this._clientPromise.then(function(k){var K=k.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes.map(function(Q){return Q==="MasterCard"?"Mastercard":Q});return K})},V.prototype.teardown=function(){var k=this;return new Promise(function(K,Q){k._destructor.teardown(function(q){v.sendEvent(k._clientPromise,"custom.hosted-fields.teardown-completed"),q?Q(q):K()})})},V.prototype.tokenize=function(k){var K=this;return k||(k={}),new Promise(function(Q,q){K._bus.emit(E.TOKENIZATION_REQUEST,k,function(de){var me=de[0],fe=de[1];me?(K._attachInvalidFieldContainersToError(me),q(new p(me))):Q(fe)})})},V.prototype.addClass=function(k,K){var Q;return y.hasOwnProperty(k)?this._fields.hasOwnProperty(k)?this._bus.emit(E.ADD_CLASS,{field:k,classname:K}):Q=new p({type:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+k+'" field because it is not part of the current Hosted Fields options.'}):Q=new p({type:b.HOSTED_FIELDS_FIELD_INVALID.type,code:b.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+k+'" is not a valid field. You must use a valid field option when adding a class.'}),Q?Promise.reject(Q):Promise.resolve()},V.prototype.removeClass=function(k,K){var Q;return y.hasOwnProperty(k)?this._fields.hasOwnProperty(k)?this._bus.emit(E.REMOVE_CLASS,{field:k,classname:K}):Q=new p({type:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+k+'" field because it is not part of the current Hosted Fields options.'}):Q=new p({type:b.HOSTED_FIELDS_FIELD_INVALID.type,code:b.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+k+'" is not a valid field. You must use a valid field option when removing a class.'}),Q?Promise.reject(Q):Promise.resolve()},V.prototype.setAttribute=function(k){var K,Q;return y.hasOwnProperty(k.field)?this._fields.hasOwnProperty(k.field)?(K=X(k.attribute,k.value),K?Q=K:this._bus.emit(E.SET_ATTRIBUTE,{field:k.field,attribute:k.attribute,value:k.value})):Q=new p({type:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+k.field+'" field because it is not part of the current Hosted Fields options.'}):Q=new p({type:b.HOSTED_FIELDS_FIELD_INVALID.type,code:b.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+k.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),Q?Promise.reject(Q):Promise.resolve()},V.prototype.setMonthOptions=function(k){var K=this,Q=this._merchantConfigurationOptions.fields,q;return Q.expirationMonth?Q.expirationMonth.select||(q="Expiration month field must be a select element."):q="Expiration month field must exist to use setMonthOptions.",q?Promise.reject(new p({type:b.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:b.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:q})):new Promise(function(de){K._bus.emit(E.SET_MONTH_OPTIONS,k,de)})},V.prototype.setMessage=function(k){this._bus.emit(E.SET_MESSAGE,{field:k.field,message:k.message})},V.prototype.removeAttribute=function(k){var K,Q;return y.hasOwnProperty(k.field)?this._fields.hasOwnProperty(k.field)?(K=X(k.attribute),K?Q=K:this._bus.emit(E.REMOVE_ATTRIBUTE,{field:k.field,attribute:k.attribute})):Q=new p({type:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+k.field+'" field because it is not part of the current Hosted Fields options.'}):Q=new p({type:b.HOSTED_FIELDS_FIELD_INVALID.type,code:b.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+k.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),Q?Promise.reject(Q):Promise.resolve()},V.prototype.setPlaceholder=function(k,K){return this.setAttribute({field:k,attribute:"placeholder",value:K})},V.prototype.clear=function(k){var K;return y.hasOwnProperty(k)?this._fields.hasOwnProperty(k)?this._bus.emit(E.CLEAR_FIELD,{field:k}):K=new p({type:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+k+'" field because it is not part of the current Hosted Fields options.'}):K=new p({type:b.HOSTED_FIELDS_FIELD_INVALID.type,code:b.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+k+'" is not a valid field. You must use a valid field option when clearing a field.'}),K?Promise.reject(K):Promise.resolve()},V.prototype.focus=function(k){var K,Q=this._fields[k];return y.hasOwnProperty(k)?this._fields.hasOwnProperty(k)?(Q.frameElement.focus(),this._bus.emit(E.TRIGGER_INPUT_FOCUS,{field:k}),I.isIos()&&setTimeout(function(){J(Q.containerElement)||Q.containerElement.scrollIntoView()},S)):K=new p({type:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:b.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+k+'" field because it is not part of the current Hosted Fields options.'}):K=new p({type:b.HOSTED_FIELDS_FIELD_INVALID.type,code:b.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+k+'" is not a valid field. You must use a valid field option when focusing a field.'}),K?Promise.reject(K):Promise.resolve()},V.prototype.getState=function(){return this._state};function ie(k){var K=n({},k);return K.fields=n({},K.fields),Object.keys(K.fields).forEach(function(Q){K.fields[Q]=n({},K.fields[Q]),delete K.fields[Q].container}),K}_.exports=F.wrapPrototype(V)},{"../../lib/analytics":119,"../../lib/assign":121,"../../lib/braintree-error":124,"../../lib/constants":126,"../../lib/convert-methods-to-error":127,"../../lib/create-assets-url":129,"../../lib/create-deferred-client":131,"../../lib/destructor":133,"../../lib/errors":135,"../../lib/find-root-node":136,"../../lib/is-verified-domain":153,"../../lib/methods":155,"../../lib/shadow":158,"../shared/browser-detection":111,"../shared/constants":112,"../shared/errors":113,"../shared/find-parent-tags":114,"../shared/focus-intercept":115,"../shared/get-card-types":116,"./attribute-validation-error":104,"./compose-url":105,"./focus-change":106,"./get-styles-from-class":107,"./inject-frame":109,"@braintree/event-emitter":33,"@braintree/iframer":35,"@braintree/uuid":39,"@braintree/wrap-promise":43,framebus:52}],109:[function(e,_,A){"use strict";var n=e("../shared/focus-intercept"),s=e("../shared/constants").navigationDirections;_.exports=function(c,i,m,h){var p=i.getAttribute("type"),f=document.createElement("div"),T=document.createDocumentFragment(),O=n.generate(c,p,s.BACK,h),b=n.generate(c,p,s.FORWARD,h);return f.style.clear="both",T.appendChild(O),T.appendChild(i),T.appendChild(b),T.appendChild(f),m.appendChild(T),[i,f]}},{"../shared/constants":112,"../shared/focus-intercept":115}],110:[function(e,_,A){"use strict";var n=e("./external/hosted-fields"),s=e("../lib/basic-component-verification"),o=e("./shared/errors"),c=e("restricted-input/supports-input-formatting"),i=e("@braintree/wrap-promise"),m=e("../lib/braintree-error"),h="3.97.0";function p(f){return s.verify({name:"Hosted Fields",authorization:f.authorization,client:f.client}).then(function(){var T=new n(f);return new Promise(function(O,b){T.on("ready",function(){O(T)}),T.on("timeout",function(){b(new m(o.HOSTED_FIELDS_TIMEOUT))})})})}_.exports={supportsInputFormatting:c,create:i(p),VERSION:h}},{"../lib/basic-component-verification":122,"../lib/braintree-error":124,"./external/hosted-fields":108,"./shared/errors":113,"@braintree/wrap-promise":43,"restricted-input/supports-input-formatting":71}],111:[function(e,_,A){"use strict";var n=e("@braintree/browser-detection/is-android"),s=e("@braintree/browser-detection/is-chrome-os"),o=e("@braintree/browser-detection/is-ios"),c=e("@braintree/browser-detection/is-chrome");function i(){return n()||s()||o()}function m(){return c()&&o()}_.exports={isAndroid:n,isChromeOS:s,isChromeIos:m,isFirefox:e("@braintree/browser-detection/is-firefox"),isIos:o,isIosWebview:e("@braintree/browser-detection/is-ios-webview"),hasSoftwareKeyboard:i}},{"@braintree/browser-detection/is-android":22,"@braintree/browser-detection/is-chrome":24,"@braintree/browser-detection/is-chrome-os":23,"@braintree/browser-detection/is-firefox":25,"@braintree/browser-detection/is-ios":30,"@braintree/browser-detection/is-ios-webview":28}],112:[function(e,_,A){"use strict";var n=e("../../lib/enumerate"),s=e("./errors"),o="3.97.0",c={VERSION:o,maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},navigationDirections:{BACK:"before",FORWARD:"after"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:s.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:s.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-box-shadow","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-box-shadow","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","box-shadow","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","margin","margin-top","margin-right","margin-bottom","margin-left","opacity","outline","padding","padding-top","padding-right","padding-bottom","padding-left","text-align","text-shadow","transition"],allowedFields:{cardholderName:{name:"cardholder-name",label:"Cardholder Name"},number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},autocompleteMappings:{"cardholder-name":"cc-name","credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};c.events=n(["ADD_CLASS","AUTOFILL_DATA_AVAILABLE","BIN_AVAILABLE","CARD_FORM_ENTRY_HAS_BEGUN","CLEAR_FIELD","CONFIGURATION","FRAME_READY","INPUT_EVENT","READY_FOR_CLIENT","REMOVE_ATTRIBUTE","REMOVE_CLASS","REMOVE_FOCUS_INTERCEPTS","SET_ATTRIBUTE","SET_MESSAGE","SET_MONTH_OPTIONS","TOKENIZATION_REQUEST","TRIGGER_FOCUS_CHANGE","TRIGGER_INPUT_FOCUS","VALIDATE_STRICT"],"hosted-fields:"),_.exports=c},{"../../lib/enumerate":134,"./errors":113}],113:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={HOSTED_FIELDS_TIMEOUT:{type:n.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:n.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":124}],114:[function(e,_,A){"use strict";function n(s,o){for(var c=s.parentNode,i=[];c!=null;)c.tagName!=null&&c.tagName.toLowerCase()===o&&i.push(c),c=c.parentNode;return i}_.exports=n},{}],115:[function(e,_,A){"use strict";var n=e("./browser-detection"),s=e("./constants"),o=Object.keys(s.allowedFields),c=s.navigationDirections,i={generate:function(m,h,p,f){var T=document.createElement("input"),O={border:"none !important",display:"block !important",height:"1px !important",left:"-1px !important",opacity:"0 !important",position:"absolute !important",top:"-1px !important",width:"1px !important"},b=n.hasSoftwareKeyboard()||n.isFirefox();return b?(T.setAttribute("aria-hidden","true"),T.setAttribute("autocomplete","off"),T.setAttribute("data-braintree-direction",p),T.setAttribute("data-braintree-type",h),T.setAttribute("id","bt-"+h+"-"+p+"-"+m),T.setAttribute("style",JSON.stringify(O).replace(/[{}"]/g,"").replace(/,/g,";")),T.classList.add("focus-intercept"),T.addEventListener("focus",function(P){f(P),n.hasSoftwareKeyboard()||T.blur()}),T):document.createDocumentFragment()},destroy:function(m){var h;m?h=[document.getElementById(m)]:(h=document.querySelectorAll("[data-braintree-direction]"),h=[].slice.call(h)),h.forEach(function(p){p&&p.nodeType===1&&i.matchFocusElement(p.getAttribute("id"))&&p.parentNode.removeChild(p)})},matchFocusElement:function(m){var h,p,f,T;return!m||(h=m.split("-"),h.length<4)?!1:(p=h[0]==="bt",f=o.indexOf(h[1])>-1,T=h[2]===c.BACK||h[2]===c.FORWARD,!!(p&&f&&T))}};_.exports=i},{"./browser-detection":111,"./constants":112}],116:[function(e,_,A){"use strict";var n=e("credit-card-type");_.exports=function(s){var o=n(s);return o.forEach(function(c){c.type==="mastercard"&&(c.type="master-card")}),o}},{"credit-card-type":44}],117:[function(e,_,A){"use strict";var n=e("./american-express"),s=e("./apple-pay"),o=e("./client"),c=e("./data-collector"),i=e("./hosted-fields"),m=e("./local-payment"),h=e("./masterpass"),p=e("./payment-request"),f=e("./paypal"),T=e("./paypal-checkout"),O=e("./google-payment"),b=e("./sepa"),P=e("./three-d-secure"),d=e("./unionpay"),u=e("./us-bank-account"),I=e("./vault-manager"),E=e("./venmo"),g=e("./visa-checkout"),C=e("./preferred-payment-methods"),v="3.97.0";_.exports={americanExpress:n,applePay:s,client:o,dataCollector:c,hostedFields:i,localPayment:m,masterpass:h,googlePayment:O,paymentRequest:p,paypal:f,paypalCheckout:T,threeDSecure:P,unionpay:d,usBankAccount:u,vaultManager:I,venmo:E,visaCheckout:g,sepa:b,preferredPaymentMethods:C,VERSION:v}},{"./american-express":74,"./apple-pay":77,"./client":82,"./data-collector":98,"./google-payment":103,"./hosted-fields":110,"./local-payment":164,"./masterpass":167,"./payment-request":172,"./paypal":179,"./paypal-checkout":176,"./preferred-payment-methods":182,"./sepa":186,"./three-d-secure":198,"./unionpay":202,"./us-bank-account":208,"./vault-manager":211,"./venmo":216,"./visa-checkout":226}],118:[function(e,_,A){"use strict";var n=e("./create-authorization-data"),s=e("./json-clone"),o=e("./constants");function c(i,m){var h,p=m?s(m):{},f=n(i.authorization).attrs,T=s(i.analyticsMetadata);p.braintreeLibraryVersion=o.BRAINTREE_LIBRARY_VERSION;for(h in p._meta)p._meta.hasOwnProperty(h)&&(T[h]=p._meta[h]);return p._meta=T,f.tokenizationKey?p.tokenizationKey=f.tokenizationKey:p.authorizationFingerprint=f.authorizationFingerprint,p}_.exports=c},{"./constants":126,"./create-authorization-data":130,"./json-clone":154}],119:[function(e,_,A){"use strict";var n=e("./constants"),s=e("./add-metadata");function o(c,i,m){var h=Date.now();return Promise.resolve(c).then(function(p){var f=Date.now(),T=p.getConfiguration(),O=p._request,b=T.gatewayConfiguration.analytics.url,P={analytics:[{kind:n.ANALYTICS_PREFIX+i,isAsync:Math.floor(f/1e3)!==Math.floor(h/1e3),timestamp:h}]};O({url:b,method:"post",data:s(T,P),timeout:n.ANALYTICS_REQUEST_TIMEOUT_MS},m)}).catch(function(p){m&&m(p)})}_.exports={sendEvent:o}},{"./add-metadata":118,"./constants":126}],120:[function(e,_,A){"use strict";var n=e("@braintree/asset-loader/load-script");_.exports={loadScript:n}},{"@braintree/asset-loader/load-script":3}],121:[function(e,_,A){"use strict";var n=typeof Object.assign=="function"?Object.assign:s;function s(o){var c,i,m;for(c=1;c<arguments.length;c++){i=arguments[c];for(m in i)i.hasOwnProperty(m)&&(o[m]=i[m])}return o}_.exports={assign:n,_assign:s}},{}],122:[function(e,_,A){"use strict";var n=e("./braintree-error"),s=e("./errors"),o="3.97.0";function c(i){var m,h,p;return i?(p=i.name,m=i.client,h=i.authorization,!m&&!h?Promise.reject(new n({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+p+"."})):!h&&m.getVersion()!==o?Promise.reject(new n({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+m.getVersion()+") and "+p+" (version "+o+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new n({type:s.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:s.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}_.exports={verify:c}},{"./braintree-error":124,"./errors":135}],123:[function(e,_,A){"use strict";var n=e("./once");function s(o,c){var i=o.length===0;i?(o(),c(null)):o(c)}_.exports=function(o,c){var i,m=o.length,h=m,p=n(c);if(m===0){p(null);return}function f(T){if(T){p(T);return}h-=1,h===0&&p(null)}for(i=0;i<m;i++)s(o[i],f)}},{"./once":156}],124:[function(e,_,A){"use strict";var n=e("./enumerate");function s(o){if(!s.types.hasOwnProperty(o.type))throw new Error(o.type+" is not a valid type.");if(!o.code)throw new Error("Error code required.");if(!o.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=o.code,this.message=o.message,this.type=o.type,this.details=o.details}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.types=n(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),s.findRootError=function(o){return o instanceof s&&o.details&&o.details.originalError?s.findRootError(o.details.originalError):o},_.exports=s},{"./enumerate":134}],125:[function(e,_,A){"use strict";function n(s){return s.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}_.exports=function(s){return Object.keys(s).reduce(function(o,c){var i=n(c);return o[i]=s[c],o},{})}},{}],126:[function(e,_,A){"use strict";var n="3.97.0",s="web",o={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},c={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},i={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};_.exports={ANALYTICS_PREFIX:s+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:c,CLIENT_API_URLS:o,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:i,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:s,BRAINTREE_LIBRARY_VERSION:"braintree/"+s+"/"+n}},{}],127:[function(e,_,A){"use strict";var n=e("./braintree-error"),s=e("./errors");_.exports=function(o,c){c.forEach(function(i){o[i]=function(){throw new n({type:s.METHOD_CALLED_AFTER_TEARDOWN.type,code:s.METHOD_CALLED_AFTER_TEARDOWN.code,message:i+" cannot be called after teardown."})}})}},{"./braintree-error":124,"./errors":135}],128:[function(e,_,A){"use strict";var n=e("./braintree-error");function s(o,c){return o instanceof n?o:new n({type:c.type,code:c.code,message:c.message,details:{originalError:o}})}_.exports=s},{"./braintree-error":124}],129:[function(e,_,A){"use strict";var n=e("./constants").ASSETS_URLS;function s(o){return n.production}_.exports={create:s}},{"./constants":126}],130:[function(e,_,A){"use strict";var n=e("../lib/vendor/polyfill").atob,s=e("../lib/constants").CLIENT_API_URLS;function o(m){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(m)}function c(m){var h=m.split("_"),p=h[0],f=h.slice(2).join("_");return{merchantId:f,environment:p}}function i(m){var h,p,f={attrs:{},configUrl:""};return o(m)?(p=c(m),f.environment=p.environment,f.attrs.tokenizationKey=m,f.configUrl=s[p.environment]+"/merchants/"+p.merchantId+"/client_api/v1/configuration"):(h=JSON.parse(n(m)),f.environment=h.environment,f.attrs.authorizationFingerprint=h.authorizationFingerprint,f.configUrl=h.configUrl,f.graphQL=h.graphQL),f}_.exports=i},{"../lib/constants":126,"../lib/vendor/polyfill":161}],131:[function(e,_,A){"use strict";var n=e("./braintree-error"),s=e("./assets"),o=e("./errors"),c="3.97.0";function i(m){var h=Promise.resolve();return m.client?Promise.resolve(m.client):(window.braintree&&window.braintree.client||(h=s.loadScript({src:m.assetsUrl+"/web/"+c+"/js/client.min.js"}).catch(function(p){return Promise.reject(new n({type:o.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:o.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:o.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:p}}))})),h.then(function(){return window.braintree.client.VERSION!==c?Promise.reject(new n({type:o.INCOMPATIBLE_VERSIONS.type,code:o.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+m.name+" (version "+c+") components must be from the same SDK version."})):window.braintree.client.create({authorization:m.authorization,debug:m.debug})}))}_.exports={create:i}},{"./assets":120,"./braintree-error":124,"./errors":135}],132:[function(e,_,A){"use strict";_.exports=function(n){return function(){var s=arguments;setTimeout(function(){n.apply(null,s)},1)}}},{}],133:[function(e,_,A){"use strict";var n=e("./batch-execute-functions");function s(){this._teardownRegistry=[],this._isTearingDown=!1}s.prototype.registerFunctionForTeardown=function(o){typeof o=="function"&&this._teardownRegistry.push(o)},s.prototype.teardown=function(o){if(this._isTearingDown){o(new Error("Destructor is already tearing down"));return}this._isTearingDown=!0,n(this._teardownRegistry,function(c){this._teardownRegistry=[],this._isTearingDown=!1,typeof o=="function"&&o(c)}.bind(this))},_.exports=s},{"./batch-execute-functions":123}],134:[function(e,_,A){"use strict";function n(s,o){return o=o??"",s.reduce(function(c,i){return c[i]=o+i,c},{})}_.exports=n},{}],135:[function(e,_,A){"use strict";var n=e("./braintree-error");_.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:n.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:n.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":124}],136:[function(e,_,A){"use strict";_.exports=function(s){for(;s.parentNode;)s=s.parentNode;return s}},{}],137:[function(e,_,A){"use strict";_.exports=function(n,s,o){var c;for(c=0;c<n.length;c++)if(n[c].hasOwnProperty(s)&&n[c][s]===o)return n[c];return null}},{}],138:[function(e,_,A){"use strict";var n=e("./strategies/popup"),s=e("./strategies/popup-bridge"),o=e("./strategies/modal"),c=e("framebus"),i=e("../shared/events"),m=e("../shared/errors"),h=e("../shared/constants"),p=e("@braintree/uuid"),f=e("@braintree/iframer"),T=e("../../braintree-error"),O=e("../shared/browser-detection"),b=e("./../../assign").assign,P=e("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,d=["name","dispatchFrameUrl","openFrameUrl"];function u(){}function I(g){if(!g)throw new Error("Valid configuration is required");if(d.forEach(function(C){if(!g.hasOwnProperty(C))throw new Error("A valid frame "+C+" must be provided")}),!/^[\w_]+$/.test(g.name))throw new Error("A valid frame name must be provided")}function E(g){I(g),this._serviceId=p().replace(/-/g,""),this._options={name:g.name+"_"+this._serviceId,dispatchFrameUrl:g.dispatchFrameUrl,openFrameUrl:g.openFrameUrl,height:g.height,width:g.width,top:g.top,left:g.left},this.state=g.state||{},this._bus=new c({channel:this._serviceId}),this._setBusEvents()}E.prototype.initialize=function(g){var C=function(){g(),this._bus.off(i.DISPATCH_FRAME_READY,C)}.bind(this);this._bus.on(i.DISPATCH_FRAME_READY,C),this._writeDispatchFrame()},E.prototype._writeDispatchFrame=function(){var g=h.DISPATCH_FRAME_NAME+"_"+this._serviceId,C=this._options.dispatchFrameUrl;this._dispatchFrame=f({"aria-hidden":!0,name:g,title:g,src:C,class:h.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},E.prototype._setBusEvents=function(){this._bus.on(i.DISPATCH_FRAME_REPORT,function(g,C){this._onCompleteCallback&&this._onCompleteCallback.call(null,g.err,g.payload),this._frame.close(),this._onCompleteCallback=null,C&&C()}.bind(this)),this._bus.on(P,function(g){g(this.state)}.bind(this))},E.prototype.open=function(g,C){if(g=g||{},this._frame=this._getFrameForEnvironment(g),this._frame.initialize(C),!(this._frame instanceof s)){if(b(this.state,g.state),this._onCompleteCallback=C,this._frame.open(),this.isFrameClosed()){this._cleanupFrame(),C&&C(new T(m.FRAME_SERVICE_FRAME_OPEN_FAILED));return}this._pollForPopupClose()}},E.prototype.redirect=function(g){this._frame&&!this.isFrameClosed()&&this._frame.redirect(g)},E.prototype.close=function(){this.isFrameClosed()||this._frame.close()},E.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},E.prototype.createHandler=function(g){return g=g||{},{close:function(){g.beforeClose&&g.beforeClose(),this.close()}.bind(this),focus:function(){g.beforeFocus&&g.beforeFocus(),this.focus()}.bind(this)}},E.prototype.createNoopHandler=function(){return{close:u,focus:u}},E.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},E.prototype.isFrameClosed=function(){return this._frame==null||this._frame.isClosed()},E.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},E.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new T(m.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),h.POPUP_POLL_INTERVAL),this._popupInterval},E.prototype._getFrameForEnvironment=function(g){var C=O.supportsPopups(),v=!!window.popupBridge,y=b({},this._options,g);return v?new s(y):C?new n(y):new o(y)},_.exports=E},{"../../braintree-error":124,"../../constants":126,"../shared/browser-detection":145,"../shared/constants":146,"../shared/errors":147,"../shared/events":148,"./../../assign":121,"./strategies/modal":140,"./strategies/popup":143,"./strategies/popup-bridge":141,"@braintree/iframer":35,"@braintree/uuid":39,framebus:52}],139:[function(e,_,A){"use strict";var n=e("./frame-service");_.exports={create:function(o,c){var i=new n(o);i.initialize(function(){c(i)})}}},{"./frame-service":138}],140:[function(e,_,A){"use strict";var n=e("@braintree/iframer"),s=e("../../../assign").assign,o=e("../../shared/browser-detection"),c={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function i(){}function m(h){this._closed=null,this._frame=null,this._options=h||{},this._container=this._options.container||document.body}m.prototype.initialize=i,m.prototype.open=function(){var h={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:s({},c),title:"Lightbox Frame"};o.isIos()?(o.isIosWKWebview()&&(this._lockScrolling(),h.style={}),this._el=document.createElement("div"),s(this._el.style,c,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=n(h),this._el.appendChild(this._frame)):this._el=this._frame=n(h),this._closed=!1,this._container.appendChild(this._el)},m.prototype.focus=i,m.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,o.isIosWKWebview()&&this._unlockScrolling()},m.prototype.isClosed=function(){return!!this._closed},m.prototype.redirect=function(h){this._frame.src=h},m.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},m.prototype._lockScrolling=function(){var h=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||h.scrollLeft)-(h.clientLeft||0),top:(window.pageYOffset||h.scrollTop)-(h.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},_.exports=m},{"../../../assign":121,"../../shared/browser-detection":145,"@braintree/iframer":35}],141:[function(e,_,A){"use strict";var n=e("../../../braintree-error"),s=e("../../shared/errors");function o(){}function c(i){this._closed=null,this._options=i}c.prototype.initialize=function(i){var m=this;window.popupBridge.onComplete=function(h,p){var f=!p&&!h;if(m._closed=!0,h||f){i(new n(s.FRAME_SERVICE_FRAME_CLOSED));return}i(null,p)}},c.prototype.open=function(i){var m;i=i||{},m=i.openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(m)},c.prototype.focus=o,c.prototype.close=o,c.prototype.isClosed=function(){return!!this._closed},c.prototype.redirect=function(i){this.open({openFrameUrl:i})},_.exports=c},{"../../../braintree-error":124,"../../shared/errors":147}],142:[function(e,_,A){"use strict";var n=e("../../../shared/constants"),s=e("./position");function o(c,i,m){return typeof i<"u"?i:s[c](m)}_.exports=function(i){var m=i.height||n.DEFAULT_POPUP_HEIGHT,h=i.width||n.DEFAULT_POPUP_WIDTH,p=o("top",i.top,m),f=o("left",i.left,h);return[n.POPUP_BASE_OPTIONS,"height="+m,"width="+h,"top="+p,"left="+f].join(",")}},{"../../../shared/constants":146,"./position":144}],143:[function(e,_,A){"use strict";var n=e("./compose-options");function s(){}function o(c){this._frame=null,this._options=c||{}}o.prototype.initialize=s,o.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,n(this._options))},o.prototype.focus=function(){this._frame.focus()},o.prototype.close=function(){this._frame.closed||this._frame.close()},o.prototype.isClosed=function(){return!this._frame||!!this._frame.closed},o.prototype.redirect=function(c){this._frame.location.href=c},_.exports=o},{"./compose-options":142}],144:[function(e,_,A){"use strict";function n(c){var i=window.outerHeight||document.documentElement.clientHeight,m=window.screenY==null?window.screenTop:window.screenY;return o(i,c,m)}function s(c){var i=window.outerWidth||document.documentElement.clientWidth,m=window.screenX==null?window.screenLeft:window.screenX;return o(i,c,m)}function o(c,i,m){return(c-i)/2+m}_.exports={top:n,left:s,center:o}},{}],145:[function(e,_,A){"use strict";_.exports={isIos:e("@braintree/browser-detection/is-ios"),isIosWKWebview:e("@braintree/browser-detection/is-ios-wkwebview"),supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ios":30,"@braintree/browser-detection/is-ios-wkwebview":29,"@braintree/browser-detection/supports-popups":32}],146:[function(e,_,A){"use strict";_.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],147:[function(e,_,A){"use strict";var n=e("../../braintree-error");_.exports={FRAME_SERVICE_FRAME_CLOSED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."}}},{"../../braintree-error":124}],148:[function(e,_,A){"use strict";var n=e("../../enumerate");_.exports=n(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":134}],149:[function(e,_,A){"use strict";var n="3.97.0",s=e("./assign").assign;function o(c,i){var m=c.analyticsMetadata,h={gateway:"braintree","braintree:merchantId":c.gatewayConfiguration.merchantId,"braintree:apiVersion":"v1","braintree:sdkVersion":n,"braintree:metadata":JSON.stringify({source:m.source,integration:m.integration,sessionId:m.sessionId,version:n,platform:m.platform})};return s({},h,i)}_.exports=function(c,i,m){var h,p,f=c.gatewayConfiguration.androidPay,T=c.gatewayConfiguration.environment==="production"?"PRODUCTION":"TEST";return i===2?(h={apiVersion:2,apiVersionMinor:0,environment:T,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:f.supportedNetworks.map(function(O){return O.toUpperCase()})},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:o(c,{"braintree:authorizationFingerprint":f.googleAuthorizationFingerprint})}}]},m&&(h.merchantInfo={merchantId:m}),f.paypalClientId&&(p={type:"PAYPAL",parameters:{purchase_context:{purchase_units:[{payee:{client_id:f.paypalClientId},recurring_payment:!0}]}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:o(c,{"braintree:paypalClientId":f.paypalClientId})}},h.allowedPaymentMethods.push(p))):(h={environment:T,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:o(c,{"braintree:authorizationFingerprint":f.googleAuthorizationFingerprint})},cardRequirements:{allowedCardNetworks:f.supportedNetworks.map(function(O){return O.toUpperCase()})}},c.authorizationType==="TOKENIZATION_KEY"&&(h.paymentMethodTokenizationParameters.parameters["braintree:clientKey"]=c.authorization),m&&(h.merchantId=m),i&&(h.apiVersion=i)),h}},{"./assign":121}],150:[function(e,_,A){"use strict";_.exports=function(s){s=s||window;try{return s.self!==s.top}catch{return!0}}},{}],151:[function(e,_,A){"use strict";function n(o){var c=o.split("-");return new Date(c[0],c[1],c[2])}function s(o,c){return n(o)<=n(c)}_.exports=s},{}],152:[function(e,_,A){"use strict";function n(s){return s=s||window.location.protocol,s==="https:"}_.exports={isHTTPS:n}},{}],153:[function(e,_,A){"use strict";var n,s={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function o(i){return i.split(".").slice(-2).join(".")}function c(i){var m;return i=i.toLowerCase(),/^https:/.test(i)?(n=n||document.createElement("a"),n.href=i,m=o(n.hostname),s.hasOwnProperty(m)):!1}_.exports=c},{}],154:[function(e,_,A){"use strict";_.exports=function(n){return JSON.parse(JSON.stringify(n))}},{}],155:[function(e,_,A){"use strict";_.exports=function(n){return Object.keys(n).filter(function(s){return typeof n[s]=="function"})}},{}],156:[function(e,_,A){"use strict";function n(s){var o=!1;return function(){o||(o=!0,s.apply(null,arguments))}}_.exports=n},{}],157:[function(e,_,A){"use strict";function n(h){var p;for(p in h)if(h.hasOwnProperty(p))return!0;return!1}function s(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.toString.call(h)==="[object Array]"||!1}function o(h){return h=h||window.location.href,/\?/.test(h)}function c(h){var p,f;return h=h||window.location.href,o(h)?(p=h.split("?")[1]||"",p=p.replace(/#.*$/,"").split("&"),f=p.reduce(function(T,O){var b=O.split("="),P=decodeURIComponent(b[0]),d=decodeURIComponent(b[1]);return T[P]=d,T},{}),f):{}}function i(h,p){var f,T,O,b=[];for(O in h)h.hasOwnProperty(O)&&(T=h[O],p?s(h)?f=p+"[]":f=p+"["+O+"]":f=O,typeof T=="object"?b.push(i(T,f)):b.push(encodeURIComponent(f)+"="+encodeURIComponent(T)));return b.join("&")}function m(h,p){return h=h||"",p!=null&&typeof p=="object"&&n(p)&&(h+=h.indexOf("?")===-1?"?":"",h+=h.indexOf("=")!==-1?"&":"",h+=i(p)),h}_.exports={parse:c,stringify:i,queryify:m,hasQueryParams:o}},{}],158:[function(e,_,A){"use strict";var n=e("@braintree/uuid"),s=e("./find-root-node");function o(m){return m=s(m),m.toString()==="[object ShadowRoot]"}function c(m){return m=s(m),o(m)?m.host:null}function i(m,h){var p=s(m).querySelector("style"),f=c(m),T="shadow-slot-"+n(),O=document.createElement("slot"),b=document.createElement("div");return O.setAttribute("name",T),m.appendChild(O),b.setAttribute("slot",T),f.appendChild(b),h&&(p||(p=document.createElement("style"),m.appendChild(p)),p.sheet.insertRule('::slotted([slot="'+T+'"]) { '+h+" }")),o(f)?i(b,h):b}_.exports={isShadowElement:o,getShadowHost:c,transformToSlot:i}},{"./find-root-node":136,"@braintree/uuid":39}],159:[function(e,_,A){"use strict";_.exports=function(n){return n.indexOf("_")===-1?n:n.toLowerCase().replace(/(\_\w)/g,function(s){return s[1].toUpperCase()})}},{}],160:[function(e,_,A){"use strict";function n(s){return s?"":".min"}_.exports=n},{}],161:[function(e,_,A){"use strict";var n=typeof atob=="function"?atob:s;function s(o){var c,i,m,h,p,f,T,O,b=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="";if(!b.test(o))throw new Error("Non base64 encoded input passed to window.atob polyfill");O=0;do h=P.indexOf(o.charAt(O++)),p=P.indexOf(o.charAt(O++)),f=P.indexOf(o.charAt(O++)),T=P.indexOf(o.charAt(O++)),c=(h&63)<<2|p>>4&3,i=(p&15)<<4|f>>2&15,m=(f&3)<<6|T&63,d+=String.fromCharCode(c)+(i?String.fromCharCode(i):"")+(m?String.fromCharCode(m):"");while(O<o.length);return d}_.exports={atob:function(o){return n.call(window,o)},_atob:s}},{}],162:[function(e,_,A){"use strict";_.exports={REQUIRED_OPTIONS_FOR_START_PAYMENT:["givenName","surname","currencyCode","onPaymentStart","paymentType","amount","fallback"],REQUIRED_OPTIONS_FOR_DEFERRED_PAYMENT_TYPE:["givenName","surname","currencyCode","onPaymentStart","paymentType","amount","address","billingAddress","birthDate","email","locale","customerServiceInstructions","correlationId","phone","phoneCountryCode","lineItems"],REQUIRED_OPTIONS_FOR_ADDRESS:["streetAddress","locality","postalCode","countryCode"],REQUIRED_OPTIONS_FOR_LINE_ITEMS:["category","name","quantity","unitAmount","unitTaxAmount"],DEFERRED_PAYMENT_TYPES:["pay_upon_invoice"]}},{}],163:[function(e,_,A){"use strict";var n=e("../../lib/frame-service/external"),s=e("../../lib/braintree-error"),o=e("../../lib/use-min"),c="3.97.0",i=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,m=e("../../lib/analytics"),h=e("../../lib/methods"),p=e("../../lib/convert-methods-to-error"),f=e("../../lib/convert-to-braintree-error"),T=e("@braintree/extended-promise"),O=e("../../lib/querystring"),b=e("@braintree/wrap-promise"),P=e("./constants"),d=e("../shared/errors"),u=1282,I=720;T.suppressUnhandledPromiseMessage=!0;function E(l){this._client=l.client,this._assetsUrl=l.client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/"+c,this._isDebug=l.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/local-payment-landing-frame"+o(this._isDebug)+".html",this._authorizationInProgress=!1,this._paymentType="unknown",this._merchantAccountId=l.merchantAccountId}E.prototype._initialize=function(){var l=this,R=this._client,D=setTimeout(function(){m.sendEvent(R,"local-payment.load.timed-out")},i);return new Promise(function(U){n.create({name:"localpaymentlandingpage",dispatchFrameUrl:l._assetsUrl+"/html/dispatch-frame"+o(l._isDebug)+".html",openFrameUrl:l._loadingFrameUrl},function(H){l._frameService=H,clearTimeout(D),m.sendEvent(R,"local-payment.load.succeeded"),U(l)})})},E.prototype.startPayment=function(l){var R,D,U,H,re,X,F,B,z=this,S=this._frameService._serviceId;return R=y(l),R?(D=new s(d.LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION),typeof R=="string"&&(D.details="Missing required '"+R+"' option."),Promise.reject(D)):(B=l.windowOptions||{},U=l.address||{},H=l.fallback||{},F=l.billingAddress||{},re={intent:"sale",returnUrl:O.queryify(z._assetsUrl+"/html/local-payment-redirect-frame"+o(z._isDebug)+".html",{channel:S,r:H.url,t:H.buttonText}),cancelUrl:O.queryify(z._assetsUrl+"/html/local-payment-redirect-frame"+o(z._isDebug)+".html",{channel:S,r:H.cancelUrl||H.url,t:H.cancelButtonText||H.buttonText,c:1}),experienceProfile:{brandName:l.displayName,noShipping:!l.shippingAddressRequired,locale:l.locale,customerServiceInstructions:l.customerServiceInstructions},fundingSource:l.paymentType,paymentTypeCountryCode:l.paymentTypeCountryCode,amount:l.amount,currencyIsoCode:l.currencyCode,firstName:l.givenName,lastName:l.surname,payerEmail:l.email,phone:l.phone,line1:U.streetAddress,line2:U.extendedAddress,city:U.locality,state:U.region,postalCode:U.postalCode,countryCode:U.countryCode,merchantAccountId:z._merchantAccountId,bic:l.bic,billingAddress:{line1:F.streetAddress,line2:F.extendedAddress,city:F.locality,state:F.region,postalCode:F.postalCode,countryCode:F.countryCode},birthDate:l.birthDate,correlationId:l.correlationId,discountAmount:l.discountAmount,phoneCountryCode:l.phoneCountryCode,shippingAmount:l.shippingAmount,lineItems:l.lineItems},z._paymentType=l.paymentType.toLowerCase(),z._authorizationInProgress?(m.sendEvent(z._client,z._paymentType+".local-payment.start-payment.error.already-opened"),Promise.reject(new s(d.LOCAL_PAYMENT_ALREADY_IN_PROGRESS))):(z._authorizationInProgress=!0,X=new T,g(l.paymentType)||(z._startPaymentCallback=z._createStartPaymentCallback(function(L){X.resolve(L)},function(L){X.reject(L)}),z._frameService.open({width:B.width||u,height:B.height||I},z._startPaymentCallback)),z._client.request({method:"post",endpoint:"local_payments/create",data:re}).then(function(L){m.sendEvent(z._client,z._paymentType+".local-payment.start-payment.opened"),z._startPaymentOptions=l,g(l.paymentType)?(l.onPaymentStart({paymentId:L.paymentResource.paymentToken}),z._authorizationInProgress=!1,X.resolve()):l.onPaymentStart({paymentId:L.paymentResource.paymentToken},function(){z._frameService.redirect(L.paymentResource.redirectUrl)})}).catch(function(L){var J=L.details&&L.details.httpStatus;if(z._frameService.close(),z._authorizationInProgress=!1,J===422){X.reject(new s({type:d.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.type,code:d.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.code,message:d.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.message,details:{originalError:L}}));return}X.reject(f(L,{type:d.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:d.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:d.LOCAL_PAYMENT_START_PAYMENT_FAILED.message}))}),X))},E.prototype.tokenize=function(l){var R=this,D=this._client;return l=l||O.parse(),l.queryItems&&(l=l.queryItems),l.c||l.wasCanceled?Promise.reject(new s({type:d.LOCAL_PAYMENT_CANCELED.type,code:d.LOCAL_PAYMENT_CANCELED.code,message:d.LOCAL_PAYMENT_CANCELED.message,details:{originalError:{errorcode:l.errorcode,token:l.btLpToken}}})):l.errorcode?Promise.reject(new s({type:d.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:d.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:d.LOCAL_PAYMENT_START_PAYMENT_FAILED.message,details:{originalError:{errorcode:l.errorcode,token:l.btLpToken}}})):D.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(l)}).then(function(U){var H=R._formatTokenizePayload(U);return window.popupBridge?m.sendEvent(D,R._paymentType+".local-payment.tokenization.success-popupbridge"):m.sendEvent(D,R._paymentType+".local-payment.tokenization.success"),H}).catch(function(U){return m.sendEvent(D,R._paymentType+".local-payment.tokenization.failed"),Promise.reject(f(U,{type:d.LOCAL_PAYMENT_TOKENIZATION_FAILED.type,code:d.LOCAL_PAYMENT_TOKENIZATION_FAILED.code,message:d.LOCAL_PAYMENT_TOKENIZATION_FAILED.message}))})},E.prototype.closeWindow=function(){this._authoriztionInProgress&&m.sendEvent(this._client,this._paymentType+".local-payment.start-payment.closed.by-merchant"),this._frameService.close()},E.prototype.focusWindow=function(){this._frameService.focus()},E.prototype._createStartPaymentCallback=function(l,R){var D=this,U=this._client;return function(H,re){if(D._authorizationInProgress=!1,H)if(H.code==="FRAME_SERVICE_FRAME_CLOSED"){if(re&&re.errorcode==="processing_error"){m.sendEvent(U,D._paymentType+".local-payment.failed-in-window"),R(new s(d.LOCAL_PAYMENT_START_PAYMENT_FAILED));return}m.sendEvent(U,D._paymentType+".local-payment.tokenization.closed.by-user"),R(new s(d.LOCAL_PAYMENT_WINDOW_CLOSED))}else H.code&&H.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&R(new s({code:d.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.code,type:d.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.type,message:d.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.message,details:{originalError:H}}));else re&&(window.popupBridge||D._frameService.redirect(D._loadingFrameUrl),D.tokenize(re).then(l).catch(R).then(function(){D._frameService.close()}))}},E.prototype._formatTokenizePayload=function(l){var R,D={};return l.paypalAccounts&&(D=l.paypalAccounts[0]),R={nonce:D.nonce,details:{},type:D.type},D.details&&(D.details.payerInfo&&(R.details=D.details.payerInfo),D.details.correlationId&&(R.correlationId=D.details.correlationId)),R},E.prototype.hasTokenizationParams=function(){var l=O.parse();return l.errorcode?!0:!!(l.btLpToken&&l.btLpPaymentId&&l.btLpPayerId)},E.prototype._formatTokenizeData=function(l){var R=this._client.getConfiguration(),D=R.gatewayConfiguration,U={merchantAccountId:this._merchantAccountId,paypalAccount:{correlationId:l.btLpToken||l.token,paymentToken:l.btLpPaymentId||l.paymentId,payerId:l.btLpPayerId||l.PayerID,unilateral:D.paypal.unvettedMerchant,intent:"sale"}};return U};function g(l){return P.DEFERRED_PAYMENT_TYPES.indexOf(l)>=0}function C(l){var R,D;for(R=0;R<P.REQUIRED_OPTIONS_FOR_ADDRESS.length;R++)if(D=P.REQUIRED_OPTIONS_FOR_ADDRESS[R],!l.hasOwnProperty(D))return D;return!1}function v(l){var R,D,U,H;for(D=0;D<l.length;D++)for(U=l[D],R=0;R<P.REQUIRED_OPTIONS_FOR_LINE_ITEMS.length;R++)if(H=P.REQUIRED_OPTIONS_FOR_LINE_ITEMS[R],!U.hasOwnProperty(H))return H;return!1}function y(l){var R,D,U,H;if(!l)return!0;if(g(l.paymentType))for(R=0;R<P.REQUIRED_OPTIONS_FOR_DEFERRED_PAYMENT_TYPE.length;R++){if(D=P.REQUIRED_OPTIONS_FOR_DEFERRED_PAYMENT_TYPE[R],!l.hasOwnProperty(D))return D;if(D==="address"||D==="billingAddress"){if(U=C(l[D]),U)return D+"."+U}else if(D==="lineItems"&&(H=v(l[D]),H))return D+"."+H}else{for(R=0;R<P.REQUIRED_OPTIONS_FOR_START_PAYMENT.length;R++)if(D=P.REQUIRED_OPTIONS_FOR_START_PAYMENT[R],!l.hasOwnProperty(D))return D;if(!l.fallback.url)return"fallback.url";if(!l.fallback.buttonText)return"fallback.buttonText"}return!1}E.prototype.teardown=function(){var l=this;return l._frameService.teardown(),p(l,h(E.prototype)),m.sendEvent(l._client,"local-payment.teardown-completed"),Promise.resolve()},_.exports=b.wrapPrototype(E)},{"../../lib/analytics":119,"../../lib/braintree-error":124,"../../lib/constants":126,"../../lib/convert-methods-to-error":127,"../../lib/convert-to-braintree-error":128,"../../lib/frame-service/external":139,"../../lib/methods":155,"../../lib/querystring":157,"../../lib/use-min":160,"../shared/errors":165,"./constants":162,"@braintree/extended-promise":34,"@braintree/wrap-promise":43}],164:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i=e("./external/local-payment"),m="3.97.0",h=e("@braintree/wrap-promise"),p=e("../lib/braintree-error"),f=e("./shared/errors");function T(O){var b="Local Payment";return s.verify({name:b,client:O.client,authorization:O.authorization}).then(function(){return o.create({authorization:O.authorization,client:O.client,debug:O.debug,assetsUrl:c.create(O.authorization),name:b})}).then(function(P){var d,u=P.getConfiguration();return O.client=P,u.gatewayConfiguration.paypalEnabled!==!0?Promise.reject(new p(f.LOCAL_PAYMENT_NOT_ENABLED)):(n.sendEvent(P,"local-payment.initialized"),d=new i(O),d._initialize())})}_.exports={create:h(T),VERSION:m}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./external/local-payment":163,"./shared/errors":165,"@braintree/wrap-promise":43}],165:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={LOCAL_PAYMENT_NOT_ENABLED:{type:n.types.MERCHANT,code:"LOCAL_PAYMENT_NOT_ENABLED",message:"LocalPayment is not enabled for this merchant."},LOCAL_PAYMENT_ALREADY_IN_PROGRESS:{type:n.types.MERCHANT,code:"LOCAL_PAYMENT_ALREADY_IN_PROGRESS",message:"LocalPayment payment is already in progress."},LOCAL_PAYMENT_CANCELED:{type:n.types.CUSTOMER,code:"LOCAL_PAYMENT_CANCELED",message:"Customer canceled the LocalPayment before authorizing."},LOCAL_PAYMENT_WINDOW_CLOSED:{type:n.types.CUSTOMER,code:"LOCAL_PAYMENT_WINDOW_CLOSED",message:"Customer closed LocalPayment window before authorizing."},LOCAL_PAYMENT_WINDOW_OPEN_FAILED:{type:n.types.MERCHANT,code:"LOCAL_PAYMENT_WINDOW_OPEN_FAILED",message:"LocalPayment window failed to open; make sure startPayment was called in response to a user action."},LOCAL_PAYMENT_START_PAYMENT_FAILED:{type:n.types.NETWORK,code:"LOCAL_PAYMENT_START_PAYMENT_FAILED",message:"LocalPayment startPayment failed."},LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION:{type:n.types.MERCHANT,code:"LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION",message:"Missing required option for startPayment."},LOCAL_PAYMENT_TOKENIZATION_FAILED:{type:n.types.NETWORK,code:"LOCAL_PAYMENT_TOKENIZATION_FAILED",message:"Could not tokenize user's local payment method."},LOCAL_PAYMENT_INVALID_PAYMENT_OPTION:{type:n.types.MERCHANT,code:"LOCAL_PAYMENT_INVALID_PAYMENT_OPTION",message:"Local payment options are invalid."}}},{"../../lib/braintree-error":124}],166:[function(e,_,A){"use strict";var n=e("../../lib/frame-service/external"),s=e("../../lib/braintree-error"),o=e("../shared/errors"),c="3.97.0",i=e("../../lib/methods"),m=e("@braintree/wrap-promise"),h=e("../../lib/analytics"),p=e("../../lib/convert-methods-to-error"),f=e("../../lib/convert-to-braintree-error"),T=e("../shared/constants"),O=e("../../lib/constants").INTEGRATION_TIMEOUT_MS;function b(u){var I=u.client.getConfiguration();this._client=u.client,this._assetsUrl=I.gatewayConfiguration.assetsUrl+"/web/"+c,this._isDebug=I.isDebug,this._authInProgress=!1,window.popupBridge&&typeof window.popupBridge.getReturnUrlPrefix=="function"?this._callbackUrl=window.popupBridge.getReturnUrlPrefix()+"return":this._callbackUrl=this._assetsUrl+"/html/redirect-frame"+(this._isDebug?"":".min")+".html"}b.prototype._initialize=function(){var u=this;return new Promise(function(I){var E=setTimeout(function(){h.sendEvent(u._client,"masterpass.load.timed-out")},O);n.create({name:T.LANDING_FRAME_NAME,height:T.POPUP_HEIGHT,width:T.POPUP_WIDTH,dispatchFrameUrl:u._assetsUrl+"/html/dispatch-frame"+(u._isDebug?"":".min")+".html",openFrameUrl:u._assetsUrl+"/html/masterpass-landing-frame"+(u._isDebug?"":".min")+".html"},function(g){u._frameService=g,clearTimeout(E),h.sendEvent(u._client,"masterpass.load.succeeded"),I(u)})})},b.prototype.tokenize=function(u){var I=this;return!u||d(u)?Promise.reject(new s(o.MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION)):I._authInProgress?Promise.reject(new s(o.MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS)):new Promise(function(E,g){I._navigateFrameToLoadingPage(u).catch(g),I._frameService.open(u.frameOptions,I._createFrameOpenHandler(E,g))})},b.prototype._navigateFrameToLoadingPage=function(u){var I=this;return this._authInProgress=!0,this._client.request({method:"post",endpoint:"masterpass/request_token",data:{requestToken:{originUrl:window.location.protocol+"//"+window.location.hostname,subtotal:u.subtotal,currencyCode:u.currencyCode,callbackUrl:this._callbackUrl}}}).then(function(E){var g=I._assetsUrl+"/html/masterpass-loading-frame"+(I._isDebug?"":".min")+".html?",C=I._client.getConfiguration().gatewayConfiguration,v=u.config||{},y;y={environment:C.environment,requestToken:E.requestToken,callbackUrl:I._callbackUrl,merchantCheckoutId:C.masterpass.merchantCheckoutId,allowedCardTypes:C.masterpass.supportedNetworks,version:T.MASTERPASS_VERSION},Object.keys(v).forEach(function(l){typeof v[l]!="function"&&(y[l]=v[l])}),g+=Object.keys(y).map(function(l){return l+"="+y[l]}).join("&"),I._frameService.redirect(g)}).catch(function(E){var g=E.details&&E.details.httpStatus;return I._closeWindow(),g===422?Promise.reject(f(E,o.MASTERPASS_INVALID_PAYMENT_OPTION)):Promise.reject(f(E,o.MASTERPASS_FLOW_FAILED))})},b.prototype._createFrameOpenHandler=function(u,I){var E=this;return window.popupBridge?function(g,C){if(E._authInProgress=!1,g){h.sendEvent(E._client,"masterpass.tokenization.closed-popupbridge.by-user"),I(f(g,o.MASTERPASS_POPUP_CLOSED));return}else if(!C.queryItems){h.sendEvent(E._client,"masterpass.tokenization.failed-popupbridge"),I(new s(o.MASTERPASS_FLOW_FAILED));return}E._tokenizeMasterpass(C.queryItems).then(u).catch(I)}:function(g,C){if(g){if(E._authInProgress=!1,g.code==="FRAME_SERVICE_FRAME_CLOSED"){h.sendEvent(E._client,"masterpass.tokenization.closed.by-user"),I(new s(o.MASTERPASS_POPUP_CLOSED));return}if(g.code&&g.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1){h.sendEvent(E._client,"masterpass.tokenization.failed.to-open"),I(new s({code:o.MASTERPASS_POPUP_OPEN_FAILED.code,type:o.MASTERPASS_POPUP_OPEN_FAILED.type,message:o.MASTERPASS_POPUP_OPEN_FAILED.message,details:{originalError:g}}));return}h.sendEvent(E._client,"masterpass.tokenization.failed"),E._closeWindow(),I(f(g,o.MASTERPASS_FLOW_FAILED));return}E._tokenizeMasterpass(C).then(u).catch(I)}},b.prototype._tokenizeMasterpass=function(u){var I=this;return u.mpstatus!=="success"?(h.sendEvent(I._client,"masterpass.tokenization.closed.by-user"),I._closeWindow(),Promise.reject(new s(o.MASTERPASS_POPUP_CLOSED))):P(u)?(h.sendEvent(I._client,"masterpass.tokenization.closed.missing-payload"),I._closeWindow(),Promise.reject(new s(o.MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS))):I._client.request({endpoint:"payment_methods/masterpass_cards",method:"post",data:{masterpassCard:{checkoutResourceUrl:u.checkout_resource_url,requestToken:u.oauth_token,verifierToken:u.oauth_verifier}}}).then(function(E){return I._closeWindow(),window.popupBridge?h.sendEvent(I._client,"masterpass.tokenization.success-popupbridge"):h.sendEvent(I._client,"masterpass.tokenization.success"),E.masterpassCards[0]}).catch(function(E){return I._closeWindow(),window.popupBridge?h.sendEvent(I._client,"masterpass.tokenization.failed-popupbridge"):h.sendEvent(I._client,"masterpass.tokenization.failed"),Promise.reject(f(E,o.MASTERPASS_ACCOUNT_TOKENIZATION_FAILED))})};function P(u){return[u.oauth_verifier,u.oauth_token,u.checkout_resource_url].some(function(I){return I==null||I==="null"})}b.prototype._closeWindow=function(){this._authInProgress=!1,this._frameService.close()},b.prototype.teardown=function(){var u=this;return new Promise(function(I){u._frameService.teardown(),p(u,i(b.prototype)),h.sendEvent(u._client,"masterpass.teardown-completed"),I()})};function d(u){var I,E;for(I=0;I<T.REQUIRED_OPTIONS_FOR_TOKENIZE.length;I++)if(E=T.REQUIRED_OPTIONS_FOR_TOKENIZE[I],!u.hasOwnProperty(E))return!0;return!1}_.exports=m.wrapPrototype(b)},{"../../lib/analytics":119,"../../lib/braintree-error":124,"../../lib/constants":126,"../../lib/convert-methods-to-error":127,"../../lib/convert-to-braintree-error":128,"../../lib/frame-service/external":139,"../../lib/methods":155,"../shared/constants":169,"../shared/errors":170,"@braintree/wrap-promise":43}],167:[function(e,_,A){"use strict";var n=e("../lib/braintree-error"),s=e("../lib/basic-component-verification"),o=e("./shared/browser-detection"),c=e("./external/masterpass"),i=e("../lib/create-deferred-client"),m=e("../lib/create-assets-url"),h="3.97.0",p=e("./shared/errors"),f=e("@braintree/wrap-promise");function T(b){var P="Masterpass";return s.verify({name:P,client:b.client,authorization:b.authorization}).then(function(){return O()?Promise.resolve():Promise.reject(new n(p.MASTERPASS_BROWSER_NOT_SUPPORTED))}).then(function(){return i.create({authorization:b.authorization,client:b.client,debug:b.debug,assetsUrl:m.create(b.authorization),name:P})}).then(function(d){var u,I;return b.client=d,I=b.client.getConfiguration().gatewayConfiguration,I.masterpass?(u=new c(b),u._initialize()):Promise.reject(new n(p.MASTERPASS_NOT_ENABLED))})}function O(){return!!(window.popupBridge||o.supportsPopups())}_.exports={create:f(T),isSupported:O,VERSION:h}},{"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./external/masterpass":166,"./shared/browser-detection":168,"./shared/errors":170,"@braintree/wrap-promise":43}],168:[function(e,_,A){"use strict";_.exports={supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/supports-popups":32}],169:[function(e,_,A){"use strict";_.exports={LANDING_FRAME_NAME:"braintreemasterpasslanding",POPUP_WIDTH:450,POPUP_HEIGHT:660,MASTERPASS_VERSION:"v6",REQUIRED_OPTIONS_FOR_TOKENIZE:["subtotal","currencyCode"]}},{}],170:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={MASTERPASS_BROWSER_NOT_SUPPORTED:{type:n.types.CUSTOMER,code:"MASTERPASS_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},MASTERPASS_NOT_ENABLED:{type:n.types.MERCHANT,code:"MASTERPASS_NOT_ENABLED",message:"Masterpass is not enabled for this merchant."},MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION:{type:n.types.MERCHANT,code:"MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION",message:"Missing required option for tokenize."},MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS:{type:n.types.MERCHANT,code:"MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS",message:"Masterpass tokenization is already in progress."},MASTERPASS_ACCOUNT_TOKENIZATION_FAILED:{type:n.types.NETWORK,code:"MASTERPASS_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's Masterpass account."},MASTERPASS_POPUP_OPEN_FAILED:{type:n.types.MERCHANT,code:"MASTERPASS_POPUP_OPEN_FAILED",message:"Masterpass popup failed to open. Make sure to tokenize in response to a user action, such as a click."},MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS:{type:n.types.MERCHANT,code:"MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS",message:"Masterpass popup failed to return all required parameters needed to continue tokenization."},MASTERPASS_POPUP_CLOSED:{type:n.types.CUSTOMER,code:"MASTERPASS_POPUP_CLOSED",message:"Customer closed Masterpass popup before authorizing."},MASTERPASS_INVALID_PAYMENT_OPTION:{type:n.types.MERCHANT,code:"MASTERPASS_INVALID_PAYMENT_OPTION",message:"Masterpass payment options are invalid."},MASTERPASS_FLOW_FAILED:{type:n.types.NETWORK,code:"MASTERPASS_FLOW_FAILED",message:"Could not initialize Masterpass flow."}}},{"../../lib/braintree-error":124}],171:[function(e,_,A){"use strict";var n=e("../../lib/analytics"),s=e("../../lib/assign").assign,o=e("framebus"),c=e("../../lib/convert-methods-to-error"),i=e("../../lib/generate-google-pay-configuration"),m=e("@braintree/iframer"),h=e("@braintree/uuid"),p=e("../../lib/use-min"),f=e("../../lib/methods"),T=e("@braintree/event-emitter"),O=e("../../lib/braintree-error"),b="3.97.0",P=e("../shared/constants"),d=P.events,u=P.errors,I=e("@braintree/wrap-promise"),E={Visa:"visa",MasterCard:"mastercard","American Express":"amex","Diners Club":"diners",Discover:"discover",JCB:"jcb",UnionPay:"unionpay",Maestro:"maestro"},g="18278000977346790994";function C(y,l,R){var D=y;return D+"/web/"+b+"/html/payment-request-frame"+p(R)+".html#"+l}function v(y){var l=y.enabledPaymentMethods||{};T.call(this),this._componentId=h(),this._client=y.client,this._enabledPaymentMethods={basicCard:l.basicCard!==!1,googlePay:l.googlePay!==!1},this._googlePayVersion=y.googlePayVersion===2?2:1,this._googleMerchantId=g,this._supportedPaymentMethods=this._constructDefaultSupportedPaymentMethods(),this._defaultSupportedPaymentMethods=Object.keys(this._supportedPaymentMethods).map(function(R){return this._supportedPaymentMethods[R]}.bind(this)),this._bus=new o({channel:this._componentId})}T.createChild(v),v.prototype._constructDefaultSupportedPaymentMethods=function(){var y=this._client.getConfiguration(),l=y.gatewayConfiguration.androidPay,R=y.gatewayConfiguration.creditCards,D={};return this._enabledPaymentMethods.basicCard&&R&&R.supportedCardTypes.length>0&&(D.basicCard={supportedMethods:"basic-card",data:{supportedNetworks:R.supportedCardTypes.reduce(function(U,H){return H in E&&U.push(E[H]),U},[])}}),this._enabledPaymentMethods.googlePay&&l&&l.enabled&&(D.googlePay={supportedMethods:"https://google.com/pay",data:i(y,this._googlePayVersion,this._googleMerchantId)}),D},v.prototype.initialize=function(){var y=this._client.getConfiguration(),l=this;return this._frame=m({allowPaymentRequest:!0,name:"braintree-payment-request-frame",class:"braintree-payment-request-frame",height:0,width:0,style:{position:"absolute",left:"-9999px"},title:"Secure Payment Frame"}),this._defaultSupportedPaymentMethods.length===0?Promise.reject(new O(u.PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS)):new Promise(function(R){l._bus.on(d.FRAME_READY,function(D){D(l._client)}),l._bus.on(d.FRAME_CAN_MAKE_REQUESTS,function(){n.sendEvent(l._client,"payment-request.initialized"),l._bus.on(d.SHIPPING_ADDRESS_CHANGE,function(D){var U={target:{shippingAddress:D},updateWith:function(H){l._bus.emit(d.UPDATE_SHIPPING_ADDRESS,H)}};l._emit("shippingAddressChange",U),l._emit("shippingaddresschange",U)}),l._bus.on(d.SHIPPING_OPTION_CHANGE,function(D){var U={target:{shippingOption:D},updateWith:function(H){l._bus.emit(d.UPDATE_SHIPPING_OPTION,H)}};l._emit("shippingOptionChange",U),l._emit("shippingoptionchange",U)}),R(l)}),l._frame.src=C(y.gatewayConfiguration.assetsUrl,l._componentId,y.isDebug),document.body.appendChild(l._frame)})},v.prototype.createSupportedPaymentMethodsConfiguration=function(y,l){var R;if(!y)throw new O(u.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE);if(!this._enabledPaymentMethods[y])throw new O(u.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED);return R=s({},this._supportedPaymentMethods[y]),R.data=s({},R.data,l),R},v.prototype.tokenize=function(y){var l=this;return new Promise(function(R,D){l._bus.emit(d.PAYMENT_REQUEST_INITIALIZED,{supportedPaymentMethods:y.supportedPaymentMethods||l._defaultSupportedPaymentMethods,details:y.details,options:y.options},function(U){var H=U[0],re=U[1];if(H){D(l._formatTokenizationError(H));return}n.sendEvent(l._client,"payment-request.tokenize.succeeded"),R({nonce:re.nonce,type:re.type,description:re.description,details:{rawPaymentResponse:re.details.rawPaymentResponse,cardType:re.details.cardType,lastFour:re.details.lastFour,lastTwo:re.details.lastTwo},binData:re.binData})})})},v.prototype.canMakePayment=function(y){var l=this,R;return window.PaymentRequest?y.supportedPaymentMethods&&(y.supportedPaymentMethods.forEach(function(D){var U=D.supportedMethods;U in P.SUPPORTED_METHODS||(R=U)}),R)?Promise.reject(new O({type:u.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.type,code:u.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.code,message:R+" is not a supported payment method."})):new Promise(function(D,U){l._bus.emit(d.CAN_MAKE_PAYMENT,{supportedPaymentMethods:y.supportedPaymentMethods||l._defaultSupportedPaymentMethods,details:y.details,options:y.options},function(H){var re=H[0],X=H[1];if(re){U(l._formatCanMakePaymentError(re));return}n.sendEvent(l._client,"payment-request.can-make-payment."+X),D(X)})}):(n.sendEvent(l._client,"payment-request.can-make-payment.not-available"),Promise.resolve(!1))},v.prototype.teardown=function(){return this._bus.teardown(),this._frame.parentNode.removeChild(this._frame),c(this,f(v.prototype)),n.sendEvent(this._client,"payment-request.teardown-completed"),Promise.resolve()},v.prototype._formatTokenizationError=function(y){var l;switch(y.name){case"AbortError":return l=new O({type:u.PAYMENT_REQUEST_CANCELED.type,code:u.PAYMENT_REQUEST_CANCELED.code,message:u.PAYMENT_REQUEST_CANCELED.message,details:{originalError:y}}),n.sendEvent(this._client,"payment-request.tokenize.canceled"),l;case"PAYMENT_REQUEST_INITIALIZATION_FAILED":l=new O({type:u.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:u.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:u.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:y}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_TOKENIZATION_ERROR":l=new O({type:u.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.type,code:u.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.code,message:u.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.message,details:{originalError:y}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_PARSING_ERROR":l=new O({type:u.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.type,code:u.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.code,message:u.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.message,details:{originalError:y}});break;default:l=new O({code:u.PAYMENT_REQUEST_NOT_COMPLETED.code,type:y.type||O.types.CUSTOMER,message:u.PAYMENT_REQUEST_NOT_COMPLETED.message,details:{originalError:y}})}return n.sendEvent(this._client,"payment-request.tokenize.failed"),l},v.prototype._formatCanMakePaymentError=function(y){var l;switch(y.name){case"PAYMENT_REQUEST_INITIALIZATION_FAILED":l=new O({type:u.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:u.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:u.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:y}});break;case"NotAllowedError":l=new O({type:u.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.type,code:u.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.code,message:u.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.message,details:{originalError:y}});break;default:l=new O({code:u.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.code,type:u.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.type,message:u.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.message,details:{originalError:y}})}return n.sendEvent(this._client,"payment-request.can-make-payment.failed"),l},_.exports=I.wrapPrototype(v)},{"../../lib/analytics":119,"../../lib/assign":121,"../../lib/braintree-error":124,"../../lib/convert-methods-to-error":127,"../../lib/generate-google-pay-configuration":149,"../../lib/methods":155,"../../lib/use-min":160,"../shared/constants":173,"@braintree/event-emitter":33,"@braintree/iframer":35,"@braintree/uuid":39,"@braintree/wrap-promise":43,framebus:52}],172:[function(e,_,A){"use strict";var n=e("./external/payment-request"),s=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i=e("@braintree/wrap-promise"),m="3.97.0";function h(p){var f="Payment Request";return s.verify({name:f,client:p.client,authorization:p.authorization}).then(function(){return o.create({authorization:p.authorization,client:p.client,debug:p.debug,assetsUrl:c.create(p.authorization),name:f})}).then(function(T){var O;return p.client=T,O=new n(p),O.initialize()})}_.exports={create:i(h),VERSION:m}},{"../lib/basic-component-verification":122,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./external/payment-request":171,"@braintree/wrap-promise":43}],173:[function(e,_,A){"use strict";var n=e("../../lib/enumerate"),s=e("./errors"),o={};o.events=n(["CAN_MAKE_PAYMENT","FRAME_READY","FRAME_CAN_MAKE_REQUESTS","PAYMENT_REQUEST_INITIALIZED","SHIPPING_ADDRESS_CHANGE","UPDATE_SHIPPING_ADDRESS","SHIPPING_OPTION_CHANGE","UPDATE_SHIPPING_OPTION"],"payment-request:"),o.errors=s,o.SUPPORTED_METHODS={"basic-card":!0,"https://google.com/pay":!0},_.exports=o},{"../../lib/enumerate":134,"./errors":174}],174:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS:{type:n.types.MERCHANT,code:"PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS",message:"There are no supported payment methods associated with this account."},PAYMENT_REQUEST_CANCELED:{type:n.types.CUSTOMER,code:"PAYMENT_REQUEST_CANCELED",message:"Payment request was canceled."},PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED:{type:n.types.MERCHANT,code:"PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED",message:"Something went wrong when configuring the payment request."},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED:{type:n.types.UNKNOWN,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED",message:"Something went wrong when calling `canMakePayment`"},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED:{type:n.types.MERCHANT,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED",message:"Something went wrong when calling `canMakePayment`. Most likely, `canMakePayment` was called multiple times with different supportedMethods configurations."},PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD:{type:n.types.MERCHANT,code:"PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD"},PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE:{type:n.types.MERCHANT,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR:{type:n.types.UNKNOWN,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_NOT_COMPLETED:{code:"PAYMENT_REQUEST_NOT_COMPLETED",message:"Payment request could not be completed."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE:{type:n.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE",message:"createSupportedPaymentMethodsConfiguration must include a type parameter."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED:{type:n.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED",message:"createSupportedPaymentMethodsConfiguration type parameter must be valid or enabled."}}},{"../../lib/braintree-error":124}],175:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={PAYPAL_NOT_ENABLED:{type:n.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:n.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:n.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:n.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:n.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:n.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."},PAYPAL_MISSING_REQUIRED_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_MISSING_REQUIRED_OPTION",message:"Missing required option."}}},{"../lib/braintree-error":124}],176:[function(e,_,A){"use strict";var n=e("../lib/basic-component-verification"),s=e("@braintree/wrap-promise"),o=e("./paypal-checkout"),c="3.97.0";function i(h){var p="PayPal Checkout";return n.verify({name:p,client:h.client,authorization:h.authorization}).then(function(){var f=new o(h);return f._initialize(h)})}function m(){return!0}_.exports={create:s(i),isSupported:m,VERSION:c}},{"../lib/basic-component-verification":122,"./paypal-checkout":177,"@braintree/wrap-promise":43}],177:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("../lib/assign").assign,o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i=e("@braintree/extended-promise"),m=e("@braintree/wrap-promise"),h=e("../lib/braintree-error"),p=e("../lib/convert-to-braintree-error"),f=e("./errors"),T=e("../paypal/shared/constants"),O=e("../lib/frame-service/external"),b=e("../lib/create-authorization-data"),P=e("../lib/methods"),d=e("../lib/use-min"),u=e("../lib/convert-methods-to-error"),I=e("../lib/querystring"),E="3.97.0",g=e("../lib/constants").INTEGRATION_TIMEOUT_MS,C=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken"],v="https://www.{ENV}paypal.com/smart/buttons/preload";i.suppressUnhandledPromiseMessage=!0;function y(l){this._merchantAccountId=l.merchantAccountId,this._autoSetDataUserIdToken=!!l.autoSetDataUserIdToken}y.prototype._initialize=function(l){var R;return l.client?(R=l.client.getConfiguration(),this._authorizationInformation={fingerprint:R.authorizationFingerprint,environment:R.gatewayConfiguration.environment}):(R=b(l.authorization),this._authorizationInformation={fingerprint:R.attrs.authorizationFingerprint,environment:R.environment}),this._clientPromise=o.create({authorization:l.authorization,client:l.client,debug:l.debug,assetsUrl:c.create(l.authorization),name:"PayPal Checkout"}).then(function(D){return this._configuration=D.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?this._configuration.gatewayConfiguration.paypal.environmentNoNetwork===!0&&(this._setupError=new h(f.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new h(f.PAYPAL_NOT_ENABLED)),this._setupError?Promise.reject(this._setupError):(n.sendEvent(D,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(D),D)}.bind(this)),l.client?this._clientPromise.then(function(){return this}.bind(this)):Promise.resolve(this)},y.prototype._setupFrameService=function(l){var R=new i,D=l.getConfiguration(),U=setTimeout(function(){n.sendEvent(l,"paypal-checkout.frame-service.timed-out"),R.reject(new h(f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))},g);return this._assetsUrl=D.gatewayConfiguration.paypal.assetsUrl+"/web/"+E,this._isDebug=D.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+d(this._isDebug)+".html",O.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+d(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},function(H){this._frameService=H,clearTimeout(U),R.resolve()}.bind(this)),R},y.prototype.createPayment=function(l){return!l||!T.FLOW_ENDPOINTS.hasOwnProperty(l.flow)?Promise.reject(new h(f.PAYPAL_FLOW_OPTION_REQUIRED)):(n.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(l).then(function(R){var D,U;return l.flow==="checkout"?(U=I.parse(R.paymentResource.redirectUrl),D=U.token):D=R.agreementSetup.tokenId,D}))},y.prototype._createPaymentResource=function(l,R){var D=this,U="paypal_hermes/"+T.FLOW_ENDPOINTS[l.flow];return delete this.intentFromCreatePayment,R=R||{},l.offerCredit===!0&&n.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(H){return H.request({endpoint:U,method:"post",data:D._formatPaymentResourceData(l,R)}).then(function(re){return D.intentFromCreatePayment=l.intent,re})}).catch(function(H){var re;return D._setupError?Promise.reject(D._setupError):(re=H.details&&H.details.httpStatus,re===422?Promise.reject(new h({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:H}})):Promise.reject(p(H,{type:f.PAYPAL_FLOW_FAILED.type,code:f.PAYPAL_FLOW_FAILED.code,message:f.PAYPAL_FLOW_FAILED.message})))})},y.prototype.updatePayment=function(l){var R=this,D="paypal_hermes/patch_payment_resource";return!l||this._hasMissingOption(l,T.REQUIRED_OPTIONS)?(n.sendEvent(R._clientPromise,"paypal-checkout.updatePayment.missing-options"),Promise.reject(new h(f.PAYPAL_MISSING_REQUIRED_OPTION))):this._verifyConsistentCurrency(l)?(n.sendEvent(this._clientPromise,"paypal-checkout.updatePayment"),this._clientPromise.then(function(U){return U.request({endpoint:D,method:"post",data:R._formatUpdatePaymentData(l)})}).catch(function(U){var H=U.details&&U.details.httpStatus;return H===422?(n.sendEvent(R._clientPromise,"paypal-checkout.updatePayment.invalid"),Promise.reject(new h({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:U}}))):(n.sendEvent(R._clientPromise,"paypal-checkout.updatePayment."+f.PAYPAL_FLOW_FAILED.code),Promise.reject(p(U,{type:f.PAYPAL_FLOW_FAILED.type,code:f.PAYPAL_FLOW_FAILED.code,message:f.PAYPAL_FLOW_FAILED.message})))})):(n.sendEvent(R._clientPromise,"paypal-checkout.updatePayment.inconsistent-currencies"),Promise.reject(new h({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:new Error("One or more shipping option currencies differ from checkout currency.")}})))},y.prototype.startVaultInitiatedCheckout=function(l){var R,D=this;return this._vaultInitiatedCheckoutInProgress?(n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),Promise.reject(new h(f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(C.forEach(function(U){l.hasOwnProperty(U)||(R=U)}),R?Promise.reject(new h({type:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+R+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(l),l=s({},l,{flow:"checkout"}),n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){var U=new i,H=D._createPaymentResource(l,{returnUrl:D._constructVaultCheckutUrl("redirect-frame"),cancelUrl:D._constructVaultCheckutUrl("cancel-frame")}).then(function(re){var X=re.paymentResource.redirectUrl;return D._frameService.redirect(X),U});return D._frameService.open({},D._createFrameServiceCallback(U)),H}).catch(function(U){return D._vaultInitiatedCheckoutInProgress=!1,D._removeModalBackdrop(),U.code==="FRAME_SERVICE_FRAME_CLOSED"?(n.sendEvent(D._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),Promise.reject(new h(f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(D._frameService&&D._frameService.close(),U.code&&U.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(n.sendEvent(D._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),Promise.reject(new h({code:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:U}}))):Promise.reject(U))}).then(function(U){return D._frameService.close(),D._vaultInitiatedCheckoutInProgress=!1,D._removeModalBackdrop(),n.sendEvent(D._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),Promise.resolve(U)})))},y.prototype._addModalBackdrop=function(l){l.optOutOfModalBackdrop||(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",function(){this.focusVaultInitiatedCheckoutWindow()}.bind(this))),document.body.appendChild(this._modalBackdrop))},y.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},y.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.close()}.bind(this))},y.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.focus()}.bind(this))},y.prototype._createFrameServiceCallback=function(l){var R=this;return function(D,U){D?l.reject(D):U&&(R._frameService.redirect(R._loadingFrameUrl),R.tokenizePayment({paymentToken:U.token,payerID:U.PayerID,paymentID:U.paymentId,orderID:U.orderId}).then(function(H){l.resolve(H)}).catch(function(H){l.reject(H)}))}},y.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var l=this;return this._clientPromise.then(function(){return l._frameServicePromise})},y.prototype._constructVaultCheckutUrl=function(l){var R=this._frameService._serviceId;return this._assetsUrl+"/html/"+l+d(this._isDebug)+".html?channel="+R},y.prototype.tokenizePayment=function(l){var R=this,D=!0,U,H={flow:l.billingToken&&!l.paymentID?"vault":"checkout",intent:l.intent||this.intentFromCreatePayment},re={ecToken:l.paymentToken,billingToken:l.billingToken,payerId:l.payerID,paymentId:l.paymentID,orderId:l.orderID,shippingOptionsId:l.shippingOptionsId};return l.hasOwnProperty("vault")&&(D=l.vault),H.vault=D,n.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(X){return X.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:R._formatTokenizeData(H,re)})}).then(function(X){return U=R._formatTokenizePayload(X),n.sendEvent(R._clientPromise,"paypal-checkout.tokenization.success"),U.creditFinancingOffered&&n.sendEvent(R._clientPromise,"paypal-checkout.credit.accepted"),U}).catch(function(X){return R._setupError?Promise.reject(R._setupError):(n.sendEvent(R._clientPromise,"paypal-checkout.tokenization.failed"),Promise.reject(p(X,{type:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},y.prototype.getClientId=function(){return this._clientPromise.then(function(l){return l.getConfiguration().gatewayConfiguration.paypal.clientId})},y.prototype.loadPayPalSDK=function(l){var R,D,U=new i,H=l&&l.dataAttributes||{},re=H["user-id-token"]||H["data-user-id-token"];return re||(re=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),l=s({},{components:"buttons"},l),delete l.dataAttributes,l.vault?l.intent=l.intent||"tokenize":(l.intent=l.intent||"authorize",l.currency=l.currency||"USD"),D="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){U.resolve()},Object.keys(H).forEach(function(X){this._paypalScript.setAttribute("data-"+X.replace(/^data\-/,""),H[X])}.bind(this)),l["client-id"]?R=Promise.resolve(l["client-id"]):R=this.getClientId(),R.then(function(X){l["client-id"]=X,this._autoSetDataUserIdToken&&re&&(this._paypalScript.setAttribute("data-user-id-token",re),this._attachPreloadPixel({id:X,userIdToken:re,amount:H.amount,currency:l.currency,merchantId:l["merchant-id"]})),this._paypalScript.src=I.queryify(D,l),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}.bind(this)),U.then(function(){return this}.bind(this))},y.prototype._attachPreloadPixel=function(l){var R,D=l.id,U=l.userIdToken,H=this._authorizationInformation.environment,re=H==="production"?"":"sandbox.",X=v.replace("{ENV}",re),F={"client-id":D,"user-id-token":U};l.amount&&(F.amount=l.amount),l.currency&&(F.currency=l.currency),l.merchantId&&(F["merchant-id"]=l.merchantId),R=new XMLHttpRequest,R.open("GET",I.queryify(X,F)),R.send()},y.prototype._formatPaymentResourceData=function(l,R){var D,U=this._configuration.gatewayConfiguration,H=l.intent,re={returnUrl:R.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:R.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:l.offerCredit===!0,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:l.displayName||U.paypal.displayName,localeCode:l.locale,noShipping:(!l.enableShippingAddress).toString(),addressOverride:l.shippingAddressEditable===!1,landingPageType:l.landingPageType},shippingOptions:l.shippingOptions};if(l.flow==="checkout"){re.amount=l.amount,re.currencyIsoCode=l.currency,re.requestBillingAgreement=l.requestBillingAgreement,H&&(H==="capture"&&(H="sale"),re.intent=H),l.hasOwnProperty("lineItems")&&(re.lineItems=l.lineItems),l.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(re.vaultInitiatedCheckoutPaymentMethodToken=l.vaultInitiatedCheckoutPaymentMethodToken),l.hasOwnProperty("shippingOptions")&&(re.shippingOptions=l.shippingOptions);for(D in l.shippingAddressOverride)l.shippingAddressOverride.hasOwnProperty(D)&&(re[D]=l.shippingAddressOverride[D]);l.hasOwnProperty("billingAgreementDetails")&&(re.billingAgreementDetails=l.billingAgreementDetails)}else re.shippingAddress=l.shippingAddressOverride,l.billingAgreementDescription&&(re.description=l.billingAgreementDescription);return this._riskCorrelationId=l.riskCorrelationId,l.riskCorrelationId&&(re.correlationId=this._riskCorrelationId),re},y.prototype._verifyConsistentCurrency=function(l){return l.currency&&l.hasOwnProperty("shippingOptions")&&Array.isArray(l.shippingOptions)?l.shippingOptions.every(function(R){return R.amount&&R.amount.currency&&l.currency.toLowerCase()===R.amount.currency.toLowerCase()}):!0},y.prototype._hasMissingOption=function(l,R){var D,U;if(R=R||[],!l.hasOwnProperty("amount")&&!l.hasOwnProperty("lineItems"))return!0;for(D=0;D<R.length;D++)if(U=R[D],!l.hasOwnProperty(U))return!0;return!1},y.prototype._formatUpdatePaymentData=function(l){var R=this,D={merchantAccountId:this._merchantAccountId,paymentId:l.paymentId||l.orderId,currencyIsoCode:l.currency};return l.hasOwnProperty("amount")&&(D.amount=l.amount),l.hasOwnProperty("lineItems")&&(D.lineItems=l.lineItems),l.hasOwnProperty("shippingOptions")&&(D.shippingOptions=l.shippingOptions),l.hasOwnProperty("shippingAddress")&&(n.sendEvent(R._clientPromise,"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant"),D.line1=l.shippingAddress.line1,l.shippingAddress.hasOwnProperty("line2")&&(D.line2=l.shippingAddress.line2),D.city=l.shippingAddress.city,D.state=l.shippingAddress.state,D.postalCode=l.shippingAddress.postalCode,D.countryCode=l.shippingAddress.countryCode,l.shippingAddress.hasOwnProperty("phone")&&(D.phone=l.shippingAddress.phone),l.shippingAddress.hasOwnProperty("recipientName")&&(D.recipientName=l.shippingAddress.recipientName)),D},y.prototype._formatTokenizeData=function(l,R){var D=this._configuration,U=D.gatewayConfiguration,H=D.authorizationType==="TOKENIZATION_KEY",re=l.flow==="vault",X=this._riskCorrelationId||R.billingToken||R.ecToken,F={paypalAccount:{correlationId:X,options:{validate:re&&!H&&l.vault}}};return re?F.paypalAccount.billingAgreementToken=R.billingToken:(F.paypalAccount.paymentToken=R.paymentId||R.orderId,F.paypalAccount.payerId=R.payerId,F.paypalAccount.unilateral=U.paypal.unvettedMerchant,l.intent&&(F.paypalAccount.intent=l.intent)),this._merchantAccountId&&(F.merchantAccountId=this._merchantAccountId),F},y.prototype._formatTokenizePayload=function(l){var R,D={};return l.paypalAccounts&&(D=l.paypalAccounts[0]),R={nonce:D.nonce,details:{},type:D.type},D.details&&D.details.payerInfo&&(R.details=D.details.payerInfo),D.details&&D.details.creditFinancingOffered&&(R.creditFinancingOffered=D.details.creditFinancingOffered),D.details&&D.details.shippingOptionId&&(R.shippingOptionId=D.details.shippingOptionId),D.details&&D.details.cobrandedCardLabel&&(R.cobrandedCardLabel=D.details.cobrandedCardLabel),R},y.prototype.teardown=function(){var l=this;return u(this,P(y.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch(function(){}).then(function(){return l._frameService?l._frameService.teardown():Promise.resolve()})},_.exports=m.wrapPrototype(y)},{"../lib/analytics":119,"../lib/assign":121,"../lib/braintree-error":124,"../lib/constants":126,"../lib/convert-methods-to-error":127,"../lib/convert-to-braintree-error":128,"../lib/create-assets-url":129,"../lib/create-authorization-data":130,"../lib/create-deferred-client":131,"../lib/frame-service/external":139,"../lib/methods":155,"../lib/querystring":157,"../lib/use-min":160,"../paypal/shared/constants":180,"./errors":175,"@braintree/extended-promise":34,"@braintree/wrap-promise":43}],178:[function(e,_,A){"use strict";var n=e("../../lib/frame-service/external"),s=e("../../lib/braintree-error"),o=e("../../lib/convert-to-braintree-error"),c=e("../../lib/use-min"),i=e("../../lib/once"),m="3.97.0",h=e("../shared/constants"),p=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,f=e("../../lib/analytics"),T=e("../../lib/methods"),O=e("../../lib/deferred"),b=e("../shared/errors"),P=e("../../lib/convert-methods-to-error"),d=e("../../lib/querystring"),u=e("@braintree/wrap-promise");function I(E){this._client=E.client,this._assetsUrl=E.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+m,this._isDebug=E.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+c(this._isDebug)+".html",this._authorizationInProgress=!1}I.prototype._initialize=function(){var E=this,g=this._client,C=setTimeout(function(){f.sendEvent(g,"paypal.load.timed-out")},p);return new Promise(function(v){n.create({name:h.LANDING_FRAME_NAME,dispatchFrameUrl:E._assetsUrl+"/html/dispatch-frame"+c(E._isDebug)+".html",openFrameUrl:E._loadingFrameUrl},function(y){E._frameService=y,clearTimeout(C),f.sendEvent(g,"paypal.load.succeeded"),v(E)})})},I.prototype.tokenize=function(E,g){var C=this,v=this._client,y,l;return g&&(g=i(O(g))),!E||!h.FLOW_ENDPOINTS.hasOwnProperty(E.flow)?(l=new s(b.PAYPAL_FLOW_OPTION_REQUIRED),g?(g(l),this._frameService.createNoopHandler()):Promise.reject(l)):(y=new Promise(function(R,D){C._authorizationInProgress?(f.sendEvent(v,"paypal.tokenization.error.already-opened"),D(new s(b.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(C._authorizationInProgress=!0,window.popupBridge||f.sendEvent(v,"paypal.tokenization.opened"),E.offerCredit===!0&&f.sendEvent(v,"paypal.credit.offered"),E.offerPayLater===!0&&f.sendEvent(v,"paypal.paylater.offered"),C._navigateFrameToAuth(E).catch(D),C._frameService.open({},C._createFrameServiceCallback(E,R,D)))}),g?(y.then(function(R){g(null,R)}).catch(g),this._frameService.createHandler({beforeClose:function(){f.sendEvent(v,"paypal.tokenization.closed.by-merchant")}})):y)},I.prototype._createFrameServiceCallback=function(E,g,C){var v=this,y=this._client;return window.popupBridge?function(l,R){var D=R&&R.path&&R.path.substring(0,7)==="/cancel";v._authorizationInProgress=!1,l||D?(f.sendEvent(y,"paypal.tokenization.closed-popupbridge.by-user"),C(new s(b.PAYPAL_POPUP_CLOSED))):R&&v._tokenizePayPal(E,R.queryItems).then(g).catch(C)}:function(l,R){v._authorizationInProgress=!1,l?l.code==="FRAME_SERVICE_FRAME_CLOSED"?(f.sendEvent(y,"paypal.tokenization.closed.by-user"),C(new s(b.PAYPAL_POPUP_CLOSED))):l.code&&l.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&C(new s({code:b.PAYPAL_POPUP_OPEN_FAILED.code,type:b.PAYPAL_POPUP_OPEN_FAILED.type,message:b.PAYPAL_POPUP_OPEN_FAILED.message,details:{originalError:l}})):R&&v._tokenizePayPal(E,R).then(g).catch(C)}},I.prototype._tokenizePayPal=function(E,g){var C=this,v=this._client;return window.popupBridge||this._frameService.redirect(this._loadingFrameUrl),v.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(E,g)}).then(function(y){var l=C._formatTokenizePayload(y);return window.popupBridge?f.sendEvent(v,"paypal.tokenization.success-popupbridge"):f.sendEvent(v,"paypal.tokenization.success"),l.creditFinancingOffered&&f.sendEvent(v,"paypal.credit.accepted"),C._frameService.close(),l}).catch(function(y){return window.popupBridge?f.sendEvent(v,"paypal.tokenization.failed-popupbridge"):f.sendEvent(v,"paypal.tokenization.failed"),C._frameService.close(),Promise.reject(o(y,{type:b.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:b.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:b.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))})},I.prototype._formatTokenizePayload=function(E){var g,C={};return E.paypalAccounts&&(C=E.paypalAccounts[0]),g={nonce:C.nonce,details:{},type:C.type},C.details&&C.details.payerInfo&&(g.details=C.details.payerInfo),C.details&&C.details.creditFinancingOffered&&(g.creditFinancingOffered=C.details.creditFinancingOffered),g},I.prototype._formatTokenizeData=function(E,g){var C=this._client.getConfiguration(),v=C.gatewayConfiguration,y=C.authorizationType==="TOKENIZATION_KEY",l={paypalAccount:{correlationId:g.ba_token||g.token,options:{validate:E.flow==="vault"&&!y}}};return g.ba_token?l.paypalAccount.billingAgreementToken=g.ba_token:(l.paypalAccount.paymentToken=g.paymentId,l.paypalAccount.payerId=g.PayerID,l.paypalAccount.unilateral=v.paypal.unvettedMerchant,E.hasOwnProperty("intent")&&(l.paypalAccount.intent=E.intent)),l},I.prototype._navigateFrameToAuth=function(E){var g=this,C=this._client,v="paypal_hermes/"+h.FLOW_ENDPOINTS[E.flow];return C.request({endpoint:v,method:"post",data:this._formatPaymentResourceData(E)}).then(function(y){var l;E.flow==="checkout"?l=y.paymentResource.redirectUrl:l=y.agreementSetup.approvalUrl,E.useraction==="commit"&&(l=d.queryify(l,{useraction:"commit"})),window.popupBridge&&f.sendEvent(C,"paypal.tokenization.opened-popupbridge"),g._frameService.redirect(l)}).catch(function(y){var l=y.details&&y.details.httpStatus;return g._frameService.close(),g._authorizationInProgress=!1,l===422?Promise.reject(new s({type:b.PAYPAL_INVALID_PAYMENT_OPTION.type,code:b.PAYPAL_INVALID_PAYMENT_OPTION.code,message:b.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:y}})):Promise.reject(o(y,{type:b.PAYPAL_FLOW_FAILED.type,code:b.PAYPAL_FLOW_FAILED.code,message:b.PAYPAL_FLOW_FAILED.message}))})},I.prototype._formatPaymentResourceData=function(E){var g,C=this._client.getConfiguration().gatewayConfiguration,v=this._frameService._serviceId,y={returnUrl:C.paypal.assetsUrl+"/web/"+m+"/html/redirect-frame"+c(this._isDebug)+".html?channel="+v,cancelUrl:C.paypal.assetsUrl+"/web/"+m+"/html/cancel-frame"+c(this._isDebug)+".html?channel="+v,offerPaypalCredit:E.offerCredit===!0,offerPayLater:E.offerPayLater===!0,experienceProfile:{brandName:E.displayName||C.paypal.displayName,localeCode:E.locale,noShipping:(!E.enableShippingAddress).toString(),addressOverride:E.shippingAddressEditable===!1,landingPageType:E.landingPageType}};if(window.popupBridge&&typeof window.popupBridge.getReturnUrlPrefix=="function"&&(y.returnUrl=window.popupBridge.getReturnUrlPrefix()+"return",y.cancelUrl=window.popupBridge.getReturnUrlPrefix()+"cancel"),E.flow==="checkout"){y.amount=E.amount,y.currencyIsoCode=E.currency,E.hasOwnProperty("intent")&&(y.intent=E.intent);for(g in E.shippingAddressOverride)E.shippingAddressOverride.hasOwnProperty(g)&&(y[g]=E.shippingAddressOverride[g])}else y.shippingAddress=E.shippingAddressOverride,E.billingAgreementDescription&&(y.description=E.billingAgreementDescription);return y},I.prototype.closeWindow=function(){this._authorizationInProgress&&f.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},I.prototype.focusWindow=function(){this._frameService.focus()},I.prototype.teardown=u(function(){var E=this;return E._frameService.teardown(),P(E,T(I.prototype)),f.sendEvent(E._client,"paypal.teardown-completed"),Promise.resolve()}),_.exports=I},{"../../lib/analytics":119,"../../lib/braintree-error":124,"../../lib/constants":126,"../../lib/convert-methods-to-error":127,"../../lib/convert-to-braintree-error":128,"../../lib/deferred":132,"../../lib/frame-service/external":139,"../../lib/methods":155,"../../lib/once":156,"../../lib/querystring":157,"../../lib/use-min":160,"../shared/constants":180,"../shared/errors":181,"@braintree/wrap-promise":43}],179:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i=e("../lib/braintree-error"),m=e("./shared/errors"),h=e("./external/paypal"),p="3.97.0",f=e("@braintree/wrap-promise");function T(b){var P="PayPal";return s.verify({name:P,client:b.client,authorization:b.authorization}).then(function(){return o.create({authorization:b.authorization,client:b.client,debug:b.debug,assetsUrl:c.create(b.authorization),name:P})}).then(function(d){var u,I=d.getConfiguration();return b.client=d,I.gatewayConfiguration.paypalEnabled!==!0?Promise.reject(new i(m.PAYPAL_NOT_ENABLED)):(n.sendEvent(b.client,"paypal.initialized"),u=new h(b),u._initialize())})}function O(){return!0}_.exports={create:f(T),isSupported:O,VERSION:p}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./external/paypal":178,"./shared/errors":181,"@braintree/wrap-promise":43}],180:[function(e,_,A){"use strict";_.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"},REQUIRED_OPTIONS:["paymentId","currency"]}},{}],181:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={PAYPAL_NOT_ENABLED:{type:n.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:n.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:n.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:n.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:n.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:n.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":124}],182:[function(e,_,A){"use strict";var n=e("@braintree/wrap-promise"),s=e("../lib/basic-component-verification"),o=e("./preferred-payment-methods"),c="3.97.0";function i(m){var h="PreferredPaymentMethods";return s.verify({name:h,client:m.client,authorization:m.authorization}).then(function(){var p=new o;return p.initialize(m)})}_.exports={create:n(i),VERSION:c}},{"../lib/basic-component-verification":122,"./preferred-payment-methods":183,"@braintree/wrap-promise":43}],183:[function(e,_,A){"use strict";var n=e("@braintree/wrap-promise"),s=e("../lib/analytics"),o=e("../lib/create-assets-url"),c=e("../lib/create-deferred-client");function i(){}i.prototype.initialize=function(m){var h=this;return this._clientPromise=c.create({authorization:m.authorization,client:m.client,debug:m.debug,assetsUrl:o.create(m.authorization),name:"PreferredPaymentMethods"}).catch(function(p){return h._setupError=p,Promise.reject(p)}),s.sendEvent(this._clientPromise,"preferred-payment-methods.initialized"),Promise.resolve(this)},i.prototype.fetchPreferredPaymentMethods=function(){var m,h=this;return this._clientPromise.then(function(p){return m=p,m.request({api:"graphQLApi",data:{query:"query PreferredPaymentMethods { preferredPaymentMethods { paypalPreferred venmoPreferred } }"}})}).then(function(p){var f=p.data.preferredPaymentMethods.paypalPreferred,T=p.data.preferredPaymentMethods.venmoPreferred;return s.sendEvent(m,"preferred-payment-methods.paypal.api-detected."+f),s.sendEvent(m,"preferred-payment-methods.venmo.api-detected."+T),{paypalPreferred:f,venmoPreferred:T}}).catch(function(){return h._setupError?Promise.reject(h._setupError):(s.sendEvent(m,"preferred-payment-methods.api-error"),{paypalPreferred:!1,venmoPreferred:!1})})},_.exports=n.wrapPrototype(i)},{"../lib/analytics":119,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"@braintree/wrap-promise":43}],184:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error"),s=e("../shared/errors"),o=e("../../lib/frame-service/external"),c=e("../../lib/analytics"),i=e("../../lib/use-min"),m=e("../shared/constants").BILLING_ADDRESS_OPTIONS,h=e("../../lib/snake-case-to-camel-case"),p=400,f=570;function T(I,E){var g={sepa_debit:{account_holder_name:E.accountHolderName,billing_address:{country_code:E.countryCode},iban:E.iban,merchant_or_partner_customer_id:E.customerId,mandate_type:E.mandateType},locale:E.locale,cancel_url:E.cancelUrl,return_url:E.returnUrl,merchant_account_id:E.merchantAccountId};return E.billingAddress&&m.forEach(function(C){var v=h(C);v in E.billingAddress&&(g.sepa_debit.billing_address[C]=E.billingAddress[v])}),I.request({api:"clientApi",method:"post",endpoint:"sepa_debit",data:g}).then(function(C){var v=C.message.body.sepaDebitAccount;if(!v)throw new n(s.SEPA_CREATE_MANDATE_FAILED);return{approvalUrl:v.approvalUrl,last4:v.last4,bankReferenceToken:v.bankReferenceToken}}).catch(function(){throw new n(s.SEPA_CREATE_MANDATE_FAILED)})}function O(I,E){var g="sepadirectdebit",C=E.assetsUrl+"/html",v=E.debug||!1;return new Promise(function(y,l){var R=d();o.create({name:g,dispatchFrameUrl:C+"/dispatch-frame"+i(v)+".html",openFrameUrl:C+"/sepa-landing-frame"+i(v)+".html",top:R.top,left:R.left,height:f,width:p},function(D){c.sendEvent(I,"sepa.popup.initialized"),D.open({},function(U,H){return b(H)?(D.close(),y()):P(H,U)?(D.close(),l(new n(s.SEPA_CUSTOMER_CANCELED))):(D.close(),l(new n(s.SEPA_TOKENIZATION_FAILED)))}),D.redirect(E.approvalUrl)})})}function b(I){return I&&I.success}function P(I,E){return I&&I.cancel||E&&E.code==="FRAME_SERVICE_FRAME_CLOSED"}function d(){var I=Math.round((window.outerHeight-f)/2)+window.screenTop,E=Math.round((window.outerWidth-p)/2)+window.screenLeft;return{top:I,left:E}}function u(I,E){var g={sepa_debit_account:{last_4:E.last4,merchant_or_partner_customer_id:E.customerId,bank_reference_token:E.bankReferenceToken,mandate_type:E.mandateType},merchant_account_id:E.merchantAccountId};return I.request({api:"clientApi",method:"post",endpoint:"payment_methods/sepa_debit_accounts",data:g}).then(function(C){if(!C.nonce)throw new n(s.SEPA_TRANSACTION_FAILED);return{nonce:C.nonce,ibanLastFour:E.last4,customerId:E.customerId,mandateType:E.mandateType}}).catch(function(){throw new n(s.SEPA_TRANSACTION_FAILED)})}_.exports={createMandate:T,openPopup:O,handleApproval:u,POPUP_WIDTH:p,POPUP_HEIGHT:f}},{"../../lib/analytics":119,"../../lib/braintree-error":124,"../../lib/frame-service/external":139,"../../lib/snake-case-to-camel-case":159,"../../lib/use-min":160,"../shared/constants":187,"../shared/errors":188}],185:[function(e,_,A){"use strict";var n=e("@braintree/wrap-promise"),s=e("../../lib/braintree-error"),o=e("../shared/errors"),c=e("../shared/constants"),i=e("./mandate"),m=e("../shared/has-missing-option"),h=e("../../lib/analytics"),p="3.97.0",f=e("../../lib/assign").assign;function T(O){var b=O.client.getConfiguration();this._client=O.client,this._assetsUrl=b.gatewayConfiguration.assetsUrl+"/web/"+p,this._isDebug=b.isDebug,this._returnUrl=this._assetsUrl+"/html/redirect-frame.html?success=1",this._cancelUrl=this._assetsUrl+"/html/redirect-frame.html?cancel=1",h.sendEvent(this._client,"sepa.component.initialized")}T.prototype.tokenize=function(O){var b=this,P=f({cancelUrl:b._cancelUrl,returnUrl:b._returnUrl},O);return!O||m(O,c.REQUIRED_OPTIONS)?(h.sendEvent(b._client,"sepa.input-validation.missing-options"),Promise.reject(new s(o.SEPA_TOKENIZE_MISSING_REQUIRED_OPTION))):c.MANDATE_TYPE_ENUM.includes(O.mandateType)?i.createMandate(b._client,P).then(function(d){return h.sendEvent(b._client,"sepa.create-mandate.success"),O.last4=d.last4,O.bankReferenceToken=d.bankReferenceToken,i.openPopup(b._client,{approvalUrl:d.approvalUrl,assetsUrl:b._assetsUrl})}).then(function(){return h.sendEvent(b._client,"sepa.mandate.approved"),i.handleApproval(b._client,{bankReferenceToken:O.bankReferenceToken,last4:O.last4,customerId:O.customerId,mandateType:O.mandateType,merchantAccountId:O.merchantAccountId})}).then(function(d){return h.sendEvent(b._client,"sepa.tokenization.success"),Promise.resolve(d)}).catch(function(d){return h.sendEvent(b._client,"sepa."+d.details+".failed"),Promise.reject(d)}):(h.sendEvent(b._client,"sepa.input-validation.invalid-mandate"),Promise.reject(new s(o.SEPA_INVALID_MANDATE_TYPE)))},_.exports=n.wrapPrototype(T)},{"../../lib/analytics":119,"../../lib/assign":121,"../../lib/braintree-error":124,"../shared/constants":187,"../shared/errors":188,"../shared/has-missing-option":189,"./mandate":184,"@braintree/wrap-promise":43}],186:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("./external/sepa"),o=e("../lib/create-assets-url"),c=e("../lib/create-deferred-client"),i=e("../lib/basic-component-verification"),m=e("@braintree/wrap-promise"),h="3.97.0";function p(f){var T="SEPA";return i.verify({name:T,client:f.client,authorization:f.authorization}).then(function(){return c.create({authorization:f.authorization,client:f.client,debug:f.debug,assetsUrl:o.create(f.authorization),name:T})}).then(function(O){return f.client=O,n.sendEvent(f.client,"sepa.client.initialized"),new s(f)})}_.exports={create:m(p),VERSION:h}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./external/sepa":185,"@braintree/wrap-promise":43}],187:[function(e,_,A){"use strict";_.exports={REQUIRED_OPTIONS:["iban","merchantAccountId","mandateType","customerId","accountHolderName","countryCode"],BILLING_ADDRESS_OPTIONS:["address_line_1","address_line_2","admin_area_1","admin_area_2","postal_code"],MANDATE_TYPE_ENUM:["ONE_OFF","RECURRENT"]}},{}],188:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={SEPA_CREATE_MANDATE_FAILED:{type:n.types.MERCHANT,code:"SEPA_CREATE_MANDATE_FAILED",message:"SEPA create mandate failed.",details:"create-mandate"},SEPA_CUSTOMER_CANCELED:{type:n.types.CUSTOMER,code:"SEPA_CUSTOMER_CANCELED",message:"User canceled SEPA authorization",details:"customer-canceled"},SEPA_INVALID_MANDATE_TYPE:{type:n.types.MERCHANT,code:"SEPA_INVALID_MANDATE_TYPE",message:"SEPA mandate type is invalid"},SEPA_TOKENIZATION_FAILED:{type:n.types.UNKNOWN,code:"SEPA_TOKENIZATION_FAILED",message:"SEPA encountered a problem",details:"open-popup"},SEPA_TOKENIZE_MISSING_REQUIRED_OPTION:{type:n.types.MERCHANT,code:"SEPA_TOKENIZE_MISSING_REQUIRED_OPTION",message:"Missing required option for tokenize."},SEPA_TRANSACTION_FAILED:{type:n.types.UNKNOWN,code:"SEPA_TRANSACTION_FAILED",message:"SEPA transaction failed",details:"handle-approval"}}},{"../../lib/braintree-error":124}],189:[function(e,_,A){"use strict";function n(s,o){var c,i;for(o=o||[],c=0;c<o.length;c++)if(i=o[c],!s.hasOwnProperty(i))return!0;return!1}_.exports=n},{}],190:[function(e,_,A){"use strict";var n=e("../../../lib/assign").assign,s=e("../../../lib/analytics"),o=e("../../../lib/braintree-error"),c=e("../../../lib/is-verified-domain"),i=e("@braintree/extended-promise"),m=e("@braintree/event-emitter"),h=e("../../shared/errors"),p=e("@braintree/iframer"),f=e("framebus"),T=e("../../shared/constants"),O=e("@braintree/uuid"),b=e("../../shared/events"),P=e("../../../lib/use-min"),d=e("../../../lib/constants").BUS_CONFIGURATION_REQUEST_EVENT,u="3.97.0",I=400,E=400;i.suppressUnhandledPromiseMessage=!0;function g(C){m.call(this),this._client=C.client,this._createPromise=C.createPromise,this._createOptions=C,this._client?(this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl):(this._isDebug=!!C.isDebug,this._assetsUrl=C.assetsUrl),this._assetsUrl=this._assetsUrl+"/web/"+u}m.createChild(g),g.prototype._waitForClient=function(){return this._client?Promise.resolve():this._createPromise.then(function(C){this._client=C}.bind(this))},g.prototype.setUpEventListeners=function(){throw new o(h.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype.verifyCard=function(C,v){var y,l,R=this;return v=v||{},l=this._checkForVerifyCardError(C,v),l?Promise.reject(l):(this._verifyCardInProgress=!0,y=this._formatVerifyCardOptions(C),this._formatLookupData(y).then(function(D){return s.sendEvent(R._createPromise,"three-d-secure.verification-flow.started"),R._performLookup(y.nonce,D)}).then(function(D){return s.sendEvent(R._createPromise,"three-d-secure.verification-flow.3ds-version."+D.lookup.threeDSecureVersion),R._onLookupComplete(D,y)}).then(function(D){return R.initializeChallengeWithLookupResponse(D,y)}).then(function(D){return R._resetVerificationState(),s.sendEvent(R._createPromise,"three-d-secure.verification-flow.completed"),D}).catch(function(D){return R._resetVerificationState(),s.sendEvent(R._createPromise,"three-d-secure.verification-flow.failed"),Promise.reject(D)}))},g.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new o(h.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype._presentChallenge=function(){throw new o(h.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype.prepareLookup=function(){throw new o(h.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null,typeof this._reloadThreeDSecure=="function"&&this._reloadThreeDSecure()},g.prototype._performLookup=function(C,v){var y=this,l="payment_methods/"+C+"/three_d_secure/lookup";return this._waitForClient().then(function(){return y._client.request({endpoint:l,method:"post",data:v}).catch(function(R){var D=R&&R.details&&R.details.httpStatus,U="three-d-secure.verification-flow.lookup-failed",H;return D===404?(H=h.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,U+=".404"):D===422?(H=h.THREEDS_LOOKUP_VALIDATION_ERROR,U+=".422"):H=h.THREEDS_LOOKUP_ERROR,s.sendEvent(y._createPromise,U),Promise.reject(new o({type:H.type,code:H.code,message:H.message,details:{originalError:R}}))})})},g.prototype._checkForVerifyCardError=function(C,v){var y;return this._verifyCardInProgress===!0?new o(h.THREEDS_AUTHENTICATION_IN_PROGRESS):(C.nonce?C.amount||(y="an amount"):y="a nonce",y||(y=this._checkForFrameworkSpecificVerifyCardErrors(C,v)),y?new o({type:h.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:h.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+y+"."}):null)},g.prototype.initializeChallengeWithLookupResponse=function(C,v){var y=this;return v=v||{},this._lookupPaymentMethod=C.paymentMethod,y._verifyCardPromisePlus=y._verifyCardPromisePlus||new i,y._handleLookupResponse(C,v),y._verifyCardPromisePlus.then(function(l){return s.sendEvent(y._createPromise,"three-d-secure.verification-flow.liability-shifted."+String(l.liabilityShifted)),s.sendEvent(y._createPromise,"three-d-secure.verification-flow.liability-shift-possible."+String(l.liabilityShiftPossible)),l})},g.prototype._handleLookupResponse=function(C,v){var y=!!(C.lookup&&C.lookup.acsUrl),l;s.sendEvent(this._createPromise,"three-d-secure.verification-flow.challenge-presented."+String(y)),y?this._presentChallenge(C,v):(l=this._formatAuthResponse(C.paymentMethod,C.threeDSecureInfo),l.verificationDetails=C.threeDSecureInfo,this._verifyCardPromisePlus.resolve(l))},g.prototype._onLookupComplete=function(C){return this._lookupPaymentMethod=C.paymentMethod,this._verifyCardPromisePlus=new i,Promise.resolve(C)},g.prototype._formatAuthResponse=function(C,v){return{nonce:C.nonce,type:C.type,binData:C.binData,details:C.details,description:C.description&&C.description.replace(/\+/g," "),liabilityShifted:v&&v.liabilityShifted,liabilityShiftPossible:v&&v.liabilityShiftPossible,threeDSecureInfo:C.threeDSecureInfo}},g.prototype._formatVerifyCardOptions=function(C){return n({},C)},g.prototype._formatLookupData=function(C){var v={amount:C.amount};return C.collectDeviceData===!0&&(v.browserColorDepth=window.screen.colorDepth,v.browserJavaEnabled=window.navigator.javaEnabled(),v.browserJavascriptEnabled=!0,v.browserLanguage=window.navigator.language,v.browserScreenHeight=window.screen.height,v.browserScreenWidth=window.screen.width,v.browserTimeZone=new Date().getTimezoneOffset(),v.deviceChannel="Browser"),Promise.resolve(v)},g.prototype._handleV1AuthResponse=function(C){var v=JSON.parse(C.auth_response);v.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(v.paymentMethod,v.threeDSecureInfo)):v.threeDSecureInfo&&v.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,v.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new o({type:o.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:v.error.message}))},g.prototype.cancelVerifyCard=function(){var C,v;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(v=this._lookupPaymentMethod.threeDSecureInfo,C=n({},this._lookupPaymentMethod,{liabilityShiftPossible:v&&v.liabilityShiftPossible,liabilityShifted:v&&v.liabilityShifted,verificationDetails:v&&v.verificationDetails}),Promise.resolve(C)):Promise.reject(new o(h.THREEDS_NO_VERIFICATION_PAYLOAD))},g.prototype._setupV1Bus=function(C){var v=this._client.getConfiguration(),y=window.location.href.split("#")[0],l=C.lookupResponse,R=O(),D=new f({channel:R,verifyDomain:c}),U=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(R)+"&";return D.on(d,function(H){H({clientConfiguration:v,nonce:C.nonce,acsUrl:l.acsUrl,pareq:l.pareq,termUrl:l.termUrl+"&three_d_secure_version="+u+"&authentication_complete_base_url="+encodeURIComponent(U),md:l.md,parentUrl:y})}),D.on(b.AUTHENTICATION_COMPLETE,C.handleAuthResponse),D},g.prototype._setupV1Iframe=function(C){var v=this._assetsUrl+"/html/three-d-secure-bank-frame"+P(this._isDebug)+".html?showLoader="+C.showLoader,y=p({src:v,height:I,width:E,name:T.LANDING_FRAME_NAME+"_"+this._v1Bus.channel,title:"3D Secure Authorization Frame"});return y},g.prototype._setupV1Elements=function(C){this._v1Bus=this._setupV1Bus(C),this._v1Iframe=this._setupV1Iframe(C)},g.prototype._teardownV1Elements=function(){this._v1Bus&&(this._v1Bus.teardown(),this._v1Bus=null),this._v1Iframe&&this._v1Iframe.parentNode&&(this._v1Iframe.parentNode.removeChild(this._v1Iframe),this._v1Iframe=null),this._onV1Keyup&&(document.removeEventListener("keyup",this._onV1Keyup),this._onV1Keyup=null)},g.prototype.teardown=function(){return s.sendEvent(this._createPromise,"three-d-secure.teardown-completed"),this._teardownV1Elements(),Promise.resolve()},_.exports=g},{"../../../lib/analytics":119,"../../../lib/assign":121,"../../../lib/braintree-error":124,"../../../lib/constants":126,"../../../lib/is-verified-domain":153,"../../../lib/use-min":160,"../../shared/constants":199,"../../shared/errors":200,"../../shared/events":201,"@braintree/event-emitter":33,"@braintree/extended-promise":34,"@braintree/iframer":35,"@braintree/uuid":39,framebus:52}],191:[function(e,_,A){"use strict";var n=e("./songbird");function s(o){n.call(this,o)}s.prototype=Object.create(n.prototype,{constructor:n}),s.prototype._createV1IframeModalElement=function(o){var c=document.createElement("div");return c.innerHTML='<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="CCAFrameModal-label" aria-hidden="true" style="display: block;"><div class="modal-dialog" style="width:440px;z-index:999999;"><div class="modal-content"><div class="modal-body" data-braintree-v1-fallback-iframe-container><button type="button" data-braintree-v1-fallback-close-button class="close" data-dismiss="modal" aria-hidden="true">\xD7</button></div></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;cursor: pointer;z-index: 999998;top: 0;left: 0;width: 100%;height: 100%;"></div></div>',c.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(o),c},s.prototype._createCardinalConfigurationOptions=function(o){var c=n.prototype._createCardinalConfigurationOptions.call(this,o);return c.payment.framework="bootstrap3",c},_.exports=s},{"./songbird":196}],192:[function(e,_,A){"use strict";var n=e("./songbird");function s(o){n.call(this,o)}s.prototype=Object.create(n.prototype,{constructor:n}),s.prototype._createV1IframeModalElement=function(o){var c=document.createElement("div"),i=!!(this._createOptions&&this._createOptions.cardinalSDKConfig&&this._createOptions.cardinalSDKConfig.payment&&this._createOptions.cardinalSDKConfig.payment.displayExitButton);return c.innerHTML=`<div style="position: fixed;z-index: 999999;top: 50%;left: 50%;padding: 24px 20px;transform: translate(-50%,-50%);border-radius: 2px;background: #fff;max-width: 100%;overflow: auto;"><div><button data-braintree-v1-fallback-close-button style="font-family: Helvetica,Arial,sans-serif;font-size: 25px;line-height: 12px;position: absolute;top: 2px;right: 0px;cursor: pointer;color: #999;border: 0;outline: none;background: none;" onMouseOver="this.style.color='#000'" onMouseOut="this.style.color='#999'">\xD7</button></div><div data-braintree-v1-fallback-iframe-container style="height: 400px;"></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;z-index: 999998;cursor: pointer;top: 0;left: 0;width: 100%;height: 100%;transition: opacity 1ms ease;background: rgba(0,0,0,.6);"></div>`,i||(c.querySelector("[data-braintree-v1-fallback-close-button]").style.display="none"),c.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(o),c},_.exports=s},{"./songbird":196}],193:[function(e,_,A){"use strict";var n=e("./legacy"),s=e("./cardinal-modal"),o=e("./bootstrap3-modal"),c=e("./inline-iframe");_.exports={legacy:n,"cardinal-modal":s,"bootstrap3-modal":o,"inline-iframe":c}},{"./bootstrap3-modal":191,"./cardinal-modal":192,"./inline-iframe":194,"./legacy":195}],194:[function(e,_,A){"use strict";var n=e("./songbird"),s=e("../../../lib/braintree-error"),o=e("../../shared/errors"),c=e("../../../lib/enumerate");function i(m){n.call(this,m)}i.prototype=Object.create(n.prototype,{constructor:n}),i.events=c(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),i.prototype.setUpEventListeners=function(m){n.prototype.setUpEventListeners.call(this,m),this.on(i.events.AUTHENTICATION_IFRAME_AVAILABLE,function(h,p){m("authentication-iframe-available",h,p)})},i.prototype._createCardinalConfigurationOptions=function(m){var h=n.prototype._createCardinalConfigurationOptions.call(this,m);return h.payment.framework="inline",h},i.prototype._addV1IframeToPage=function(){this._emit(i.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:this._v1Modal},function(){})},i.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},i.prototype._onInlineSetup=function(m,h,p,f){var T,O;if(!m||!h||h.paymentType!=="CCA"?O=!0:h.data.mode==="suppress"||h.data.mode==="static"||(O=!0),O){f(new s(o.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT));return}T=document.createElement("div"),T.innerHTML=m,h.data.mode==="suppress"?(T.style.display="none",document.body.appendChild(T),p()):h.data.mode==="static"&&this._emit(i.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:T},function(){p()})},_.exports=i},{"../../../lib/braintree-error":124,"../../../lib/enumerate":134,"../../shared/errors":200,"./songbird":196}],195:[function(e,_,A){"use strict";var n=e("./base"),s=e("../../../lib/deferred");function o(c){n.call(this,c)}o.prototype=Object.create(n.prototype,{constructor:o}),o.prototype.setUpEventListeners=function(){},o.prototype.transformV1CustomerBillingAddress=function(c){return c.billingAddress.line1=c.billingAddress.streetAddress,c.billingAddress.line2=c.billingAddress.extendedAddress,c.billingAddress.city=c.billingAddress.locality,c.billingAddress.state=c.billingAddress.region,c.billingAddress.countryCode=c.billingAddress.countryCodeAlpha2,delete c.billingAddress.streetAddress,delete c.billingAddress.extendedAddress,delete c.billingAddress.locality,delete c.billingAddress.region,delete c.billingAddress.countryCodeAlpha2,c},o.prototype._createIframe=function(c){var i=this;return this._setupV1Elements({nonce:c.nonce,lookupResponse:c.lookupResponse,showLoader:c.showLoader,handleAuthResponse:function(m){i._handleAuthResponse(m,c)}}),this._v1Iframe},o.prototype._handleAuthResponse=function(c,i){this._v1Bus.teardown(),i.removeFrame(),s(function(){this._handleV1AuthResponse(c)}.bind(this))()},o.prototype._checkForFrameworkSpecificVerifyCardErrors=function(c){var i;return typeof c.addFrame!="function"?i="an addFrame function":typeof c.removeFrame!="function"&&(i="a removeFrame function"),i},o.prototype._formatVerifyCardOptions=function(c){var i=n.prototype._formatVerifyCardOptions.call(this,c);return i.addFrame=s(c.addFrame),i.removeFrame=s(c.removeFrame),i.showLoader=c.showLoader!==!1,i},o.prototype._formatLookupData=function(c){var i=this;return n.prototype._formatLookupData.call(this,c).then(function(m){return c.customer&&c.customer.billingAddress&&(m.customer=i.transformV1CustomerBillingAddress(c.customer)),m})},o.prototype._presentChallenge=function(c,i){i.addFrame(null,this._createIframe({showLoader:i.showLoader,lookupResponse:c.lookup,nonce:c.paymentMethod.nonce,removeFrame:i.removeFrame}))},_.exports=o},{"../../../lib/deferred":132,"./base":190}],196:[function(e,_,A){"use strict";var n=e("./base"),s=e("../../../lib/assign").assign,o=e("../../../lib/deferred"),c=e("../../../lib/braintree-error"),i=e("../../../lib/convert-to-braintree-error"),m=e("../../../lib/analytics"),h=e("../../../lib/assets"),p=e("../../shared/errors"),f=e("../../../lib/enumerate"),T=e("../../shared/constants"),O=e("@braintree/extended-promise"),b=e("../../../lib/constants").INTEGRATION_TIMEOUT_MS,P=e("../../../lib/constants").PLATFORM,d="3.97.0",u="01",I=["ui.close","ui.render","ui.renderHidden","ui.loading.close","ui.loading.render"],E=["low_value","transaction_risk_analysis"];O.suppressUnhandledPromiseMessage=!0;function g(v){n.call(this,v),this._useV1Fallback=!1,this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:P+"/"+d},this.originalSetupOptions=v,this._getDfReferenceIdPromisePlus=new O,this.setupSongbird(v),this._cardinalEvents=[]}g.prototype=Object.create(n.prototype,{constructor:g}),g.events=f(["LOOKUP_COMPLETE","CUSTOMER_CANCELED","UI.CLOSE","UI.RENDER","UI.RENDERHIDDEN","UI.LOADING.CLOSE","UI.LOADING.RENDER"],"songbird-framework:"),g.prototype.setUpEventListeners=function(v){this.on(g.events.LOOKUP_COMPLETE,function(y,l){v("lookup-complete",y,l)}),this.on(g.events.CUSTOMER_CANCELED,function(){v("customer-canceled")}),this.on(g.events["UI.CLOSE"],function(){v("authentication-modal-close")}),this.on(g.events["UI.RENDER"],function(){v("authentication-modal-render")}),this.on(g.events["UI.RENDERHIDDEN"],function(){v("authentication-modal-render-hidden")}),this.on(g.events["UI.LOADING.CLOSE"],function(){v("authentication-modal-loader-close")}),this.on(g.events["UI.LOADING.RENDER"],function(){v("authentication-modal-loader-render")})},g.prototype.prepareLookup=function(v){var y=s({},v),l=this;return this.getDfReferenceId().then(function(R){y.dfReferenceId=R}).then(function(){return l._triggerCardinalBinProcess(v.bin)}).catch(function(){}).then(function(){return l._waitForClient()}).then(function(){return y.clientMetadata=l._clientMetadata,y.authorizationFingerprint=l._client.getConfiguration().authorizationFingerprint,y.braintreeLibraryVersion="braintree/web/"+d,y})},g.prototype.initializeChallengeWithLookupResponse=function(v,y){return this.setupSongbird().then(function(){return n.prototype.initializeChallengeWithLookupResponse.call(this,v,y)}.bind(this))},g.prototype.initiateV1Fallback=function(v){this._useV1Fallback=!0,this._removeSongbirdListeners(),m.sendEvent(this._createPromise,"three-d-secure.v1-fallback."+v),this._songbirdPromise&&this._songbirdPromise.resolve()},g.prototype._triggerCardinalBinProcess=function(v){var y=this,l=Date.now();return window.Cardinal.trigger("bin.process",v).then(function(R){y._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-l,y._clientMetadata.issuerDeviceDataCollectionResult=R&&R.Status})},g.prototype.transformBillingAddress=function(v,y){return y&&(C(y,v,"billing"),v.billingPhoneNumber=y.phoneNumber,v.billingGivenName=y.givenName,v.billingSurname=y.surname),v},g.prototype.transformShippingAddress=function(v){var y=v.shippingAddress;return y&&(C(y,v,"shipping"),delete v.shippingAddress),v},g.prototype._createV1IframeModalElement=function(v){var y=document.createElement("div");return y.innerHTML='<div data-braintree-v1-fallback-iframe-container="true" style="height: 400px;"></div>',y.querySelector('[data-braintree-v1-fallback-iframe-container="true"]').appendChild(v),y},g.prototype._createV1IframeModal=function(v){var y=this._createV1IframeModalElement(v),l=y.querySelector("[data-braintree-v1-fallback-close-button]"),R=y.querySelector("[data-braintree-v1-fallback-backdrop]"),D=this;function U(){y.parentNode.removeChild(y),D.cancelVerifyCard(p.THREEDS_CARDINAL_SDK_CANCELED),document.removeEventListener("keyup",D._onV1Keyup),D._onV1Keyup=null}return this._onV1Keyup=function(H){H.key==="Escape"&&y.parentNode&&U()},l&&l.addEventListener("click",U),R&&R.addEventListener("click",U),document.addEventListener("keyup",this._onV1Keyup),y},g.prototype._addV1IframeToPage=function(){document.body.appendChild(this._v1Modal)},g.prototype._handleAuthResponseFromV1Fallback=function(v){this._teardownV1Elements(),this._v1Modal.parentNode.removeChild(this._v1Modal),this._handleV1AuthResponse(v)},g.prototype._presentChallengeWithV1Fallback=function(v){var y=this;this._setupV1Elements({lookupResponse:v,showLoader:!0,handleAuthResponse:function(l){y._handleAuthResponseFromV1Fallback(l)}}),this._v1Modal=this._createV1IframeModal(this._v1Iframe),this._addV1IframeToPage()},g.prototype.setupSongbird=function(v){var y=this,l=Date.now();return this._songbirdPromise?this._songbirdPromise:(v=v||{},this._songbirdPromise=new O,this._v2SetupFailureReason="reason-unknown",y._loadCardinalScript(v).then(function(){return window.Cardinal?y._configureCardinalSdk({setupOptions:v,setupStartTime:l}):(y._v2SetupFailureReason="cardinal-global-unavailable",Promise.reject(new c(p.THREEDS_CARDINAL_SDK_SETUP_FAILED)))}).catch(function(R){var D=i(R,{type:p.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:p.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:p.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});y._getDfReferenceIdPromisePlus.reject(D),window.clearTimeout(y._songbirdSetupTimeoutReference),m.sendEvent(y._client,"three-d-secure.cardinal-sdk.init.setup-failed"),y.initiateV1Fallback("cardinal-sdk-setup-failed."+y._v2SetupFailureReason)}),this._songbirdPromise)},g.prototype._configureCardinalSdk=function(v){var y=this;return this._waitForClient().then(function(){var l=y._client.getConfiguration().gatewayConfiguration.threeDSecure;return l}).then(function(l){var R=l.cardinalAuthenticationJWT,D=v.setupOptions,U=v.setupStartTime,H=y._createCardinalConfigurationOptions(D);I.forEach(function(re){y.setCardinalListener(re,function(){y._emit(g.events[re.toUpperCase()])})}),y.setCardinalListener("payments.setupComplete",y._createPaymentsSetupCompleteCallback()),y._setupFrameworkSpecificListeners(),window.Cardinal.configure(H),window.Cardinal.setup("init",{jwt:R}),y._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-U,y.setCardinalListener("payments.validated",y._createPaymentsValidatedCallback())}).catch(function(l){return y._v2SetupFailureReason="cardinal-configuration-threw-error",Promise.reject(l)})},g.prototype.setCardinalListener=function(v,y){this._cardinalEvents.push(v),window.Cardinal.on(v,y)},g.prototype._setupFrameworkSpecificListeners=function(){},g.prototype._createCardinalConfigurationOptions=function(v){var y=v.cardinalSDKConfig||{},l=y.payment||{};return!y.logging&&v.loggingEnabled&&(y.logging={level:"verbose"}),y.payment={},l.hasOwnProperty("displayLoading")&&(y.payment.displayLoading=l.displayLoading),l.hasOwnProperty("displayExitButton")&&(y.payment.displayExitButton=l.displayExitButton),y},g.prototype._loadCardinalScript=function(v){var y=this;return this._waitForClient().then(function(){var l=y._getCardinalScriptSource();return y._songbirdSetupTimeoutReference=window.setTimeout(function(){m.sendEvent(y._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),y.initiateV1Fallback("cardinal-sdk-setup-timeout")},v.timeout||b),h.loadScript({src:l})}).catch(function(l){return y._v2SetupFailureReason="songbird-js-failed-to-load",Promise.reject(i(l,p.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))})},g.prototype._getCardinalScriptSource=function(){var v=this._client.getConfiguration().gatewayConfiguration;return v&&v.environment==="production"?T.CARDINAL_SCRIPT_SOURCE.production:T.CARDINAL_SCRIPT_SOURCE.sandbox},g.prototype._createPaymentsSetupCompleteCallback=function(){var v=this;return function(y){v._getDfReferenceIdPromisePlus.resolve(y.sessionId),window.clearTimeout(v._songbirdSetupTimeoutReference),m.sendEvent(v._createPromise,"three-d-secure.cardinal-sdk.init.setup-completed"),v._songbirdPromise.resolve()}},g.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},g.prototype._performJWTValidation=function(v,y){var l=this,R=this._lookupPaymentMethod.nonce,D="payment_methods/"+R+"/three_d_secure/authenticate_from_jwt",U=v&&v.Payment&&v.Payment.ExtendedData&&v.Payment.ExtendedData.ChallengeCancel;return U&&(m.sendEvent(this._createPromise,"three-d-secure.verification-flow.cardinal-sdk.cancel-code."+U),U===u&&this._emit(g.events.CUSTOMER_CANCELED)),m.sendEvent(this._createPromise,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._waitForClient().then(function(){return l._client.request({method:"post",endpoint:D,data:{jwt:y,paymentMethodNonce:R}})}).then(function(H){var re=H.paymentMethod||l._lookupPaymentMethod,X=l._formatAuthResponse(re,H.threeDSecureInfo);return X.rawCardinalSDKVerificationData=v,m.sendEvent(l._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),Promise.resolve(X)}).catch(function(H){var re=new c({type:p.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:p.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:p.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:H}});return m.sendEvent(l._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),Promise.reject(re)})},g.prototype._createPaymentsValidatedCallback=function(){var v=this;return function(y,l){var R;if(v._useV1Fallback){m.sendEvent(v._createPromise,"three-d-secure.verification-flow.cardinal-sdk.payments-validated-callback-called-in-v1-fallback-flow");return}if(m.sendEvent(v._createPromise,"three-d-secure.verification-flow.cardinal-sdk.action-code."+y.ActionCode.toLowerCase()),!v._verifyCardPromisePlus){v.initiateV1Fallback("cardinal-sdk-setup-error.number-"+y.ErrorNumber);return}switch(y.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":v._performJWTValidation(y,l).then(function(D){v._verifyCardPromisePlus.resolve(D)}).catch(function(D){v._verifyCardPromisePlus.reject(D)});break;case"ERROR":switch(m.sendEvent(v._createPromise,"three-d-secure.verification-flow.cardinal-sdk-error."+y.ErrorNumber),y.ErrorNumber){case 10001:case 10002:R=new c(p.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:R=new c(p.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:R=new c(p.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:R=new c(p.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:m.sendEvent(v._createPromise,"three-d-secure.verification-flow.canceled"),R=new c(p.THREEDS_CARDINAL_SDK_CANCELED);break;default:R=new c(p.THREEDS_CARDINAL_SDK_ERROR)}R.details={originalError:{code:y.ErrorNumber,description:y.ErrorDescription}},v._verifyCardPromisePlus.reject(R);break;default:}}},g.prototype._checkForVerifyCardError=function(v,y){return v.bin?n.prototype._checkForVerifyCardError.call(this,v,y):new c({type:p.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:p.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include a BIN."})},g.prototype._checkForFrameworkSpecificVerifyCardErrors=function(v,y){var l;return typeof v.onLookupComplete!="function"&&!y.ignoreOnLookupCompleteRequirement&&(l="an onLookupComplete function"),l},g.prototype._formatVerifyCardOptions=function(v){var y=n.prototype._formatVerifyCardOptions.call(this,v),l=y.additionalInformation||{};return l=this.transformBillingAddress(l,v.billingAddress),l=this.transformShippingAddress(l),v.onLookupComplete&&(y.onLookupComplete=o(v.onLookupComplete)),v.email&&(l.email=v.email),v.mobilePhoneNumber&&(l.mobilePhoneNumber=v.mobilePhoneNumber),y.additionalInformation=l,y},g.prototype._onLookupComplete=function(v,y){var l=this;return n.prototype._onLookupComplete.call(this,v).then(function(R){return new Promise(function(D,U){R.requiresUserAuthentication=!!(R.lookup&&R.lookup.acsUrl);function H(){D(R)}l._verifyCardPromisePlus.catch(U),y.onLookupComplete?y.onLookupComplete(R,H):l._emit(g.events.LOOKUP_COMPLETE,R,H)})})},g.prototype._presentChallenge=function(v){if(this._useV1Fallback||!v.lookup.transactionId){this._presentChallengeWithV1Fallback(v.lookup);return}window.Cardinal.continue("cca",{AcsUrl:v.lookup.acsUrl,Payload:v.lookup.pareq},{OrderDetails:{TransactionId:v.lookup.transactionId}})},g.prototype._formatLookupData=function(v){var y=this;return n.prototype._formatLookupData.call(this,v).then(function(l){if(l.additionalInfo=v.additionalInformation,v.accountType&&(l.accountType=v.accountType),v.challengeRequested&&(l.challengeRequested=v.challengeRequested),v.requestedExemptionType){if(!E.includes(v.requestedExemptionType))throw new c({code:p.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.code,type:p.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.type,message:"requestedExemptionType `"+v.requestedExemptionType+"` is not a valid exemption. The accepted values are: `"+E.join("`, `")+"`"});l.requestedExemptionType=v.requestedExemptionType}return v.customFields&&(l.customFields=v.customFields),v.dataOnlyRequested&&(l.dataOnlyRequested=v.dataOnlyRequested),v.exemptionRequested&&(l.exemptionRequested=v.exemptionRequested),v.requestVisaDAF&&(l.requestVisaDAF=v.requestVisaDAF),v.bin&&(l.bin=v.bin),v.cardAdd!=null&&(l.cardAdd=v.cardAdd),v.cardAddChallengeRequested!=null&&(l.cardAdd=v.cardAddChallengeRequested),v.merchantName&&(l.merchantName=v.merchantName),y.prepareLookup(l)})},g.prototype.cancelVerifyCard=function(v){var y=this;return n.prototype.cancelVerifyCard.call(this).then(function(l){return y._verifyCardPromisePlus&&(v=v||new c(p.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT),y._verifyCardPromisePlus.reject(v)),l})},g.prototype._removeSongbirdListeners=function(){this._cardinalEvents.forEach(function(v){window.Cardinal.off(v)}),this._cardinalEvents=[]},g.prototype.teardown=function(){return window.Cardinal&&this._removeSongbirdListeners(),n.prototype.teardown.call(this)},g.prototype._reloadThreeDSecure=function(){var v=this,y=Date.now();return v.teardown().then(function(){v._configureCardinalSdk({setupOptions:v.originalSetupOptions,setupStartTime:y})})};function C(v,y,l){y[l+"Line1"]=v.streetAddress,y[l+"Line2"]=v.extendedAddress,y[l+"Line3"]=v.line3,y[l+"City"]=v.locality,y[l+"State"]=v.region,y[l+"PostalCode"]=v.postalCode,y[l+"CountryCode"]=v.countryCodeAlpha2}_.exports=g},{"../../../lib/analytics":119,"../../../lib/assets":120,"../../../lib/assign":121,"../../../lib/braintree-error":124,"../../../lib/constants":126,"../../../lib/convert-to-braintree-error":128,"../../../lib/deferred":132,"../../../lib/enumerate":134,"../../shared/constants":199,"../../shared/errors":200,"./base":190,"@braintree/extended-promise":34}],197:[function(e,_,A){"use strict";var n=e("@braintree/wrap-promise"),s=e("../../lib/methods"),o=e("../../lib/convert-methods-to-error"),c=e("@braintree/event-emitter"),i=e("./frameworks");function m(h){var p=this,f=i[h.framework];c.call(this),this._framework=new f(h),this._framework.setUpEventListeners(function(){p._emit.apply(p,arguments)})}c.createChild(m),m.prototype.verifyCard=function(h){var p;return this.hasListener("lookup-complete")&&(p={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(h,p)},m.prototype.initializeChallengeWithLookupResponse=function(h){return typeof h=="string"&&(h=JSON.parse(h)),this._framework.initializeChallengeWithLookupResponse(h)},m.prototype.prepareLookup=function(h){return this._framework.prepareLookup(h).then(function(p){return JSON.stringify(p)})},m.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},m.prototype.teardown=function(){var h=s(m.prototype).concat(s(c.prototype));return o(this,h),this._framework.teardown()},_.exports=n.wrapPrototype(m)},{"../../lib/convert-methods-to-error":127,"../../lib/methods":155,"./frameworks":193,"@braintree/event-emitter":33,"@braintree/wrap-promise":43}],198:[function(e,_,A){"use strict";var n=e("./external/three-d-secure"),s=e("../lib/is-https").isHTTPS,o=e("../lib/basic-component-verification"),c=e("../lib/create-deferred-client"),i=e("../lib/create-assets-url"),m=e("../lib/braintree-error"),h=e("../lib/analytics"),p=e("./shared/errors"),f="3.97.0",T=e("@braintree/wrap-promise");function O(P){var d="3D Secure",u=b(P);return o.verify({name:d,client:P.client,authorization:P.authorization}).then(function(){var I=i.create(P.authorization),E=c.create({authorization:P.authorization,client:P.client,debug:P.debug,assetsUrl:I,name:d}).then(function(C){var v,y,l=C.getConfiguration(),R=l.gatewayConfiguration;return P.client=C,R.threeDSecureEnabled||(v=p.THREEDS_NOT_ENABLED),l.authorizationType==="TOKENIZATION_KEY"&&(v=p.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),y=R.environment==="production",y&&!s()&&(v=p.THREEDS_HTTPS_REQUIRED),u!=="legacy"&&!(R.threeDSecure&&R.threeDSecure.cardinalAuthenticationJWT)&&(h.sendEvent(P.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),v=p.THREEDS_NOT_ENABLED_FOR_V2),v?Promise.reject(new m(v)):(h.sendEvent(P.client,"three-d-secure.initialized"),C)}),g=new n({client:P.client,assetsUrl:I,createPromise:E,loggingEnabled:P.loggingEnabled,cardinalSDKConfig:P.cardinalSDKConfig,framework:u});return P.client?E.then(function(){return g}):g})}function b(P){var d=String(P.version||"");if(!d||d==="1")throw new m({code:p.THREEDS_UNSUPPORTED_VERSION.code,type:p.THREEDS_UNSUPPORTED_VERSION.type,message:p.THREEDS_UNSUPPORTED_VERSION.message});switch(d){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new m({code:p.THREEDS_UNRECOGNIZED_VERSION.code,type:p.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+P.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}_.exports={create:T(O),VERSION:f}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"../lib/is-https":152,"./external/three-d-secure":197,"./shared/errors":200,"@braintree/wrap-promise":43}],199:[function(e,_,A){"use strict";_.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],200:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={THREEDS_NOT_ENABLED:{type:n.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:n.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:n.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:n.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:n.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:n.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:n.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:n.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:n.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:n.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:n.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:n.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:n.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:n.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:n.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:n.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:n.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:n.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:n.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:n.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:n.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:n.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:n.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:n.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."},THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID:{type:n.types.MERCHANT,code:"THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID",message:"Requested Exemption Type is invalid."},THREEDS_UNSUPPORTED_VERSION:{type:n.types.MERCHANT,code:"THREEDS_UNSUPPORTED_VERSION",message:"3D Secure `1` is deprecated and no longer supported. See available versions at https://braintree.github.io/braintree-web/current/module-braintree-web_three-d-secure.html#.create"}}},{"../../lib/braintree-error":124}],201:[function(e,_,A){"use strict";var n=e("../../lib/enumerate");_.exports=n(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":134}],202:[function(e,_,A){"use strict";var n=e("./shared/unionpay"),s=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),c=e("../lib/create-deferred-client"),i=e("../lib/create-assets-url"),m=e("../lib/analytics"),h=e("./shared/errors"),p="3.97.0",f=e("@braintree/wrap-promise");function T(O){var b="UnionPay";return s.verify({name:b,client:O.client,authorization:O.authorization}).then(function(){return c.create({authorization:O.authorization,client:O.client,debug:O.debug,assetsUrl:i.create(O.authorization),name:b})}).then(function(P){var d=P.getConfiguration();return O.client=P,!d.gatewayConfiguration.unionPay||d.gatewayConfiguration.unionPay.enabled!==!0?Promise.reject(new o(h.UNIONPAY_NOT_ENABLED)):(m.sendEvent(O.client,"unionpay.initialized"),new n(O))})}_.exports={create:f(T),VERSION:p}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./shared/errors":204,"./shared/unionpay":205,"@braintree/wrap-promise":43}],203:[function(e,_,A){"use strict";var n=e("../../lib/enumerate");_.exports={events:n(["HOSTED_FIELDS_FETCH_CAPABILITIES","HOSTED_FIELDS_ENROLL","HOSTED_FIELDS_TOKENIZE"],"union-pay:"),HOSTED_FIELDS_FRAME_NAME:"braintreeunionpayhostedfields"}},{"../../lib/enumerate":134}],204:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={UNIONPAY_NOT_ENABLED:{type:n.types.MERCHANT,code:"UNIONPAY_NOT_ENABLED",message:"UnionPay is not enabled for this merchant."},UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID:{type:n.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID",message:"Found an invalid Hosted Fields instance. Please use a valid Hosted Fields instance."},UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:n.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"Could not find the Hosted Fields instance."},UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:n.types.MERCHANT,code:"UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"A card or a Hosted Fields instance is required. Please supply a card or a Hosted Fields instance."},UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES:{type:n.types.MERCHANT,code:"UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES",message:"Please supply either a card or a Hosted Fields instance, not both."},UNIONPAY_EXPIRATION_DATE_INCOMPLETE:{type:n.types.MERCHANT,code:"UNIONPAY_EXPIRATION_DATE_INCOMPLETE",message:"You must supply expiration month and year or neither."},UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID:{type:n.types.CUSTOMER,code:"UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID",message:"Enrollment failed due to user input error."},UNIONPAY_ENROLLMENT_NETWORK_ERROR:{type:n.types.NETWORK,code:"UNIONPAY_ENROLLMENT_NETWORK_ERROR",message:"Could not enroll UnionPay card."},UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR:{type:n.types.NETWORK,code:"UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR",message:"Could not fetch card capabilities."},UNIONPAY_TOKENIZATION_NETWORK_ERROR:{type:n.types.NETWORK,code:"UNIONPAY_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},UNIONPAY_MISSING_MOBILE_PHONE_DATA:{type:n.types.MERCHANT,code:"UNIONPAY_MISSING_MOBILE_PHONE_DATA",message:"A `mobile` with `countryCode` and `number` is required."},UNIONPAY_FAILED_TOKENIZATION:{type:n.types.CUSTOMER,code:"UNIONPAY_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."}}},{"../../lib/braintree-error":124}],205:[function(e,_,A){"use strict";var n=e("../../lib/analytics"),s=e("../../lib/braintree-error"),o=e("framebus"),c=e("./constants"),i=e("../../lib/is-verified-domain"),m=e("../../lib/use-min"),h=e("../../lib/convert-methods-to-error"),p=e("./errors"),f=c.events,T=e("@braintree/iframer"),O=e("../../lib/methods"),b="3.97.0",P=e("@braintree/uuid"),d=e("@braintree/wrap-promise"),u=e("../../lib/constants").BUS_CONFIGURATION_REQUEST_EVENT;function I(E){this._options=E}I.prototype.fetchCapabilities=function(E){var g=this,C=this._options.client,v=E.card?E.card.number:null,y=E.hostedFields;return v&&y?Promise.reject(new s(p.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):v?C.request({method:"get",endpoint:"payment_methods/credit_cards/capabilities",data:{_meta:{source:"unionpay"},creditCard:{number:v}}}).then(function(l){return n.sendEvent(C,"unionpay.capabilities-received"),l}).catch(function(l){var R=l.details&&l.details.httpStatus;return n.sendEvent(C,"unionpay.capabilities-failed"),R===403?Promise.reject(l):Promise.reject(new s({type:p.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.type,code:p.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.code,message:p.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.message,details:{originalError:l}}))}):y?y._bus?g._initializeHostedFields().then(function(){return new Promise(function(l,R){g._bus.emit(f.HOSTED_FIELDS_FETCH_CAPABILITIES,{hostedFields:y},function(D){if(D.err){R(new s(D.err));return}l(D.payload)})})}):Promise.reject(new s(p.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):Promise.reject(new s(p.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},I.prototype.enroll=function(E){var g=this,C=this._options.client,v=E.card,y=E.mobile,l=E.hostedFields,R;if(!y)return Promise.reject(new s(p.UNIONPAY_MISSING_MOBILE_PHONE_DATA));if(l){if(l._bus){if(v)return Promise.reject(new s(p.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES))}else return Promise.reject(new s(p.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));return new Promise(function(D,U){g._initializeHostedFields().then(function(){g._bus.emit(f.HOSTED_FIELDS_ENROLL,{hostedFields:l,mobile:y},function(H){if(H.err){U(new s(H.err));return}D(H.payload)})})})}else if(v&&v.number){if(R={_meta:{source:"unionpay"},unionPayEnrollment:{number:v.number,mobileCountryCode:y.countryCode,mobileNumber:y.number}},v.expirationDate)R.unionPayEnrollment.expirationDate=v.expirationDate;else if(v.expirationMonth||v.expirationYear)if(v.expirationMonth&&v.expirationYear)R.unionPayEnrollment.expirationYear=v.expirationYear,R.unionPayEnrollment.expirationMonth=v.expirationMonth;else return Promise.reject(new s(p.UNIONPAY_EXPIRATION_DATE_INCOMPLETE));return C.request({method:"post",endpoint:"union_pay_enrollments",data:R}).then(function(D){return n.sendEvent(C,"unionpay.enrollment-succeeded"),{enrollmentId:D.unionPayEnrollmentId,smsCodeRequired:D.smsCodeRequired}}).catch(function(D){var U,H=D.details&&D.details.httpStatus;return H===403?U=D:H<500?(U=new s(p.UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID),U.details={originalError:D}):(U=new s(p.UNIONPAY_ENROLLMENT_NETWORK_ERROR),U.details={originalError:D}),n.sendEvent(C,"unionpay.enrollment-failed"),Promise.reject(U)})}return Promise.reject(new s(p.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},I.prototype.tokenize=function(E){var g,C=this,v=this._options.client,y=E.card,l=E.hostedFields;return y&&l?Promise.reject(new s(p.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):y?(g={_meta:{source:"unionpay"},creditCard:{number:E.card.number,options:{unionPayEnrollment:{id:E.enrollmentId}}}},E.smsCode&&(g.creditCard.options.unionPayEnrollment.smsCode=E.smsCode),y.expirationDate?g.creditCard.expirationDate=y.expirationDate:y.expirationMonth&&y.expirationYear&&(g.creditCard.expirationYear=y.expirationYear,g.creditCard.expirationMonth=y.expirationMonth),E.card.cvv&&(g.creditCard.cvv=E.card.cvv),v.request({method:"post",endpoint:"payment_methods/credit_cards",data:g}).then(function(R){var D=R.creditCards[0];return delete D.consumed,delete D.threeDSecureInfo,n.sendEvent(v,"unionpay.nonce-received"),D}).catch(function(R){var D,U=R.details&&R.details.httpStatus;return n.sendEvent(v,"unionpay.nonce-failed"),U===403?D=R:U<500?(D=new s(p.UNIONPAY_FAILED_TOKENIZATION),D.details={originalError:R}):(D=new s(p.UNIONPAY_TOKENIZATION_NETWORK_ERROR),D.details={originalError:R}),Promise.reject(D)})):l?l._bus?new Promise(function(R,D){C._initializeHostedFields().then(function(){C._bus.emit(f.HOSTED_FIELDS_TOKENIZE,E,function(U){if(U.err){D(new s(U.err));return}R(U.payload)})})}):Promise.reject(new s(p.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):Promise.reject(new s(p.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},I.prototype.teardown=function(){return this._bus&&(this._hostedFieldsFrame.parentNode.removeChild(this._hostedFieldsFrame),this._bus.teardown()),h(this,O(I.prototype)),Promise.resolve()},I.prototype._initializeHostedFields=function(){var E,g,C=P(),v=this;return this._hostedFieldsInitializePromise?this._hostedFieldsInitializePromise:(this._hostedFieldsInitializePromise=new Promise(function(y){E=v._options.client.getConfiguration().gatewayConfiguration.assetsUrl,g=v._options.client.getConfiguration().isDebug,v._bus=new o({channel:C,verifyDomain:i}),v._hostedFieldsFrame=T({name:c.HOSTED_FIELDS_FRAME_NAME+"_"+C,src:E+"/web/"+b+"/html/unionpay-hosted-fields-frame"+m(g)+".html",height:0,width:0}),v._bus.on(u,function(l){l(v._options.client),y()}),document.body.appendChild(v._hostedFieldsFrame)}),this._hostedFieldsInitializePromise)},_.exports=d.wrapPrototype(I)},{"../../lib/analytics":119,"../../lib/braintree-error":124,"../../lib/constants":126,"../../lib/convert-methods-to-error":127,"../../lib/is-verified-domain":153,"../../lib/methods":155,"../../lib/use-min":160,"./constants":203,"./errors":204,"@braintree/iframer":35,"@braintree/uuid":39,"@braintree/wrap-promise":43,framebus:52}],206:[function(e,_,A){"use strict";_.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],207:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:n.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:n.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:n.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:n.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":124}],208:[function(e,_,A){"use strict";var n=e("../lib/basic-component-verification"),s=e("../lib/braintree-error"),o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i=e("./errors"),m=e("./us-bank-account"),h="3.97.0",p=e("@braintree/wrap-promise");function f(T){var O="US Bank Account";return n.verify({name:O,client:T.client,authorization:T.authorization}).then(function(){return o.create({authorization:T.authorization,client:T.client,debug:T.debug,assetsUrl:c.create(T.authorization),name:O})}).then(function(b){var P;return T.client=b,P=T.client.getConfiguration().gatewayConfiguration.usBankAccount,P?new m(T):Promise.reject(new s(i.US_BANK_ACCOUNT_NOT_ENABLED))})}_.exports={create:p(f),VERSION:h}},{"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./errors":207,"./us-bank-account":209,"@braintree/wrap-promise":43}],209:[function(e,_,A){"use strict";var n=e("../lib/braintree-error"),s=e("./constants"),o=e("./errors"),c=e("../lib/errors"),i=e("../lib/analytics"),m=e("../lib/once"),h=e("../lib/convert-methods-to-error"),p=e("../lib/methods"),f=e("@braintree/wrap-promise"),T=g("UsBankAccount"),O=g("UsBankLogin");function b(C){this._client=C.client,this._isTokenizingBankLogin=!1,i.sendEvent(this._client,"usbankaccount.initialized")}b.prototype.tokenize=function(C){return C=C||{},C.mandateText?C.bankDetails&&C.bankLogin?Promise.reject(new n({type:o.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:o.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):C.bankDetails?this._tokenizeBankDetails(C):C.bankLogin?this._tokenizeBankLogin(C):Promise.reject(new n({type:o.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:o.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):Promise.reject(new n({type:o.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:o.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},b.prototype._tokenizeBankDetails=function(C){var v=this._client,y=C.bankDetails,l={achMandate:C.mandateText,routingNumber:y.routingNumber,accountNumber:y.accountNumber,accountType:y.accountType.toUpperCase(),billingAddress:I(y.billingAddress||{})};return E(l,y),v.request({api:"graphQLApi",data:{query:T,variables:{input:{usBankAccount:l}}}}).then(function(R){return i.sendEvent(v,"usbankaccount.bankdetails.tokenization.succeeded"),Promise.resolve(d(R,"tokenizeUsBankAccount"))}).catch(function(R){var D=P(R);return i.sendEvent(v,"usbankaccount.bankdetails.tokenization.failed"),Promise.reject(D)})},b.prototype._tokenizeBankLogin=function(C){var v=this,y=this._client,l=y.getConfiguration().gatewayConfiguration,R=l.environment==="production",D=l.usBankAccount.plaid;return C.bankLogin.displayName?D?this._isTokenizingBankLogin?Promise.reject(new n(o.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new Promise(function(U,H){v._loadPlaid(function(re,X){if(re){H(re);return}X.create({clientName:C.bankLogin.displayName,apiVersion:"v2",env:R?"production":"sandbox",key:D.publicKey,product:"auth",selectAccount:!0,onExit:function(){v._isTokenizingBankLogin=!1,i.sendEvent(y,"usbankaccount.banklogin.tokenization.closed.by-user"),H(new n(o.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(F,B){var z=C.bankLogin,S={publicToken:F,accountId:R?B.account_id:"plaid_account_id",accountType:B.account.subtype.toUpperCase(),achMandate:C.mandateText,billingAddress:I(z.billingAddress||{})};E(S,z),y.request({api:"graphQLApi",data:{query:O,variables:{input:{usBankLogin:S}}}}).then(function(L){v._isTokenizingBankLogin=!1,i.sendEvent(y,"usbankaccount.banklogin.tokenization.succeeded"),U(d(L,"tokenizeUsBankLogin"))}).catch(function(L){var J;v._isTokenizingBankLogin=!1,J=P(L),i.sendEvent(y,"usbankaccount.banklogin.tokenization.failed"),H(J)})}}).open(),i.sendEvent(y,"usbankaccount.banklogin.tokenization.started")})})):Promise.reject(new n(o.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):Promise.reject(new n({type:o.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:o.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))};function P(C){var v,y=C.details&&C.details.httpStatus;return y===401?v=new n(c.BRAINTREE_API_ACCESS_RESTRICTED):y<500?v=new n(o.US_BANK_ACCOUNT_FAILED_TOKENIZATION):v=new n(o.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR),v.details={originalError:C},v}function d(C,v){var y=C.data[v].paymentMethod,l=y.details.last4,R="US bank account ending in - "+l;return{nonce:y.id,details:{},description:R,type:"us_bank_account"}}b.prototype._loadPlaid=function(C){var v,y;if(C=m(C),window.Plaid){C(null,window.Plaid);return}v=document.querySelector('script[src="'+s.PLAID_LINK_JS+'"]'),v?u(v,C):(y=document.createElement("script"),y.src=s.PLAID_LINK_JS,y.async=!0,u(y,C),document.body.appendChild(y),this._plaidScript=y)};function u(C,v){function y(){var D=this.readyState;(!D||D==="loaded"||D==="complete")&&(R(),v(null,window.Plaid))}function l(){C.parentNode.removeChild(C),v(new n(o.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}function R(){C.removeEventListener("error",l),C.removeEventListener("load",y),C.removeEventListener("readystatechange",y)}C.addEventListener("error",l),C.addEventListener("load",y),C.addEventListener("readystatechange",y)}function I(C){return{streetAddress:C.streetAddress,extendedAddress:C.extendedAddress,city:C.locality,state:C.region,zipCode:C.postalCode}}function E(C,v){v.ownershipType==="personal"?C.individualOwner={firstName:v.firstName,lastName:v.lastName}:v.ownershipType==="business"&&(C.businessOwner={businessName:v.businessName})}function g(C){return"mutation Tokenize"+C+"($input: Tokenize"+C+"Input!) {  tokenize"+C+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}b.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),h(this,p(b.prototype)),Promise.resolve()},_.exports=f.wrapPrototype(b)},{"../lib/analytics":119,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/errors":135,"../lib/methods":155,"../lib/once":156,"./constants":206,"./errors":207,"@braintree/wrap-promise":43}],210:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN:{type:n.types.MERCHANT,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN",message:"A client token with a customer id must be used to delete a payment method nonce."},VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND:{type:n.types.MERCHANT,code:"VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND"},VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR:{type:n.types.UNKNOWN,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR"}}},{"../lib/braintree-error":124}],211:[function(e,_,A){"use strict";var n=e("../lib/basic-component-verification"),s=e("../lib/create-deferred-client"),o=e("../lib/create-assets-url"),c=e("./vault-manager"),i="3.97.0",m=e("@braintree/wrap-promise");function h(p){var f="Vault Manager";return n.verify({name:f,client:p.client,authorization:p.authorization}).then(function(){return new c({createPromise:s.create({authorization:p.authorization,client:p.client,debug:p.debug,assetsUrl:o.create(p.authorization),name:f})})})}_.exports={create:m(h),VERSION:i}},{"../lib/basic-component-verification":122,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./vault-manager":212,"@braintree/wrap-promise":43}],212:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("../lib/braintree-error"),o=e("./errors"),c=e("../lib/convert-methods-to-error"),i=e("../lib/methods"),m=e("@braintree/wrap-promise"),h="mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {  deletePaymentMethodFromSingleUseToken(input: $input) {    clientMutationId  }}";function p(T){this._createPromise=T.createPromise}p.prototype.fetchPaymentMethods=function(T){var O;return T=T||{},O=T.defaultFirst===!0?1:0,this._createPromise.then(function(b){return b.request({endpoint:"payment_methods",method:"get",data:{defaultFirst:O}})}).then(function(b){return n.sendEvent(this._createPromise,"vault-manager.fetch-payment-methods.succeeded"),b.paymentMethods.map(f)}.bind(this))},p.prototype.deletePaymentMethod=function(T){return this._createPromise.then(function(O){var b=O.getConfiguration().authorizationType==="CLIENT_TOKEN";return b?O.request({api:"graphQLApi",data:{query:h,variables:{input:{singleUseTokenId:T}},operationName:"DeletePaymentMethodFromSingleUseToken"}}).then(function(){n.sendEvent(O,"vault-manager.delete-payment-method.succeeded")}).catch(function(P){var d=P.details.originalError,u;return n.sendEvent(O,"vault-manager.delete-payment-method.failed"),d[0]&&d[0].extensions.errorClass==="NOT_FOUND"&&(u=new s({type:o.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,code:o.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,message:"A payment method for payment method nonce `"+T+"` could not be found.",details:{originalError:d}})),u||(u=new s({type:o.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,code:o.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,message:"An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `"+T+"`.",details:{originalError:d}})),Promise.reject(u)}):Promise.reject(new s(o.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN))})};function f(T){var O={nonce:T.nonce,default:T.default,details:T.details,hasSubscription:T.hasSubscription,type:T.type};return T.description&&(O.description=T.description),T.binData&&(O.binData=T.binData),O}p.prototype.teardown=function(){return c(this,i(p.prototype)),Promise.resolve()},_.exports=m.wrapPrototype(p)},{"../lib/analytics":119,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/methods":155,"./errors":210,"@braintree/wrap-promise":43}],213:[function(e,_,A){"use strict";var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},s=n(e("./venmo-desktop"));_.exports=function(c){var i=new s.default(c);return i.initialize()}},{"./venmo-desktop":215}],214:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.VENMO_PAYMENT_CONTEXT_STATUS_QUERY=A.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY=A.UPDATE_PAYMENT_CONTEXT_QUERY=A.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY=A.CREATE_PAYMENT_CONTEXT_QUERY=A.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY=void 0,A.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY=`mutation CreateVenmoQRCodePaymentContext($input: CreateVenmoQRCodePaymentContextInput!) {
  createVenmoQRCodePaymentContext(input: $input) {
    clientMutationId
    venmoQRCodePaymentContext {
      id
      merchantId
      createdAt
      expiresAt
    }
  }
}`,A.CREATE_PAYMENT_CONTEXT_QUERY=`mutation CreateVenmoPaymentContext($input: CreateVenmoPaymentContextInput!) {
  createVenmoPaymentContext(input: $input) {
    clientMutationId
    venmoPaymentContext {
      id
      merchantId
      createdAt
      expiresAt
    }
  }
}`,A.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY=`mutation UpdateVenmoQRCodePaymentContext($input: UpdateVenmoQRCodePaymentContextInput!) {
  updateVenmoQRCodePaymentContext(input: $input) {
    clientMutationId
  }
}`,A.UPDATE_PAYMENT_CONTEXT_QUERY=`mutation UpdateVenmoPaymentContextStatus($input: UpdateVenmoPaymentContextStatusInput!) {
  updateVenmoPaymentContextStatus(input: $input) {
    clientMutationId
  }
}`,A.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY=`query PaymentContext($id: ID!) {
  node(id: $id) {
    ... on VenmoQRCodePaymentContext {
      status
      paymentMethodId
      userName
    }
  }
}`,A.VENMO_PAYMENT_CONTEXT_STATUS_QUERY=`query PaymentContext($id: ID!) {
  node(id: $id) {
    ... on VenmoPaymentContext {
      status
      paymentMethodId
      userName
      payerInfo {
        firstName
        lastName
        phoneNumber
        email
        externalId
        userName
        billingAddress {
          fullName
          addressLine1
          addressLine2
          adminArea1
          adminArea2
          postalCode
          countryCode
        }
        shippingAddress {
          fullName
          addressLine1
          addressLine2
          adminArea1
          adminArea2
          postalCode
          countryCode
        }
      }
    }
  }
}`},{}],215:[function(e,_,A){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(O){for(var b,P=1,d=arguments.length;P<d;P++){b=arguments[P];for(var u in b)Object.prototype.hasOwnProperty.call(b,u)&&(O[u]=b[u])}return O},n.apply(this,arguments)},s=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(A,"__esModule",{value:!0});var o=s(e("framebus")),c=s(e("@braintree/iframer")),i=s(e("@braintree/uuid")),m=e("../shared/events"),h=e("./queries"),p=1e3,f=2e3,T=function(){function O(b){this.isHidden=!0,this.env=b.environment,this.id=i.default(),this.profileId=b.profileId,this.displayName=b.displayName,this.paymentMethodUsage=b.paymentMethodUsage,this.shouldUseLegacyQRCodeMutation=!this.paymentMethodUsage;var P=b.url+"#"+this.env+"_"+this.id;this.bus=new o.default({channel:this.id,verifyDomain:b.verifyDomain,targetFrames:[]}),this.apiRequest=b.apiRequest,this.sendEvent=b.sendEvent,this.Promise=b.Promise,this.alertBox=document.createElement("div"),this.alertBox.setAttribute("data-venmo-desktop-id",this.id),this.alertBox.setAttribute("role","alert"),this.alertBox.style.position="fixed",this.alertBox.style.display="none",this.alertBox.style.height="1px",this.alertBox.style.width="1px",this.alertBox.style.overflow="hidden",this.alertBox.style.zIndex="0",this.iframe=c.default({src:P,name:"venmo-desktop-iframe",style:{display:"none",position:"fixed",top:"0",bottom:"0",right:"0",left:"0",height:"100%",width:"100%",zIndex:"9999999"},title:"Venmo Desktop"}),this.bus.addTargetFrame(this.iframe)}return O.prototype.initialize=function(){var b=this;return new this.Promise(function(P){b.bus.on(m.VENMO_DESKTOP_IFRAME_READY,function(){P(b)}),b.bus.on(m.VENMO_DESKTOP_REQUEST_NEW_QR_CODE,function(){b.sendEvent("venmo.tokenize.desktop.restarted-from-error-view"),b.startPolling()}),document.body.appendChild(b.iframe),document.body.appendChild(b.alertBox)})},O.prototype.launchDesktopFlow=function(){var b=this;this.isHidden=!1;var P=new this.Promise(function(d,u){b.launchDesktopPromiseRejectFunction=u;var I=function(){b.bus.off(m.VENMO_DESKTOP_CUSTOMER_CANCELED,g),b.bus.off(m.VENMO_DESKTOP_UNKNOWN_ERROR,E)},E=function(C){I(),b.sendEvent("venmo.tokenize.desktop.unknown-error"),u({allowUIToHandleError:!1,reason:"UNKNOWN_ERROR",err:C})},g=function(){I(),b.updateVenmoDesktopPaymentContext("CANCELED"),b.sendEvent("venmo.tokenize.desktop.status-change.canceled-from-modal"),u({allowUIToHandleError:!1,reason:"CUSTOMER_CANCELED"})};b.completedHandler=function(C){I(),d(C)},b.bus.on(m.VENMO_DESKTOP_CUSTOMER_CANCELED,g),b.bus.on(m.VENMO_DESKTOP_UNKNOWN_ERROR,E)});return this.iframe.style.display="block",this.setAlert("Generating a QR code, get your Venmo app ready"),this.iframe.focus(),this.startPolling(),P.then(function(d){return delete b.venmoContextId,delete b.launchDesktopPromiseRejectFunction,d}).catch(function(d){return delete b.venmoContextId,delete b.launchDesktopPromiseRejectFunction,b.Promise.reject(d)})},O.prototype.triggerCompleted=function(b){var P=this;this.isHidden||setTimeout(function(){P.completedHandler&&P.completedHandler(b),delete P.completedHandler},f)},O.prototype.triggerRejected=function(b){this.launchDesktopPromiseRejectFunction&&this.launchDesktopPromiseRejectFunction(b)},O.prototype.hideDesktopFlow=function(){this.setAlert(""),this.iframe.style.display="none",this.bus.emit(m.VENMO_DESKTOP_CLOSED_FROM_PARENT),this.isHidden=!0},O.prototype.displayError=function(b){this.isHidden||(this.bus.emit(m.VENMO_DESKTOP_DISPLAY_ERROR,{message:b}),this.setAlert(b))},O.prototype.displayQRCode=function(b,P){this.isHidden||(this.bus.emit(m.VENMO_DESKTOP_DISPLAY_QR_CODE,{id:b,merchantId:P}),this.setAlert("To scan the QR code, open your Venmo app"))},O.prototype.authorize=function(){this.isHidden||(this.bus.emit(m.VENMO_DESKTOP_AUTHORIZE),this.setAlert("Venmo account authorized"))},O.prototype.authorizing=function(){this.isHidden||(this.bus.emit(m.VENMO_DESKTOP_AUTHORIZING),this.setAlert("Authorize on your Venmo app"))},O.prototype.startPolling=function(){var b=this;return this.createVenmoDesktopPaymentContext().then(function(P){var d=new Date(P.expiresAt).getTime()-new Date(P.createdAt).getTime(),u=Date.now()+d;return b.displayQRCode(P.id,P.merchantId),b.pollForStatusChange(P.status,u)}).then(function(P){if(P){var d=P.userName||"";d="@"+d.replace("@",""),b.triggerCompleted({paymentMethodNonce:P.paymentMethodId,username:d,payerInfo:P.payerInfo,id:b.venmoContextId||""})}}).catch(function(P){P.allowUIToHandleError||(b.sendEvent("venmo.tokenize.desktop.unhandled-error"),b.triggerRejected(P))})},O.prototype.pollForStatusChange=function(b,P){var d=this;return this.venmoContextId?Date.now()>P?this.updateVenmoDesktopPaymentContext("EXPIRED").then(function(){return d.displayError("Something went wrong"),d.sendEvent("venmo.tokenize.desktop.status-change.sdk-timeout"),d.Promise.reject({allowUIToHandleError:!0,reason:"TIMEOUT"})}):this.lookupVenmoDesktopPaymentContext().then(function(u){if(!d.venmoContextId||!u)return d.Promise.resolve();var I=u.status;if(I!==b)switch(b=I,d.sendEvent("venmo.tokenize.desktop.status-change."+b.toLowerCase()),b){case"CREATED":break;case"EXPIRED":case"FAILED":case"CANCELED":var E=b==="CANCELED"?"The authorization was canceled":"Something went wrong";return d.displayError(E),d.Promise.reject({allowUIToHandleError:!0,reason:b});case"SCANNED":d.authorizing();break;case"APPROVED":return d.authorize(),d.Promise.resolve(u);default:}return new d.Promise(function(g,C){setTimeout(function(){d.pollForStatusChange(b,P).then(g).catch(C)},p)})}):this.Promise.resolve()},O.prototype.teardown=function(){this.bus.teardown(),this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),this.alertBox.parentNode&&this.alertBox.parentNode.removeChild(this.alertBox)},O.prototype.setAlert=function(b){this.alertBox.style.display=b?"block":"none",this.alertBox.textContent=b},O.prototype.createPaymentContextFromGraphqlLegacyQRCodeMutation=function(b){return this.apiRequest(h.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY,{input:{environment:this.env,intent:b}}).then(function(P){return P.createVenmoQRCodePaymentContext.venmoQRCodePaymentContext})},O.prototype.createPaymentContextFromGraphQL=function(b){var P={intent:b,paymentMethodUsage:this.paymentMethodUsage,customerClient:"DESKTOP"};return this.profileId&&(P.merchantProfileId=this.profileId),this.displayName&&(P.displayName=this.displayName),this.apiRequest(h.CREATE_PAYMENT_CONTEXT_QUERY,{input:P}).then(function(d){return d.createVenmoPaymentContext.venmoPaymentContext})},O.prototype.createVenmoDesktopPaymentContext=function(){var b=this,P=this.shouldUseLegacyQRCodeMutation?this.createPaymentContextFromGraphqlLegacyQRCodeMutation("PAY_FROM_APP"):this.createPaymentContextFromGraphQL("PAY_FROM_APP");return P.then(function(d){b.venmoContextId=d.id;var u=b.profileId||d.merchantId;return{id:d.id,status:d.status,merchantId:u,createdAt:d.createdAt,expiresAt:d.expiresAt}})},O.prototype.updateVenmoDesktopPaymentContext=function(b,P){if(P===void 0&&(P={}),!this.venmoContextId)return this.Promise.resolve();var d={input:n({id:this.venmoContextId,status:b},P)},u=this.shouldUseLegacyQRCodeMutation?h.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY:h.UPDATE_PAYMENT_CONTEXT_QUERY;return this.apiRequest(u,d).then(function(){})},O.prototype.lookupVenmoDesktopPaymentContext=function(){if(!this.venmoContextId)return this.Promise.resolve();var b=this.shouldUseLegacyQRCodeMutation?h.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY:h.VENMO_PAYMENT_CONTEXT_STATUS_QUERY;return this.apiRequest(b,{id:this.venmoContextId}).then(function(P){return P.node})},O}();A.default=T},{"../shared/events":220,"./queries":214,"@braintree/iframer":35,"@braintree/uuid":39,framebus:52}],216:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i=e("./shared/errors"),m=e("@braintree/wrap-promise"),h=e("../lib/braintree-error"),p=e("./venmo"),f=e("./shared/supports-venmo"),T="3.97.0";function O(P){var d="Venmo";return s.verify({name:d,client:P.client,authorization:P.authorization}).then(function(){var u,I;return P.profileId&&typeof P.profileId!="string"?Promise.reject(new h(i.VENMO_INVALID_PROFILE_ID)):P.deepLinkReturnUrl&&typeof P.deepLinkReturnUrl!="string"?Promise.reject(new h(i.VENMO_INVALID_DEEP_LINK_RETURN_URL)):(u=o.create({authorization:P.authorization,client:P.client,debug:P.debug,assetsUrl:c.create(P.authorization),name:d}).then(function(E){var g=E.getConfiguration();return P.client=E,g.gatewayConfiguration.payWithVenmo?E:Promise.reject(new h(i.VENMO_NOT_ENABLED))}),P.createPromise=u,I=new p(P),n.sendEvent(u,"venmo.initialized"),u.then(function(){return I}))})}function b(P){return f.isBrowserSupported(P)}_.exports={create:m(O),isBrowserSupported:b,VERSION:T}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./shared/errors":219,"./shared/supports-venmo":222,"./venmo":224,"@braintree/wrap-promise":43}],217:[function(e,_,A){"use strict";var n=e("@braintree/browser-detection/is-android"),s=e("@braintree/browser-detection/is-chrome"),o=e("@braintree/browser-detection/is-ios"),c=e("@braintree/browser-detection/is-ios-safari"),i=e("@braintree/browser-detection/is-ios-webview"),m=e("@braintree/browser-detection/is-samsung");function h(){return n()&&window.navigator.userAgent.toLowerCase().indexOf("wv")>-1}function p(){return o()?i()||!c():!1}function f(){var O=window.navigator.userAgent.toLowerCase();return O.indexOf("huawei")>-1&&O.indexOf("fban")>-1?!0:n()?O.indexOf("fb_iab")>-1||O.indexOf("instagram")>-1:!1}function T(){return o()&&s()}_.exports={isAndroid:n,isAndroidWebview:h,isChrome:s,isIos:o,isIosChrome:T,isSamsung:m,isIosSafari:c,isIosWebview:i,isFacebookOwnedBrowserOnAndroid:f,doesNotSupportWindowOpenInIos:p}},{"@braintree/browser-detection/is-android":22,"@braintree/browser-detection/is-chrome":24,"@braintree/browser-detection/is-ios":30,"@braintree/browser-detection/is-ios-safari":27,"@braintree/browser-detection/is-ios-webview":28,"@braintree/browser-detection/is-samsung":31}],218:[function(e,_,A){"use strict";_.exports={DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY:500,DEFAULT_PROCESS_RESULTS_DELAY:1e3,VENMO_APP_OR_MOBILE_AUTH_URL:"https://venmo.com/go/checkout",VENMO_MOBILE_APP_AUTH_ONLY_URL:"https://venmo.com/braintree/checkout",VENMO_WEB_LOGIN_URL:"https://account.venmo.com/go/web"}},{}],219:[function(e,_,A){"use strict";var n=e("../../lib/braintree-error");_.exports={VENMO_NOT_ENABLED:{type:n.types.MERCHANT,code:"VENMO_NOT_ENABLED",message:"Venmo is not enabled for this merchant."},VENMO_TOKENIZATION_REQUEST_ACTIVE:{type:n.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE:{type:n.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE",message:"No tokenization in progress."},VENMO_APP_FAILED:{type:n.types.UNKNOWN,code:"VENMO_APP_FAILED",message:"Venmo app encountered a problem."},VENMO_APP_CANCELED:{type:n.types.CUSTOMER,code:"VENMO_APP_CANCELED",message:"Venmo app authorization was canceled."},VENMO_CANCELED:{type:n.types.CUSTOMER,code:"VENMO_CANCELED",message:"User canceled Venmo authorization, or Venmo app is not available."},VENMO_CUSTOMER_CANCELED:{type:n.types.CUSTOMER,code:"VENMO_CUSTOMER_CANCELED",message:"User canceled Venmo authorization."},VENMO_NETWORK_ERROR:{type:n.types.NETWORK,code:"VENMO_NETWORK_ERROR",message:"Something went wrong making the request"},VENMO_DESKTOP_CANCELED:{type:n.types.CUSTOMER,code:"VENMO_DESKTOP_CANCELED",message:"User canceled Venmo authorization by closing the Venmo Desktop modal."},VENMO_TOKENIZATION_CANCELED_BY_MERCHANT:{type:n.types.MERCHANT,code:"VENMO_TOKENIZATION_CANCELED_BY_MERCHANT",message:"The Venmo tokenization was canceled by the merchant."},VENMO_DESKTOP_UNKNOWN_ERROR:{type:n.types.UNKNOWN,code:"VENMO_DESKTOP_UNKNOWN_ERROR",message:"Something went wrong with the Venmo Desktop flow."},VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED:{type:n.types.NETWORK,code:"VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED",message:"Something went wrong creating the Venmo Payment Context."},VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR:{type:n.types.UNKNOWN,code:"VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR",message:"Something went wrong during mobile polling."},VENMO_MOBILE_POLLING_TOKENIZATION_EXPIRED:{type:n.types.CUSTOMER,code:"VENMO_MOBILE_POLLING_TOKENIZATION_EXPIRED",message:"The Venmo authorization request is expired."},VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED:{type:n.types.CUSTOMER,code:"VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED",message:"The Venmo authorization was canceled"},VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT:{type:n.types.CUSTOMER,code:"VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT",message:"Customer took too long to authorize Venmo payment."},VENMO_MOBILE_POLLING_TOKENIZATION_FAILED:{type:n.types.UNKNOWN,code:"VENMO_MOBILE_POLLING_TOKENIZATION_FAILED",message:"The Venmo authorization failed."},VENMO_INVALID_PROFILE_ID:{type:n.types.MERCHANT,code:"VENMO_INVALID_PROFILE_ID",message:"Venmo profile ID is invalid."},VENMO_INVALID_DEEP_LINK_RETURN_URL:{type:n.types.MERCHANT,code:"VENMO_INVALID_DEEP_LINK_RETURN_URL",message:"Venmo deep link return URL is invalid."},VENMO_TOKENIZATION_FAILED:{type:n.types.UNKNOWN,code:"VENMO_TOKENIZATION_FAILED",message:"Venmo encountered a problem"},VENMO_ECD_DISABLED:{type:n.types.MERCHANT,code:"ECD_DISABLED",message:"Cannot collect customer data when ECD is disabled. Enable this feature in the Control Panel to collect this data."}}},{"../../lib/braintree-error":124}],220:[function(e,_,A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.VENMO_DESKTOP_UNKNOWN_ERROR=A.VENMO_DESKTOP_REQUEST_NEW_QR_CODE=A.VENMO_DESKTOP_CLOSED_FROM_PARENT=A.VENMO_DESKTOP_IFRAME_READY=A.VENMO_DESKTOP_DISPLAY_QR_CODE=A.VENMO_DESKTOP_DISPLAY_ERROR=A.VENMO_DESKTOP_CUSTOMER_CANCELED=A.VENMO_DESKTOP_AUTHORIZING=A.VENMO_DESKTOP_AUTHORIZE=A.VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT=void 0,A.VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT="VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT",A.VENMO_DESKTOP_AUTHORIZE="VENMO_DESKTOP_AUTHORIZE",A.VENMO_DESKTOP_AUTHORIZING="VENMO_DESKTOP_AUTHORIZING",A.VENMO_DESKTOP_CUSTOMER_CANCELED="VENMO_DESKTOP_CUSTOMER_CANCELED",A.VENMO_DESKTOP_DISPLAY_ERROR="VENMO_DESKTOP_DISPLAY_ERROR",A.VENMO_DESKTOP_DISPLAY_QR_CODE="VENMO_DESKTOP_DISPLAY_QR_CODE",A.VENMO_DESKTOP_IFRAME_READY="VENMO_DESKTOP_IFRAME_READY",A.VENMO_DESKTOP_CLOSED_FROM_PARENT="VENMO_DESKTOP_CLOSED_FROM_PARENT",A.VENMO_DESKTOP_REQUEST_NEW_QR_CODE="VENMO_DESKTOP_REQUEST_NEW_QR_CODE",A.VENMO_DESKTOP_UNKNOWN_ERROR="VENMO_DESKTOP_UNKNOWN_ERROR"},{}],221:[function(e,_,A){"use strict";var n=e("./constants");function s(o){return o.useAllowDesktopWebLogin?n.VENMO_WEB_LOGIN_URL:o.mobileWebFallBack?n.VENMO_APP_OR_MOBILE_AUTH_URL:n.VENMO_MOBILE_APP_AUTH_ONLY_URL}_.exports=s},{"./constants":218}],222:[function(e,_,A){"use strict";var n=e("./browser-detection");function s(o){var c,i,m,h=n.isAndroid(),p=h||n.isIos(),f=h&&n.isChrome(),T=n.isIosSafari()||f,O=n.isIosChrome()||n.isFacebookOwnedBrowserOnAndroid()||n.isSamsung();return o=o||{},m=(o.allowDesktopWebLogin||o.allowDesktop)===!0,c=o.hasOwnProperty("allowNewBrowserTab")?o.allowNewBrowserTab:!0,i=o.hasOwnProperty("allowWebviews")?o.allowWebviews:!0,O||!i&&(n.isAndroidWebview()||n.isIosWebview())?!1:p?c?p:T:m}_.exports={isBrowserSupported:s}},{"./browser-detection":217}],223:[function(e,_,A){"use strict";var n=e("../../lib/frame-service/external"),s=e("../../lib/use-min"),o=e("@braintree/extended-promise"),c="3.97.0",i=`<svg width="198" height="58" viewBox="0 0 198 58" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M43.0702 13.6572C44.1935 15.4585 44.6999 17.3139 44.6999 19.6576C44.6999 27.1328 38.1277 36.8436 32.7935 43.6625H20.6099L15.7236 15.2939L26.3917 14.3105L28.9751 34.4966C31.389 30.6783 34.3678 24.6779 34.3678 20.587C34.3678 18.3477 33.9727 16.8225 33.3553 15.5666L43.0702 13.6572Z" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M56.8965 26.1491C58.8596 26.1491 63.8018 25.2772 63.8018 22.5499C63.8018 21.2402 62.8481 20.587 61.7242 20.587C59.7579 20.587 57.1776 22.8763 56.8965 26.1491ZM56.6715 31.5506C56.6715 34.8807 58.5787 36.1873 61.107 36.1873C63.8603 36.1873 66.4966 35.534 69.923 33.8433L68.6324 42.3523C66.2183 43.4976 62.4559 44.2617 58.8039 44.2617C49.5403 44.2617 46.2249 38.8071 46.2249 31.9879C46.2249 23.1496 51.6179 13.765 62.7365 13.765C68.858 13.765 72.2809 17.0949 72.2809 21.7317C72.2815 29.2066 62.4005 31.4965 56.6715 31.5506Z" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M103.067 20.3142C103.067 21.4052 102.897 22.9875 102.727 24.0216L99.5262 43.6622H89.1385L92.0585 25.658C92.1139 25.1696 92.284 24.1865 92.284 23.6411C92.284 22.3314 91.4414 22.0047 90.4282 22.0047C89.0826 22.0047 87.7337 22.6042 86.8354 23.0418L83.5234 43.6625H73.0772L77.8495 14.257H86.8908L87.0052 16.6041C89.1382 15.2404 91.9469 13.7656 95.932 13.7656C101.212 13.765 103.067 16.3845 103.067 20.3142Z" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M133.906 16.9841C136.881 14.9131 139.69 13.765 143.563 13.765C148.897 13.765 150.753 16.3845 150.753 20.3142C150.753 21.4052 150.583 22.9875 150.413 24.0216L147.216 43.6622H136.825L139.801 25.2774C139.855 24.786 139.971 24.1865 139.971 23.8063C139.971 22.3317 139.128 22.0047 138.115 22.0047C136.824 22.0047 135.535 22.5501 134.577 23.0418L131.266 43.6625H120.878L123.854 25.2777C123.908 24.7863 124.02 24.1868 124.02 23.8065C124.02 22.332 123.177 22.0049 122.167 22.0049C120.819 22.0049 119.473 22.6045 118.574 23.0421L115.26 43.6628H104.817L109.589 14.2573H118.52L118.8 16.7122C120.878 15.241 123.684 13.7662 127.446 13.7662C130.704 13.765 132.837 15.129 133.906 16.9841Z" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M171.426 25.5502C171.426 23.1496 170.808 21.513 168.956 21.513C164.857 21.513 164.015 28.55 164.015 32.1498C164.015 34.8807 164.802 36.5709 166.653 36.5709C170.528 36.5709 171.426 29.1497 171.426 25.5502ZM153.458 31.7152C153.458 22.442 158.511 13.765 170.136 13.765C178.896 13.765 182.098 18.7854 182.098 25.7148C182.098 34.8805 177.099 44.3723 165.194 44.3723C156.378 44.3723 153.458 38.7525 153.458 31.7152Z" fill="white"/>
</svg>`,m="Tap cancel payment to cancel and return to the business. Continue payment will relaunch the payment window.",h=400,p=570,f={backdrop:"venmo-desktop-web-backdrop",backdropHidden:"venmo-desktop-web-backdrop.hidden",backdropContainer:"venmo-backdrop-container",cancelButton:"venmo-popup-cancel-button",continueButton:"venmo-popup-continue-button",message:"venmo-message",instructions:"venmo-instructions",venmoLogo:"venmo-full-logo"};o.suppressUnhandledPromiseMessage=!0;function T(E){var g=E.frameServiceInstance,C=E.venmoUrl,v=E.checkForStatusChange,y=E.cancelTokenization,l=new o;return document.getElementById(f.continueButton).addEventListener("click",function(){g.focus()}),document.getElementById(f.cancelButton).addEventListener("click",function(){g.close(),y(),b()}),g.open({},function(R){var D=1;R?l.reject(R):v(D).then(function(U){l.resolve(U)}).catch(function(U){l.reject(U)}),g.close(),b()}),g.redirect(C),l}function O(){var E=Math.round((window.outerHeight-p)/2)+window.screenTop,g=Math.round((window.outerWidth-h)/2)+window.screenLeft;return{top:E,left:g}}function b(){document.getElementById("venmo-desktop-web-backdrop").classList.add("hidden")}function P(){var E=["#"+f.backdropHidden+" {","display: none;","}","#"+f.backdrop+" {","cursor: pointer;","position: fixed;","top: 0;","left: 0;","bottom: 0;","width: 100%;","background: rgba(0, 0, 0, 0.4);","}"],g=["#"+f.backdropContainer+" {","display: flex;","align-content: center;","justify-content: center;","align-items: center;","width: 100%;","height: 100%;","flex-direction: column;","}"],C=["#"+f.cancelButton+" {","height: 24px;","width: 380px;","font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;","font-style: normal;","font-weight: 700;","font-size: 18px;","line-height: 24px;","text-align: center;","background-color: transparent;","border: none;","color: #FFFFFF;","margin-top: 28px;","}"],v=["#"+f.continueButton+" {","width: 400px;","height: 50px;","background: #0074DE;","border-radius: 24px;","border: none;","font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;","font-style: normal;","font-weight: 700;","font-size: 18px;","color: #FFFFFF;","margin-top: 44px;","}"],y=["#"+f.message+" {","font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;","font-style: normal;","font-weight: 500;","font-size: 24px;","line-height: 32px;","text-align: center;","color: #FFFFFF;","margin-top: 32px;","}"],l=["#"+f.instructions+" {","font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;","font-style: normal;","font-weight: 400;","font-size: 16px;","line-height: 20px;","text-align: center;","color: #FFFFFF;","margin-top: 16px;","width: 400px;","}"],R=E.concat(g,C,v,y,l);return R.join(`
`)}function d(){var E=document.getElementById(f.backdrop),g,C,v,y,l,R,D,U;if(E){E.classList.remove("hidden");return}g=document.createElement("style"),C=document.createElement("div"),v=document.createElement("div"),y=document.createElement("div"),l=document.createElement("div"),R=document.createElement("div"),D=document.createElement("button"),U=document.createElement("button"),g.id="venmo-desktop-web__injected-styles",g.innerHTML=P(),C.id=f.backdrop,v.id=f.backdropContainer,y.id=f.venmoLogo,y.innerHTML=i,l.id=f.message,l.innerText="What would you like to do?",R.id=f.instructions,R.innerText=m,D.id=f.continueButton,D.innerText="Continue payment",U.id=f.cancelButton,U.innerText="Cancel payment",document.head.appendChild(g),v.appendChild(y),v.appendChild(l),v.appendChild(R),v.appendChild(D),v.appendChild(U),C.appendChild(v),document.body.appendChild(C)}function u(E){return d(),T(E)}function I(E){var g=new o,C="venmoDesktopWebLogin",v=E.assetsUrl,y=E.debug||!1,l=O(),R=v+"/web/"+c+"/html";return n.create({name:C,dispatchFrameUrl:R+"/dispatch-frame"+s(y)+".html",openFrameUrl:R+"/venmo-landing-frame"+s(y)+".html",top:l.top,left:l.left,height:p,width:h},function(D){g.resolve(D)}),g}_.exports={runWebLogin:u,openPopup:T,setupDesktopWebLogin:I,POPUP_WIDTH:h,POPUP_HEIGHT:p}},{"../../lib/frame-service/external":139,"../../lib/use-min":160,"@braintree/extended-promise":34}],224:[function(e,_,A){"use strict";var n=e("../lib/analytics"),s=e("./shared/supports-venmo"),o=e("./shared/browser-detection"),c=e("./shared/constants"),i=e("./shared/errors"),m=e("../lib/querystring"),h=e("../lib/is-verified-domain"),p=e("../lib/methods"),f=e("../lib/convert-methods-to-error"),T=e("@braintree/wrap-promise"),O=e("../lib/braintree-error"),b=e("../lib/in-iframe"),P=e("@braintree/extended-promise"),d=e("./shared/get-venmo-url"),u=e("./shared/web-login-backdrop"),I=e("../lib/snake-case-to-camel-case"),E=e("./external/"),g=e("./external/queries"),C="3.97.0",v=250,y=3e5;P.suppressUnhandledPromiseMessage=!0;function l(F){var B=this;this._allowDesktopWebLogin=F.allowDesktopWebLogin||!1,this._mobileWebFallBack=F.mobileWebFallBack||!1,this._createPromise=F.createPromise,this._allowNewBrowserTab=F.allowNewBrowserTab!==!1,this._allowWebviews=F.allowWebviews!==!1,this._allowDesktop=F.allowDesktop===!0,this._useRedirectForIOS=F.useRedirectForIOS===!0,this._profileId=F.profileId,this._displayName=F.displayName,this._deepLinkReturnUrl=F.deepLinkReturnUrl,this._ignoreHistoryChanges=F.ignoreHistoryChanges,this._paymentMethodUsage=(F.paymentMethodUsage||"").toUpperCase(),this._shouldUseLegacyFlow=!this._paymentMethodUsage,this._requireManualReturn=F.requireManualReturn===!0,this._useDesktopQRFlow=this._allowDesktop&&this._isDesktop()&&!this._allowDesktopWebLogin,this._useAllowDesktopWebLogin=this._allowDesktopWebLogin&&this._isDesktop(),this._cannotHaveReturnUrls=b()||this._requireManualReturn,this._allowAndroidRecreation=F.allowAndroidRecreation!==!1,this._maxRetryCount=3,this._collectCustomerBillingAddress=F.collectCustomerBillingAddress||!1,this._collectCustomerShippingAddress=F.collectCustomerShippingAddress||!1,this._lineItems=F.lineItems,this._subTotalAmount=F.subTotalAmount,this._discountAmount=F.discountAmount,this._taxAmount=F.taxAmount,this._shippingAmount=F.shippingAmount,this._totalAmount=F.totalAmount,this._shouldCreateVenmoPaymentContext=this._cannotHaveReturnUrls||!this._shouldUseLegacyFlow,n.sendEvent(this._createPromise,"venmo.desktop-flow.configured."+String(!!this._allowDesktop)),this.hasTokenizationResult()?n.sendEvent(this._createPromise,"venmo.appswitch.return-in-new-tab"):this._useDesktopQRFlow?this._createPromise=this._createPromise.then(function(z){var S=z.getConfiguration().gatewayConfiguration;return E({url:S.assetsUrl+"/web/"+C+"/html/venmo-desktop-frame.html",environment:S.environment==="production"?"PRODUCTION":"SANDBOX",profileId:B._profileId||S.payWithVenmo.merchantId,paymentMethodUsage:B._paymentMethodUsage,displayName:B._displayName,Promise,apiRequest:function(L,J){return z.request({api:"graphQLApi",data:{query:L,variables:J}}).then(function(V){return V.data})},sendEvent:function(L){n.sendEvent(B._createPromise,L)},verifyDomain:h}).then(function(L){return B._venmoDesktopInstance=L,n.sendEvent(B._createPromise,"venmo.desktop-flow.presented"),z}).catch(function(){return n.sendEvent(B._createPromise,"venmo.desktop-flow.setup-failed"),B._useDesktopQRFlow=!1,z})}):this._shouldCreateVenmoPaymentContext&&(this._mobilePollingInterval=v,this._mobilePollingExpiresThreshold=y,this._createPromise=this._createPromise.then(function(z){var S,L,J=B._cannotHaveReturnUrls?"manual-return":"mobile-payment-context",V=z.getConfiguration();return L=u.setupDesktopWebLogin({assetsUrl:V.gatewayConfiguration.assetsUrl,debug:V.isDebug}).then(function(ie){B._frameServiceInstance=ie}).catch(function(ie){return ie}),B._mobilePollingContextEnvironment=V.gatewayConfiguration.environment.toUpperCase(),S=B._createVenmoPaymentContext(z).then(function(){return n.sendEvent(B._createPromise,"venmo."+J+".presented"),z}).catch(function(ie){return n.sendEvent(B._createPromise,"venmo."+J+".setup-failed"),Promise.reject(new O({type:i.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.type,code:i.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.code,message:R(ie)?ie.details.originalError[0].message:i.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.message,details:{originalError:ie}}))}),P.all([L,S]).then(function(ie){var k=ie[1];return Promise.resolve(k)}).catch(function(ie){return Promise.reject(ie)})}))}function R(F){return F.details&&F.details.originalError&&F.details.originalError[0]&&F.details.originalError[0].extensions&&F.details.originalError[0].extensions.errorClass==="VALIDATION"&&F.details.originalError[0].extensions.errorType==="user_error"}l.prototype._createVenmoPaymentContext=function(F,B){var z=this,S,L,J=F.getConfiguration(),V=J.gatewayConfiguration.payWithVenmo,ie=!1;if(!this._shouldCreateVenmoPaymentContext)return Promise.resolve();if(this._shouldUseLegacyFlow)S=F.request({api:"graphQLApi",data:{query:g.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY,variables:{input:{environment:this._mobilePollingContextEnvironment,intent:"PAY_FROM_APP"}}}}).then(function(k){return k.data.createVenmoQRCodePaymentContext.venmoQRCodePaymentContext});else{if((this._collectCustomerBillingAddress||this._collectCustomerShippingAddress)&&!V.enrichedCustomerDataEnabled)return Promise.reject(new O(i.VENMO_ECD_DISABLED));this._lineItems&&this._lineItems.forEach(function(k){k.unitTaxAmount=k.unitTaxAmount||"0"}),L={subTotalAmount:this._subTotalAmount,discountAmount:this._discountAmount,taxAmount:this._taxAmount,shippingAmount:this._shippingAmount,totalAmount:this._totalAmount,lineItems:this._lineItems},ie=Object.keys(L).some(function(k){return L[k]!==void 0}),S=F.request({api:"graphQLApi",data:{query:g.CREATE_PAYMENT_CONTEXT_QUERY,variables:{input:{paymentMethodUsage:this._paymentMethodUsage,intent:"CONTINUE",customerClient:"MOBILE_WEB",displayName:this._displayName,paysheetDetails:{collectCustomerBillingAddress:this._collectCustomerBillingAddress,collectCustomerShippingAddress:this._collectCustomerShippingAddress,transactionDetails:ie?L:void 0}}}}}).then(function(k){return k.data.createVenmoPaymentContext.venmoPaymentContext})}return S.then(function(k){var K=new Date(k.expiresAt)-new Date(k.createdAt),Q=K*.6666;clearTimeout(z._refreshPaymentContextTimeout),z._refreshPaymentContextTimeout=setTimeout(function(){z._tokenizationInProgress||z._createVenmoPaymentContext(F,!0)},Q),!(B&&z._tokenizationInProgress)&&(z._venmoPaymentContextStatus=k.status,z._venmoPaymentContextId=k.id)})},l.prototype.appSwitch=function(F){this._deepLinkReturnUrl?X()?(n.sendEvent(this._createPromise,"venmo.appswitch.start.ios-webview"),window.location.href=F):window.popupBridge&&typeof window.popupBridge.open=="function"?(n.sendEvent(this._createPromise,"venmo.appswitch.start.popup-bridge"),window.popupBridge.open(F)):(n.sendEvent(this._createPromise,"venmo.appswitch.start.webview"),window.open(F)):(n.sendEvent(this._createPromise,"venmo.appswitch.start.browser"),o.doesNotSupportWindowOpenInIos()||this._shouldUseRedirectStrategy()?window.location.href=F:window.open(F))},l.prototype.getUrl=function(){return this._createPromise.then(function(F){var B=F.getConfiguration(),z={},S=this._deepLinkReturnUrl||window.location.href.replace(window.location.hash,""),L=B.gatewayConfiguration.payWithVenmo,J=B.analyticsMetadata,V=L.accessToken,ie={_meta:{version:J.sdkVersion,integration:J.integration,platform:J.platform,sessionId:J.sessionId}};return this._isDebug=B.isDebug,this._assetsUrl=B.gatewayConfiguration.assetsUrl,S=S.replace(/#*$/,""),this._venmoPaymentContextId&&(this._shouldUseLegacyFlow?V+="|pcid:"+this._venmoPaymentContextId:z.resource_id=this._venmoPaymentContextId),this._shouldIncludeReturnUrls()||this._useAllowDesktopWebLogin?(this._useAllowDesktopWebLogin&&(S=this._assetsUrl+"/web/"+C+"/html/redirect-frame.html"),z["x-success"]=S+"#venmoSuccess=1",z["x-cancel"]=S+"#venmoCancel=1",z["x-error"]=S+"#venmoError=1"):(z["x-success"]="NOOP",z["x-cancel"]="NOOP",z["x-error"]="NOOP"),this._allowAndroidRecreation?z.allowAndroidRecreation=1:z.allowAndroidRecreation=0,z.ua=window.navigator.userAgent,z.braintree_merchant_id=this._profileId||L.merchantId,z.braintree_access_token=V,z.braintree_environment=L.environment,z.braintree_sdk_data=btoa(JSON.stringify(ie)),d({useAllowDesktopWebLogin:this._useAllowDesktopWebLogin,mobileWebFallBack:this._mobileWebFallBack})+"?"+m.stringify(z)}.bind(this))},l.prototype.isBrowserSupported=function(){return s.isBrowserSupported({allowNewBrowserTab:this._allowNewBrowserTab,allowWebviews:this._allowWebviews,allowDesktop:this._allowDesktop,allowDesktopWebLogin:this._allowDesktopWebLogin})},l.prototype.hasTokenizationResult=function(){return this._hasTokenizationResult()},l.prototype._hasTokenizationResult=function(F){var B=D(F);return typeof(B.venmoSuccess||B.venmoError||B.venmoCancel)<"u"},l.prototype._shouldIncludeReturnUrls=function(){return this._deepLinkReturnUrl?!0:!this._cannotHaveReturnUrls},l.prototype._isDesktop=function(){return!(o.isIos()||o.isAndroid())},l.prototype.tokenize=function(F){var B=this,z;return F=F||{},this._tokenizationInProgress===!0?Promise.reject(new O(i.VENMO_TOKENIZATION_REQUEST_ACTIVE)):(this._tokenizationInProgress=!0,this._useDesktopQRFlow?z=this._tokenizeForDesktopQRFlow(F):this._useAllowDesktopWebLogin?z=this._tokenizeWebLoginWithRedirect():this._cannotHaveReturnUrls?z=this._tokenizeForMobileWithManualReturn():z=this._tokenizeForMobileWithHashChangeListeners(F),z.then(function(S){return B._createPromise.then(function(L){return B._createVenmoPaymentContext(L)}).then(function(){return B._tokenizationInProgress=!1,H(S)})}).catch(function(S){return B._createPromise.then(function(L){return B._createVenmoPaymentContext(L)}).then(function(){return B._tokenizationInProgress=!1,Promise.reject(S)})}))},l.prototype.cancelTokenization=function(){return this._tokenizationInProgress?(this._removeVisibilityEventListener(),this._tokenizePromise&&this._tokenizePromise.reject(new O(i.VENMO_TOKENIZATION_CANCELED_BY_MERCHANT)),Promise.all([this._cancelMobilePaymentContext(),this._cancelVenmoDesktopContext()])):Promise.reject(new O(i.VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE))},l.prototype._tokenizeWebLoginWithRedirect=function(){var F=this;return n.sendEvent(F._createPromise,"venmo.tokenize.web-login.start"),this._tokenizePromise=new P,this.getUrl().then(function(B){return u.runWebLogin({checkForStatusChange:F._checkPaymentContextStatusAndProcessResult.bind(F),cancelTokenization:F.cancelTokenization.bind(F),frameServiceInstance:F._frameServiceInstance,venmoUrl:B,debug:F._isDebug}).then(function(z){n.sendEvent(F._createPromise,"venmo.tokenize.web-login.success"),F._tokenizePromise.resolve({paymentMethodNonce:z.paymentMethodId,username:z.userName,payerInfo:z.payerInfo,id:F._venmoPaymentContextId})}).catch(function(z){n.sendEvent(F._createPromise,"venmo.tokenize.web-login.failure"),F._tokenizePromise.reject(z)}),F._tokenizePromise})},l.prototype._queryPaymentContextStatus=function(F){var B=this;return this._createPromise.then(function(z){var S=B._shouldUseLegacyFlow?g.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY:g.VENMO_PAYMENT_CONTEXT_STATUS_QUERY;return z.request({api:"graphQLApi",data:{query:S,variables:{id:F}}})}).then(function(z){return z.data.node})},l.prototype._checkPaymentContextStatusAndProcessResult=function(F){var B=this;return B._queryPaymentContextStatus(B._venmoPaymentContextId).catch(function(z){return Promise.reject(new O({type:i.VENMO_NETWORK_ERROR.type,code:i.VENMO_NETWORK_ERROR.code,message:i.VENMO_NETWORK_ERROR.message,details:z}))}).then(function(z){var S=z.status;if(S!==B._venmoPaymentContextStatus)switch(B._venmoPaymentContextStatus=S,n.sendEvent(B._createPromise,"venmo.tokenize.web-login.status-change"),S){case"APPROVED":return Promise.resolve(z);case"CANCELED":return Promise.reject(new O(i.VENMO_CUSTOMER_CANCELED));case"FAILED":return Promise.reject(new O(i.VENMO_TOKENIZATION_FAILED));default:}return new Promise(function(L,J){return F<B._maxRetryCount?(F++,B._checkPaymentContextStatusAndProcessResult(F).then(L).catch(J)):J(new O(i.VENMO_TOKENIZATION_FAILED))})})},l.prototype._pollForStatusChange=function(){var F=this;return Date.now()>F._mobilePollingContextExpiresIn?Promise.reject(new O(i.VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT)):this._queryPaymentContextStatus(this._venmoPaymentContextId).catch(function(B){return Promise.reject(new O({type:i.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.type,code:i.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.code,message:i.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.message,details:{originalError:B}}))}).then(function(B){var z=B.status;if(z!==F._venmoPaymentContextStatus)switch(F._venmoPaymentContextStatus=z,n.sendEvent(F._createPromise,"venmo.tokenize.manual-return.status-change."+z.toLowerCase()),z){case"EXPIRED":case"FAILED":case"CANCELED":return Promise.reject(new O(i["VENMO_MOBILE_POLLING_TOKENIZATION_"+z]));case"APPROVED":return Promise.resolve(B);case"CREATED":case"SCANNED":default:}return new Promise(function(S,L){setTimeout(function(){F._pollForStatusChange().then(S).catch(L)},F._mobilePollingInterval)})})},l.prototype._tokenizeForMobileWithManualReturn=function(){var F=this;return n.sendEvent(this._createPromise,"venmo.tokenize.manual-return.start"),this._mobilePollingContextExpiresIn=Date.now()+this._mobilePollingExpiresThreshold,this._tokenizePromise=new P,this._pollForStatusChange().then(function(B){n.sendEvent(F._createPromise,"venmo.tokenize.manual-return.success"),F._tokenizePromise.resolve({paymentMethodNonce:B.paymentMethodId,username:B.userName,payerInfo:B.payerInfo,id:F._venmoPaymentContextId})}).catch(function(B){n.sendEvent(F._createPromise,"venmo.tokenize.manual-return.failure"),F._tokenizePromise.reject(B)}),this.getUrl().then(function(B){return F.appSwitch(B),F._tokenizePromise})},l.prototype._shouldUseRedirectStrategy=function(){return o.isIos()?this._mobileWebFallBack===!0?!0:this._useRedirectForIOS:!1},l.prototype._tokenizeForMobileWithHashChangeListeners=function(F){var B=this,z,S;if(this.hasTokenizationResult())return this.processHashChangeFlowResults();n.sendEvent(this._createPromise,"venmo.tokenize.mobile.start"),this._tokenizePromise=new P,this._previousHash=window.location.hash;function L(J){var V;B.processHashChangeFlowResults(J).catch(function(ie){V=ie}).then(function(ie){!B._ignoreHistoryChanges&&window.location.hash!==B._previousHash&&(window.location.hash=B._previousHash),B._removeVisibilityEventListener(),V?B._tokenizePromise.reject(V):B._tokenizePromise.resolve(ie),delete B._tokenizePromise})}return this._onHashChangeListener=function(J){var V=J.newURL.split("#")[1];B._hasTokenizationResult(V)&&(z=!0,clearTimeout(S),L(V))},window.addEventListener("hashchange",this._onHashChangeListener,!1),this._visibilityChangeListener=function(){var J=F.processResultsDelay||c.DEFAULT_PROCESS_RESULTS_DELAY;window.document.hidden||z||(S=setTimeout(L,J))},this.getUrl().then(function(J){return B.appSwitch(J),setTimeout(function(){window.document.addEventListener(re(),B._visibilityChangeListener)},c.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY),B._tokenizePromise})},l.prototype._tokenizeForDesktopQRFlow=function(){var F=this;return n.sendEvent(this._createPromise,"venmo.tokenize.desktop.start"),this._tokenizePromise=new P,this._createPromise.then(function(){return F._venmoDesktopInstance.launchDesktopFlow()}).then(function(B){F._venmoDesktopInstance.hideDesktopFlow(),n.sendEvent(F._createPromise,"venmo.tokenize.desktop.success"),F._tokenizePromise.resolve(B)}).catch(function(B){if(n.sendEvent(F._createPromise,"venmo.tokenize.desktop.failure"),F._venmoDesktopInstance&&F._venmoDesktopInstance.hideDesktopFlow(),B&&B.reason==="CUSTOMER_CANCELED"){F._tokenizePromise.reject(new O(i.VENMO_DESKTOP_CANCELED));return}F._tokenizePromise.reject(new O({type:i.VENMO_DESKTOP_UNKNOWN_ERROR.type,code:i.VENMO_DESKTOP_UNKNOWN_ERROR.code,message:i.VENMO_DESKTOP_UNKNOWN_ERROR.message,details:{originalError:B}}))}),this._tokenizePromise},l.prototype._cancelMobilePaymentContext=function(){var F=this;return this._createPromise.then(function(B){var z;return F._venmoPaymentContextId?(z=F._shouldUseLegacyFlow?g.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY:g.UPDATE_PAYMENT_CONTEXT_QUERY,B.request({api:"graphQLApi",data:{query:z,variables:{input:{id:F._venmoPaymentContextId,status:"CANCELED"}}}})):Promise.resolve()})},l.prototype._cancelVenmoDesktopContext=function(){var F=this;return this._createPromise.then(function(){return F._venmoDesktopInstance&&F._venmoDesktopInstance.updateVenmoDesktopPaymentContext("CANCELED"),Promise.resolve()})},l.prototype.teardown=function(){var F=this;return this._removeVisibilityEventListener(),this._createPromise.then(function(){F._venmoDesktopInstance&&F._venmoDesktopInstance.teardown(),clearTimeout(F._refreshPaymentContextTimeout),F._cancelMobilePaymentContext(),f(this,p(l.prototype))}.bind(this))},l.prototype._removeVisibilityEventListener=function(){window.removeEventListener("hashchange",this._onHashChangeListener),window.document.removeEventListener(re(),this._visibilityChangeListener),delete this._visibilityChangeListener,delete this._onHashChangeListener},l.prototype.processHashChangeFlowResults=function(F){var B=this,z=D(F);return new Promise(function(S,L){B._shouldUseLegacyFlow?z.venmoSuccess?(n.sendEvent(B._createPromise,"venmo.appswitch.handle.success"),S(z)):z.venmoError?(n.sendEvent(B._createPromise,"venmo.appswitch.handle.error"),L(new O({type:i.VENMO_APP_FAILED.type,code:i.VENMO_APP_FAILED.code,message:i.VENMO_APP_FAILED.message,details:{originalError:{message:decodeURIComponent(z.errorMessage),code:z.errorCode}}}))):z.venmoCancel?(n.sendEvent(B._createPromise,"venmo.appswitch.handle.cancel"),L(new O(i.VENMO_APP_CANCELED))):(n.sendEvent(B._createPromise,"venmo.appswitch.cancel-or-unavailable"),L(new O(i.VENMO_CANCELED))):B._pollForStatusChange().then(function(J){return n.sendEvent(B._createPromise,"venmo.appswitch.handle.payment-context-status-query.success"),S({paymentMethodNonce:J.paymentMethodId,username:J.userName,payerInfo:J.payerInfo,id:B._venmoPaymentContextId})}).catch(function(J){J.type===i.VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED.type&&L(J),n.sendEvent(B._createPromise,"venmo.process-results.payment-context-status-query-failed"),S(z)}),B._clearFragmentParameters()})},l.prototype._clearFragmentParameters=function(){this._ignoreHistoryChanges||typeof window.history.replaceState=="function"&&window.location.hash&&history.pushState({},"",window.location.href.slice(0,window.location.href.indexOf("#")))};function D(F){var B=(F||window.location.hash.substring(1)).split("&"),z=B.reduce(function(S,L){var J=L.split("="),V=decodeURIComponent(J[0]).replace(/\W/g,""),ie=I(V),k=decodeURIComponent(J[1]);return S[ie]=k,S},{});return z.resourceId&&(z.id=z.resourceId),z}function U(F){return F=F||"","@"+F.replace("@","")}function H(F){var B={nonce:F.paymentMethodNonce,type:"VenmoAccount",details:{username:U(F.username),paymentContextId:F.id}};return F.payerInfo&&(B.details.payerInfo=F.payerInfo,B.details.payerInfo.userName=U(F.payerInfo.userName)),B}function re(){var F;return typeof window.document.hidden<"u"?F="visibilitychange":typeof window.document.msHidden<"u"?F="msvisibilitychange":typeof window.document.webkitHidden<"u"&&(F="webkitvisibilitychange"),F}function X(){return window.navigator.platform&&/iPhone|iPad|iPod/.test(window.navigator.platform)}_.exports=T.wrapPrototype(l)},{"../lib/analytics":119,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/in-iframe":150,"../lib/is-verified-domain":153,"../lib/methods":155,"../lib/querystring":157,"../lib/snake-case-to-camel-case":159,"./external/":213,"./external/queries":214,"./shared/browser-detection":217,"./shared/constants":218,"./shared/errors":219,"./shared/get-venmo-url":221,"./shared/supports-venmo":222,"./shared/web-login-backdrop":223,"@braintree/extended-promise":34,"@braintree/wrap-promise":43}],225:[function(e,_,A){"use strict";var n=e("../lib/braintree-error");_.exports={VISA_CHECKOUT_NOT_ENABLED:{type:n.types.MERCHANT,code:"VISA_CHECKOUT_NOT_ENABLED",message:"Visa Checkout is not enabled for this merchant."},VISA_CHECKOUT_INIT_OPTIONS_REQUIRED:{type:n.types.MERCHANT,code:"VISA_CHECKOUT_INIT_OPTIONS_REQUIRED",message:"initOptions requires an object."},VISA_CHECKOUT_PAYMENT_REQUIRED:{type:n.types.MERCHANT,code:"VISA_CHECKOUT_PAYMENT_REQUIRED",message:"tokenize requires callid, encKey, and encPaymentData."},VISA_CHECKOUT_TOKENIZATION:{type:n.types.NETWORK,code:"VISA_CHECKOUT_TOKENIZATION",message:"A network error occurred when processing the Visa Checkout payment."}}},{"../lib/braintree-error":124}],226:[function(e,_,A){"use strict";var n=e("../lib/basic-component-verification"),s=e("../lib/braintree-error"),o=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),i=e("./visa-checkout"),m=e("../lib/analytics"),h=e("./errors"),p="3.97.0",f=e("@braintree/wrap-promise");function T(O){var b="Visa Checkout";return n.verify({name:b,client:O.client,authorization:O.authorization}).then(function(){return o.create({authorization:O.authorization,client:O.client,debug:O.debug,assetsUrl:c.create(O.authorization),name:b})}).then(function(P){return O.client=P,O.client.getConfiguration().gatewayConfiguration.visaCheckout?(m.sendEvent(O.client,"visacheckout.initialized"),new i(O)):Promise.reject(new s(h.VISA_CHECKOUT_NOT_ENABLED))})}_.exports={create:f(T),VERSION:p}},{"../lib/analytics":119,"../lib/basic-component-verification":122,"../lib/braintree-error":124,"../lib/create-assets-url":129,"../lib/create-deferred-client":131,"./errors":225,"./visa-checkout":227,"@braintree/wrap-promise":43}],227:[function(e,_,A){"use strict";var n=e("../lib/braintree-error"),s=e("../lib/analytics"),o=e("./errors"),c=e("../lib/json-clone"),i=e("../lib/methods"),m=e("../lib/convert-methods-to-error"),h=e("@braintree/wrap-promise"),p={Visa:"VISA",MasterCard:"MASTERCARD",Discover:"DISCOVER","American Express":"AMEX"};function f(O){this._client=O.client}function T(O){return O.reduce(function(b,P){return p.hasOwnProperty(P)?b.concat(p[P]):b},[])}f.prototype.createInitOptions=function(O){var b,P=this._client.getConfiguration().gatewayConfiguration,d=P.visaCheckout;if(!O)throw new n(o.VISA_CHECKOUT_INIT_OPTIONS_REQUIRED);return b=c(O),b.apikey=b.apikey||d.apikey,b.encryptionKey=d.encryptionKey,b.externalClientId=b.externalClientId||d.externalClientId,b.settings=b.settings||{},b.settings.dataLevel="FULL",b.settings.payment=b.settings.payment||{},b.settings.payment.cardBrands||(b.settings.payment.cardBrands=T(P.visaCheckout.supportedCardTypes)),b},f.prototype.tokenize=function(O){var b=this;return!O.callid||!O.encKey||!O.encPaymentData?Promise.reject(new n(o.VISA_CHECKOUT_PAYMENT_REQUIRED)):this._client.request({method:"post",endpoint:"payment_methods/visa_checkout_cards",data:{_meta:{source:"visa-checkout"},visaCheckoutCard:{callId:O.callid,encryptedPaymentData:O.encPaymentData,encryptedKey:O.encKey}}}).then(function(P){return s.sendEvent(b._client,"visacheckout.tokenize.succeeded"),P.visaCheckoutCards[0]}).catch(function(P){return s.sendEvent(b._client,"visacheckout.tokenize.failed"),Promise.reject(new n({type:o.VISA_CHECKOUT_TOKENIZATION.type,code:o.VISA_CHECKOUT_TOKENIZATION.code,message:o.VISA_CHECKOUT_TOKENIZATION.message,details:{originalError:P}}))})},f.prototype.teardown=function(){return m(this,i(f.prototype)),Promise.resolve()},_.exports=h.wrapPrototype(f)},{"../lib/analytics":119,"../lib/braintree-error":124,"../lib/convert-methods-to-error":127,"../lib/json-clone":154,"../lib/methods":155,"./errors":225,"@braintree/wrap-promise":43}]},{},[117])(117)})},66931:(ve,ne,x)=>{"use strict";x.d(ne,{m:()=>en});function Z(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}const e="NETWORK_ERROR",_="CANCEL",A="IMPLEMENTATION_ERROR",n="API_ERROR",s="ERROR",o="SCRIPT_ERROR",c="SDK_ERROR";class i extends Error{constructor(t,a,N){super(a),Z(this,"cause",void 0),Z(this,"options",void 0),this.name=i.errorTypes[t],this.options=N||{},this.cause=this.options.cause}}Z(i,"errorTypes",{NETWORK_ERROR:e,CANCEL:_,IMPLEMENTATION_ERROR:A,API_ERROR:n,ERROR:s,SCRIPT_ERROR:o,SDK_ERROR:c});function m(r){const t=r.replace("_","-"),a=new RegExp("([a-z]{2})([-])([A-Z]{2})");if(a.test(t))return t;const[N,w]=t.split("-");if(N.length!==2)throw new i("IMPLEMENTATION_ERROR",`Locale '${r}' does not match the expected format`);if(!w)return N.toLowerCase();const M=[N.toLowerCase(),w.toUpperCase()].join("-");if(a.test(M))return M;throw new i("IMPLEMENTATION_ERROR",`Locale '${r}' does not match the expected format`)}function h(r={}){return Object.keys(r).reduce((t,a)=>(t[m(a)]=r[a],t),{})}const p=(r,t)=>r.replace(/%{(\w+)}/g,(a,N)=>t[N]||""),f=(r,t,a={values:{},count:0})=>{const N=`${t}__plural`,w=M=>`${t}__${M}`;return Object.prototype.hasOwnProperty.call(r,w(a.count))?p(r[w(a.count)],a.values):Object.prototype.hasOwnProperty.call(r,N)&&a.count>1?p(r[N],a.values):Object.prototype.hasOwnProperty.call(r,t)?p(r[t],a.values):null},T=(r,t)=>{const a=r.split(/%#(.*?)%#/gm);if(t.length!==Math.floor(a.length/2))throw Error("The number of functions provided does not match the number of elements in the translation string.");return a.map((N,w)=>{const M=Math.floor(w/2);return w%2==0?N:t[M](N)})},O={IDR:1,JPY:1,KRW:1,VND:1,BYR:1,CVE:1,DJF:1,GHC:1,GNF:1,KMF:1,PYG:1,RWF:1,UGX:1,VUV:1,XAF:1,XOF:1,XPF:1,MRO:10,BHD:1e3,IQD:1e3,JOD:1e3,KWD:1e3,OMR:1e3,LYD:1e3,TND:1e3},b={RSD:{minimumFractionDigits:2},AFN:{minimumFractionDigits:2},ALL:{minimumFractionDigits:2},IRR:{minimumFractionDigits:2},LAK:{minimumFractionDigits:2},LBP:{minimumFractionDigits:2},MMK:{minimumFractionDigits:2},SOS:{minimumFractionDigits:2},SYP:{minimumFractionDigits:2},YER:{minimumFractionDigits:2},IQD:{minimumFractionDigits:3}},P=r=>O[r]||100,d=(r,t)=>{const a=P(t);return parseInt(String(r),10)/a},u=(r,t,a,N={})=>{const w=r.toString(),M=d(w,a),j=t.replace("_","-"),ee={style:"currency",currency:a,currencyDisplay:"symbol",...b[a]?{...N,...b[a]}:N};try{return M.toLocaleString(j,ee)}catch{return w}};function I(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class E{get(t,a){const N=f(this.translations,t,a);return N!==null?N:t}amount(t,a,N){return u(t,this.locale,a,N)}date(t,a={}){if(t===void 0)return"";const N={year:"numeric",month:"2-digit",day:"2-digit",...a};return new Date(t).toLocaleDateString(this.locale,N)}dateTime(t){return t===void 0?"":this.timeAndDateFormatter.format(new Date(t))}constructor(t){I(this,"locale",void 0),I(this,"languageCode",void 0),I(this,"translations",void 0),I(this,"customTranslations",void 0),I(this,"timeFormatOptions",{hour:"numeric",minute:"numeric"}),I(this,"timeAndDateFormatOptions",{year:"numeric",month:"2-digit",day:"2-digit",...this.timeFormatOptions}),I(this,"timeAndDateFormatter",void 0);const{locale:a,translations:N,customTranslations:w}=t;if(!a)throw new i("IMPLEMENTATION_ERROR",'Language: "locale" property is not defined');this.locale=a,this.languageCode=this.locale.split("-")[0],this.customTranslations=w||{},this.timeAndDateFormatter=Intl.DateTimeFormat(this.locale,this.timeAndDateFormatOptions),this.translations={...N,...!!this.customTranslations[this.locale]&&this.customTranslations[this.locale]}}}var g,C,v,y,l,R,D,U,H,re,X,F={},B=[],z=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,S=Array.isArray;function L(r,t){for(var a in t)r[a]=t[a];return r}function J(r){var t=r.parentNode;t&&t.removeChild(r)}function V(r,t,a){var N,w,M,j={};for(M in t)M=="key"?N=t[M]:M=="ref"?w=t[M]:j[M]=t[M];if(arguments.length>2&&(j.children=arguments.length>3?g.call(arguments,2):a),typeof r=="function"&&r.defaultProps!=null)for(M in r.defaultProps)j[M]===void 0&&(j[M]=r.defaultProps[M]);return ie(r,j,N,w,null)}function ie(r,t,a,N,w){var M={type:r,props:t,key:a,ref:N,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:w??++v,__i:-1,__u:0};return w==null&&C.vnode!=null&&C.vnode(M),M}function k(r){return r.children}function K(r,t){this.props=r,this.context=t}function Q(r,t){if(t==null)return r.__?Q(r.__,r.__i+1):null;for(var a;t<r.__k.length;t++)if((a=r.__k[t])!=null&&a.__e!=null)return a.__e;return typeof r.type=="function"?Q(r):null}function q(r){var t,a;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((a=r.__k[t])!=null&&a.__e!=null){r.__e=r.__c.base=a.__e;break}return q(r)}}function de(r){(!r.__d&&(r.__d=!0)&&y.push(r)&&!me.__r++||l!==C.debounceRendering)&&((l=C.debounceRendering)||R)(me)}function me(){var r,t,a,N,w,M,j,ee;for(y.sort(D);r=y.shift();)r.__d&&(t=y.length,N=void 0,M=(w=(a=r).__v).__e,j=[],ee=[],a.__P&&((N=L({},w)).__v=w.__v+1,C.vnode&&C.vnode(N),se(a.__P,N,w,a.__n,a.__P.namespaceURI,32&w.__u?[M]:null,j,M??Q(w),!!(32&w.__u),ee),N.__v=w.__v,N.__.__k[N.__i]=N,Ee(j,N,ee),N.__e!=M&&q(N)),y.length>t&&y.sort(D));me.__r=0}function fe(r,t,a,N,w,M,j,ee,ae,ce,_e){var W,Ae,he,Me,He,Be=N&&N.__k||B,be=t.length;for(a.__d=ae,Oe(a,t,Be),ae=a.__d,W=0;W<be;W++)(he=a.__k[W])!=null&&typeof he!="boolean"&&typeof he!="function"&&(Ae=he.__i===-1?F:Be[he.__i]||F,he.__i=W,se(r,he,Ae,w,M,j,ee,ae,ce,_e),Me=he.__e,he.ref&&Ae.ref!=he.ref&&(Ae.ref&&Ue(Ae.ref,null,he),_e.push(he.ref,he.__c||Me,he)),He==null&&Me!=null&&(He=Me),65536&he.__u||Ae.__k===he.__k?(ae&&typeof he.type=="string"&&!r.contains(ae)&&(ae=Q(Ae)),ae=Se(he,ae,r)):typeof he.type=="function"&&he.__d!==void 0?ae=he.__d:Me&&(ae=Me.nextSibling),he.__d=void 0,he.__u&=-196609);a.__d=ae,a.__e=He}function Oe(r,t,a){var N,w,M,j,ee,ae=t.length,ce=a.length,_e=ce,W=0;for(r.__k=[],N=0;N<ae;N++)j=N+W,(w=r.__k[N]=(w=t[N])==null||typeof w=="boolean"||typeof w=="function"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"||w.constructor==String?ie(null,w,null,null,null):S(w)?ie(k,{children:w},null,null,null):w.constructor===void 0&&w.__b>0?ie(w.type,w.props,w.key,w.ref?w.ref:null,w.__v):w)!=null?(w.__=r,w.__b=r.__b+1,ee=Te(w,a,j,_e),w.__i=ee,M=null,ee!==-1&&(_e--,(M=a[ee])&&(M.__u|=131072)),M==null||M.__v===null?(ee==-1&&W--,typeof w.type!="function"&&(w.__u|=65536)):ee!==j&&(ee==j-1?W=ee-j:ee==j+1?W++:ee>j?_e>ae-j?W+=ee-j:W--:ee<j&&W++,ee!==N+W&&(w.__u|=65536))):(M=a[j])&&M.key==null&&M.__e&&!(131072&M.__u)&&(M.__e==r.__d&&(r.__d=Q(M)),$(M,M,!1),a[j]=null,_e--);if(_e)for(N=0;N<ce;N++)(M=a[N])!=null&&!(131072&M.__u)&&(M.__e==r.__d&&(r.__d=Q(M)),$(M,M))}function Se(r,t,a){var N,w;if(typeof r.type=="function"){for(N=r.__k,w=0;N&&w<N.length;w++)N[w]&&(N[w].__=r,t=Se(N[w],t,a));return t}r.__e!=t&&(a.insertBefore(r.__e,t||null),t=r.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function ge(r,t){return t=t||[],r==null||typeof r=="boolean"||(S(r)?r.some(function(a){ge(a,t)}):t.push(r)),t}function Te(r,t,a,N){var w=r.key,M=r.type,j=a-1,ee=a+1,ae=t[a];if(ae===null||ae&&w==ae.key&&M===ae.type&&!(131072&ae.__u))return a;if(N>(ae==null||131072&ae.__u?0:1))for(;j>=0||ee<t.length;){if(j>=0){if((ae=t[j])&&!(131072&ae.__u)&&w==ae.key&&M===ae.type)return j;j--}if(ee<t.length){if((ae=t[ee])&&!(131072&ae.__u)&&w==ae.key&&M===ae.type)return ee;ee++}}return-1}function pe(r,t,a){t[0]==="-"?r.setProperty(t,a??""):r[t]=a==null?"":typeof a!="number"||z.test(t)?a:a+"px"}function Y(r,t,a,N,w){var M;e:if(t==="style")if(typeof a=="string")r.style.cssText=a;else{if(typeof N=="string"&&(r.style.cssText=N=""),N)for(t in N)a&&t in a||pe(r.style,t,"");if(a)for(t in a)N&&a[t]===N[t]||pe(r.style,t,a[t])}else if(t[0]==="o"&&t[1]==="n")M=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in r||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),r.l||(r.l={}),r.l[t+M]=a,a?N?a.u=N.u:(a.u=U,r.addEventListener(t,M?re:H,M)):r.removeEventListener(t,M?re:H,M);else{if(w=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in r)try{r[t]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&t[4]!=="-"?r.removeAttribute(t):r.setAttribute(t,t=="popover"&&a==1?"":a))}}function G(r){return function(t){if(this.l){var a=this.l[t.type+r];if(t.t==null)t.t=U++;else if(t.t<a.u)return;return a(C.event?C.event(t):t)}}}function se(r,t,a,N,w,M,j,ee,ae,ce){var _e,W,Ae,he,Me,He,Be,be,we,Ht,ct,lr,Yt,ri,ur,tn,nt=t.type;if(t.constructor!==void 0)return null;128&a.__u&&(ae=!!(32&a.__u),M=[ee=t.__e=a.__e]),(_e=C.__b)&&_e(t);e:if(typeof nt=="function")try{if(be=t.props,we="prototype"in nt&&nt.prototype.render,Ht=(_e=nt.contextType)&&N[_e.__c],ct=_e?Ht?Ht.props.value:_e.__:N,a.__c?Be=(W=t.__c=a.__c).__=W.__E:(we?t.__c=W=new nt(be,ct):(t.__c=W=new K(be,ct),W.constructor=nt,W.render=te),Ht&&Ht.sub(W),W.props=be,W.state||(W.state={}),W.context=ct,W.__n=N,Ae=W.__d=!0,W.__h=[],W._sb=[]),we&&W.__s==null&&(W.__s=W.state),we&&nt.getDerivedStateFromProps!=null&&(W.__s==W.state&&(W.__s=L({},W.__s)),L(W.__s,nt.getDerivedStateFromProps(be,W.__s))),he=W.props,Me=W.state,W.__v=t,Ae)we&&nt.getDerivedStateFromProps==null&&W.componentWillMount!=null&&W.componentWillMount(),we&&W.componentDidMount!=null&&W.__h.push(W.componentDidMount);else{if(we&&nt.getDerivedStateFromProps==null&&be!==he&&W.componentWillReceiveProps!=null&&W.componentWillReceiveProps(be,ct),!W.__e&&(W.shouldComponentUpdate!=null&&W.shouldComponentUpdate(be,W.__s,ct)===!1||t.__v===a.__v)){for(t.__v!==a.__v&&(W.props=be,W.state=W.__s,W.__d=!1),t.__e=a.__e,t.__k=a.__k,t.__k.forEach(function(dr){dr&&(dr.__=t)}),lr=0;lr<W._sb.length;lr++)W.__h.push(W._sb[lr]);W._sb=[],W.__h.length&&j.push(W);break e}W.componentWillUpdate!=null&&W.componentWillUpdate(be,W.__s,ct),we&&W.componentDidUpdate!=null&&W.__h.push(function(){W.componentDidUpdate(he,Me,He)})}if(W.context=ct,W.props=be,W.__P=r,W.__e=!1,Yt=C.__r,ri=0,we){for(W.state=W.__s,W.__d=!1,Yt&&Yt(t),_e=W.render(W.props,W.state,W.context),ur=0;ur<W._sb.length;ur++)W.__h.push(W._sb[ur]);W._sb=[]}else do W.__d=!1,Yt&&Yt(t),_e=W.render(W.props,W.state,W.context),W.state=W.__s;while(W.__d&&++ri<25);W.state=W.__s,W.getChildContext!=null&&(N=L(L({},N),W.getChildContext())),we&&!Ae&&W.getSnapshotBeforeUpdate!=null&&(He=W.getSnapshotBeforeUpdate(he,Me)),fe(r,S(tn=_e!=null&&_e.type===k&&_e.key==null?_e.props.children:_e)?tn:[tn],t,a,N,w,M,j,ee,ae,ce),W.base=t.__e,t.__u&=-161,W.__h.length&&j.push(W),Be&&(W.__E=W.__=null)}catch(dr){t.__v=null,ae||M!=null?(t.__e=ee,t.__u|=ae?160:32,M[M.indexOf(ee)]=null):(t.__e=a.__e,t.__k=a.__k),C.__e(dr,t,a)}else M==null&&t.__v===a.__v?(t.__k=a.__k,t.__e=a.__e):t.__e=Re(a.__e,t,a,N,w,M,j,ae,ce);(_e=C.diffed)&&_e(t)}function Ee(r,t,a){t.__d=void 0;for(var N=0;N<a.length;N++)Ue(a[N],a[++N],a[++N]);C.__c&&C.__c(t,r),r.some(function(w){try{r=w.__h,w.__h=[],r.some(function(M){M.call(w)})}catch(M){C.__e(M,w.__v)}})}function Re(r,t,a,N,w,M,j,ee,ae){var ce,_e,W,Ae,he,Me,He,Be=a.props,be=t.props,we=t.type;if(we==="svg"?w="http://www.w3.org/2000/svg":we==="math"?w="http://www.w3.org/1998/Math/MathML":w||(w="http://www.w3.org/1999/xhtml"),M!=null){for(ce=0;ce<M.length;ce++)if((he=M[ce])&&"setAttribute"in he==!!we&&(we?he.localName===we:he.nodeType===3)){r=he,M[ce]=null;break}}if(r==null){if(we===null)return document.createTextNode(be);r=document.createElementNS(w,we,be.is&&be),M=null,ee=!1}if(we===null)Be===be||ee&&r.data===be||(r.data=be);else{if(M=M&&g.call(r.childNodes),Be=a.props||F,!ee&&M!=null)for(Be={},ce=0;ce<r.attributes.length;ce++)Be[(he=r.attributes[ce]).name]=he.value;for(ce in Be)if(he=Be[ce],ce!="children"){if(ce=="dangerouslySetInnerHTML")W=he;else if(ce!=="key"&&!(ce in be)){if(ce=="value"&&"defaultValue"in be||ce=="checked"&&"defaultChecked"in be)continue;Y(r,ce,null,he,w)}}for(ce in be)he=be[ce],ce=="children"?Ae=he:ce=="dangerouslySetInnerHTML"?_e=he:ce=="value"?Me=he:ce=="checked"?He=he:ce==="key"||ee&&typeof he!="function"||Be[ce]===he||Y(r,ce,he,Be[ce],w);if(_e)ee||W&&(_e.__html===W.__html||_e.__html===r.innerHTML)||(r.innerHTML=_e.__html),t.__k=[];else if(W&&(r.innerHTML=""),fe(r,S(Ae)?Ae:[Ae],t,a,N,we==="foreignObject"?"http://www.w3.org/1999/xhtml":w,M,j,M?M[0]:a.__k&&Q(a,0),ee,ae),M!=null)for(ce=M.length;ce--;)M[ce]!=null&&J(M[ce]);ee||(ce="value",Me!==void 0&&(Me!==r[ce]||we==="progress"&&!Me||we==="option"&&Me!==Be[ce])&&Y(r,ce,Me,Be[ce],w),ce="checked",He!==void 0&&He!==r[ce]&&Y(r,ce,He,Be[ce],w))}return r}function Ue(r,t,a){try{typeof r=="function"?r(t):r.current=t}catch(N){C.__e(N,a)}}function $(r,t,a){var N,w;if(C.unmount&&C.unmount(r),(N=r.ref)&&(N.current&&N.current!==r.__e||Ue(N,null,t)),(N=r.__c)!=null){if(N.componentWillUnmount)try{N.componentWillUnmount()}catch(M){C.__e(M,t)}N.base=N.__P=null}if(N=r.__k)for(w=0;w<N.length;w++)N[w]&&$(N[w],t,a||typeof r.type!="function");a||r.__e==null||J(r.__e),r.__c=r.__=r.__e=r.__d=void 0}function te(r,t,a){return this.constructor(r,a)}function le(r,t,a){var N,w,M;C.__&&C.__(r,t),N=t.__k,w=[],M=[],se(t,r=t.__k=V(k,null,[r]),N||F,F,t.namespaceURI,N?null:t.firstChild?g.call(t.childNodes):null,w,N?N.__e:t.firstChild,!1,M),Ee(w,r,M)}function oe(r,t,a){var N,w,M,j,ee=L({},r.props);for(M in r.type&&r.type.defaultProps&&(j=r.type.defaultProps),t)M=="key"?N=t[M]:M=="ref"?w=t[M]:ee[M]=t[M]===void 0&&j!==void 0?j[M]:t[M];return arguments.length>2&&(ee.children=arguments.length>3?g.call(arguments,2):a),ie(r.type,ee,N||r.key,w||r.ref,null)}function ue(r,t){var a={__c:t="__cC"+X++,__:r,Consumer:function(N,w){return N.children(w)},Provider:function(N){var w,M;return this.getChildContext||(w=[],(M={})[t]=this,this.getChildContext=function(){return M},this.componentWillUnmount=function(){w=null},this.shouldComponentUpdate=function(j){this.props.value!==j.value&&w.some(function(ee){ee.__e=!0,de(ee)})},this.sub=function(j){w.push(j);var ee=j.componentWillUnmount;j.componentWillUnmount=function(){w&&w.splice(w.indexOf(j),1),ee&&ee.call(j)}}),N.children}};return a.Provider.__=a.Consumer.contextType=a}g=B.slice,C={__e:function(r,t,a,N){for(var w,M,j;t=t.__;)if((w=t.__c)&&!w.__)try{if((M=w.constructor)&&M.getDerivedStateFromError!=null&&(w.setState(M.getDerivedStateFromError(r)),j=w.__d),w.componentDidCatch!=null&&(w.componentDidCatch(r,N||{}),j=w.__d),j)return w.__E=w}catch(ee){r=ee}throw r}},v=0,K.prototype.setState=function(r,t){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=L({},this.state),typeof r=="function"&&(r=r(L({},a),this.props)),r&&L(a,r),r!=null&&this.__v&&(t&&this._sb.push(t),de(this))},K.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),de(this))},K.prototype.render=k,y=[],R=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,D=function(r,t){return r.__v.__b-t.__v.__b},me.__r=0,U=0,H=G(!1),re=G(!0),X=0;const ye=(r,t)=>t.split(".").reduce((a,N)=>a&&a[N]?a[N]:void 0,r);function Ie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let t=16*Math.random()|0;return(r=="x"?t:3&t|8).toString(16)})}const Ne="encrypted",Ce="encryptedCardNumber",Ve="encryptedExpiryDate",Le="encryptedExpiryMonth",xe="encryptedExpiryYear",Pe="encryptedSecurityCode",We="encryptedPassword",je="encryptedSecurityCode3digits",Qe="encryptedSecurityCode4digits",Ze="giftcard",Et="5.5.3",_t=null,Ye=[Ze],Kt=[Ce,Ve,Le,xe,Pe,We],Xe=null,zt=null,yt="required",ni="optional",ii="hidden",rn=null,it=null,Je=null,pr=null,hr=null,fr=null,mr="data-cse",Er="data-info",_r="data-uid",vt=null,Nt={visa:"VISA",mc:"MasterCard",amex:"American Express",discover:"Discover",cup:"China Union Pay",jcb:"JCB",diners:"Diners Club",maestro:"Maestro",bcmc:"Bancontact card",bijcard:"de Bijenkorf Card"},Ct={[Ce]:"cardNumber",[Ve]:"expiryDate",[Pe]:"securityCode",[Le]:"expiryMonth",[xe]:"expiryYear",[We]:"password",[je]:"securityCodeThreeDigits",[Qe]:"securityCodeFourDigits"},gt=6e3,At="-ariaError",$o="-ariaContext",Zo="focusField",Xo="notValidating:blurScenario",lt="field.error.required",Jo="field.error.invalid",nn="invalid.format.expects",oi="creditCard.holderName.invalid",ai="creditCard.taxNumber.invalid",si="boleto.socialSecurityNumber.invalid";var qo=function(r){return r.CC_NUM="cc.num",r.CC_DAT="cc.dat",r.CC_MTH="cc.mth",r.CC_YR="cc.yr",r.CC_CVC="cc.cvc",r.KCP_PWD="kcp.pwd",r}({}),ea=function(r){return r.ERROR_MSG_INCOMPLETE_FIELD="err.gen.9100",r.ERROR_MSG_INVALID_FIELD="err.gen.9101",r.ERROR_MSG_LUHN_CHECK_FAILED="cc.num.902",r.ERROR_MSG_EMPTY_PAN="cc.num.900",r.ERROR_MSG_UNSUPPORTED_CARD_ENTERED="cc.num.903",r.ERROR_MSG_INCORRECTLY_FILLED_PAN="cc.num.901",r.ERROR_MSG_CARD_TOO_OLD="cc.dat.912",r.ERROR_MSG_CARD_TOO_FAR_IN_FUTURE="cc.dat.913",r.ERROR_MSG_CARD_EXPIRES_TOO_SOON="cc.dat.914",r.ERROR_MSG_EMPTY_DATE="cc.dat.910",r.ERROR_MSG_INCORRECTLY_FILLED__DATE="cc.dat.911",r.ERROR_MSG_EMPTY_YEAR="cc.yr.917",r.ERROR_MSG_INCORRECTLY_FILLED_YEAR="cc.yr.918",r.ERROR_MSG_EMPTY_MONTH="cc.mth.915",r.ERROR_MSG_EMPTY_CVC="cc.cvc.920",r.ERROR_MSG_INCORRECTLY_FILLED_CVC="cc.cvc.921",r.ERROR_MSG_EMPTY_KCP_PWD="kcp.pwd.940",r.ERROR_MSG_INCORRECTLY_FILLED_KCP_PWD="kcp.pwd.941",r}({});const ta={[Ce]:"cc.num.900",[Ve]:"cc.dat.910",[Le]:"cc.mth.915",[xe]:"cc.yr.917",[Pe]:"cc.cvc.920",[We]:"kcp.pwd.940"},on="v3/analytics",ci=1e4,ra=3e3,ut={log:"log",error:"error",info:"info"},Ke={network:"Network",apiError:"ApiError",sdkError:"SdkError",redirect:"Redirect"},li={redirect:"600"};var na=function(r){return r.clicked="clicked",r.rendered="rendered",r}({});const ui="action",an="submit",ia="selected",yr="rendered",oa="displayed",aa="input",sa="download",di="validationError",ca="focus",la="unfocus",ua="configured",da="qr_download_button",pa="instant_payment_button",ha="featured_issuer",fa="list",ma="list_search";var Fe=function(r){return r.ACTION_IS_MISSING_PAYMENT_DATA="700",r.ACTION_IS_MISSING_TOKEN="701",r.TOKEN_IS_MISSING_THREEDSMETHODURL="702",r.TOKEN_IS_MISSING_OTHER_PROPS="703",r.TOKEN_DECODE_OR_PARSING_FAILED="704",r.THREEDS2_TIMEOUT="705",r.TOKEN_IS_MISSING_ACSURL="800",r.NO_TRANSSTATUS="801",r.NO_DETAILS_FOR_FRICTIONLESS_OR_REFUSED="802",r.NO_COMPONENT_FOR_ACTION="803",r.NO_ACTION_FOR_CHALLENGE="804",r.CHALLENGE_RESOLVED_WITHOUT_RESULT_PROP="805",r}({}),Tt=function(r){return r.FINGERPRINT_DATA_SENT="fingerprintDataSentWeb",r.FINGERPRINT_IFRAME_LOADED="fingerprintIframeLoaded",r.FINGERPRINT_COMPLETED="fingerprintCompleted",r.CHALLENGE_DATA_SENT="challengeDataSentWeb",r.CHALLENGE_IFRAME_LOADED="challengeIframeLoaded",r.CHALLENGE_COMPLETED="challengeCompleted",r}({});const sn={[oi]:"925",[ai]:"942",[si]:"926",[`${lt}.country`]:"930",[`${lt}.street`]:"931",[`${lt}.house_number_or_name`]:"932",[`${lt}.postal_code`]:"933",[`${lt}.city`]:"935",[`${lt}.state_or_province`]:"936",[`${nn}.postal_code`]:"934"},Ea=null,pi=["applicationInfo","checkoutAttemptId"],hi="fetch-checkoutAttemptId-failed",cn={all:"all",initial:"initial"},fi=(r,t,a,N=!1)=>!(!r||typeof r.addEventListener!="function")&&(r.addEventListener(t,a,N),!0),mi=(r,t,a,N=!1)=>!(!r||typeof r.removeEventListener!="function")&&(r.removeEventListener(t,a,N),!0),Ei=r=>r.replace(/[^0-9]/g,""),_i=()=>Date.now(),yi=(r,t)=>{if(r===lt||r===nn)return sn[`${r}.${t}`]??r;let a=sn[r]??r;return isNaN(Number(a))&&(a=Ei(a)),a},vi=r=>Object.keys(r).reduce((t,a)=>(pi.includes(a)&&(t[a]=r[a]),t),{});function vr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class gr{constructor(){vr(this,"timestamp",void 0),vr(this,"id",void 0),vr(this,"component",void 0),this.id=Ie(),this.timestamp=String(_i())}}function qe(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Ar extends gr{getEventCategory(){return ut.info}constructor(t){return super(),qe(this,"type",void 0),qe(this,"target",void 0),qe(this,"issuer",void 0),qe(this,"isExpress",void 0),qe(this,"expressPage",void 0),qe(this,"isStoredPaymentMethod",void 0),qe(this,"brand",void 0),qe(this,"validationErrorCode",void 0),qe(this,"validationErrorMessage",void 0),qe(this,"configData",void 0),this.component=t.component,this.type=t.type,this.target=t.target,this.issuer=t.issuer,this.isExpress=t.isExpress,this.isStoredPaymentMethod=t.isStoredPaymentMethod,this.isExpress=t.isExpress,this.expressPage=t.expressPage,this.brand=t.brand,this.validationErrorCode=t.validationErrorCode,this.validationErrorMessage=t.validationErrorMessage,this.configData=t.configData,this.type===di&&(this.validationErrorCode=yi(this.validationErrorCode,this.target)),this}}function dt(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Wt{buildElementProps(t){this.props=this.formatProps({...this.constructor.defaultProps,...t})}formatProps(t){return t}formatData(){return{}}setUpAnalytics(t){return null}submitAnalytics(t){return null}handleKeyPress(t){return null}setState(t){this.state={...this.state,...t}}get data(){const t=ye(this.props,"modules.risk.data"),a=ye(this.props,"modules.analytics.getCheckoutAttemptId")?.()??hi,N=this.state.order||this.props.order,w=this.formatData();return w.paymentMethod&&a&&(w.paymentMethod.checkoutAttemptId=a),{...t&&{riskData:{clientData:t}},...N&&{order:{orderData:N.orderData,pspReference:N.pspReference}},...w,clientStateDataIndicator:!0}}activate(){}render(){throw new Error("Payment method cannot be rendered.")}mount(t){const a=typeof t=="string"?document.querySelector(t):t;if(!a)throw new Error("Component could not mount. Root node was not found.");const N=!this._node;return this._node&&this.unmount(),this._node=a,fi(this._node,"keypress",this.handleKeyPress,!1),this._component=this.render(),le(this._component,a),N&&this.props.modules&&this.props.modules.analytics&&this.setUpAnalytics({containerWidth:a&&a.offsetWidth,component:this.props.isDropin?"dropin":this.constructor.analyticsType??this.constructor.type,flavor:this.props.isDropin?"dropin":"components"}).then(()=>{if(!this.props.isDropin){const w=new Ar({type:yr});this.submitAnalytics(w)}}),this}update(t){return this.props=this.formatProps({...this.props,...t}),this.state={},this.unmount().mount(this._node)}unmount(){return mi(this._node,"keypress",this.handleKeyPress),this._node&&le(null,this._node),this}remove(){this.unmount(),this.core&&this.core.remove(this)}constructor(t,a){if(dt(this,"_id",`${this.constructor.type}-${Ie()}`),dt(this,"core",void 0),dt(this,"props",void 0),dt(this,"state",{}),dt(this,"_component",void 0),dt(this,"_node",null),!function(w){return!!w&&typeof w.initialize=="function"&&typeof w.createFromAction=="function"}(t))throw new i("IMPLEMENTATION_ERROR",`Trying to initialise the component '${this.constructor.type}' without a reference to an instance of AdyenCheckout`);this.core=t,this.buildElementProps(a),this.handleKeyPress=this.handleKeyPress.bind(this)}}dt(Wt,"defaultProps",{});function gi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ln={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var un;function Ai(){return un||(un=1,r=ln,function(){var t={}.hasOwnProperty;function a(){for(var M="",j=0;j<arguments.length;j++){var ee=arguments[j];ee&&(M=w(M,N(ee)))}return M}function N(M){if(typeof M=="string"||typeof M=="number")return M;if(typeof M!="object")return"";if(Array.isArray(M))return a.apply(null,M);if(M.toString!==Object.prototype.toString&&!M.toString.toString().includes("[native code]"))return M.toString();var j="";for(var ee in M)t.call(M,ee)&&M[ee]&&(j=w(j,ee));return j}function w(M,j){return j?M?M+" "+j:M+j:M}r.exports?(a.default=a,r.exports=a):window.classNames=a}()),ln.exports;var r}var Pt=gi(Ai());function dn(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Gt extends K{iframeOnLoad(){this.props.callback&&typeof this.props.callback=="function"&&this.props.callback(this.iframeEl.contentWindow)}componentDidMount(){this.iframeEl.addEventListener?this.iframeEl.addEventListener("load",this.iframeOnLoad.bind(this),!1):this.iframeEl.attachEvent?this.iframeEl.attachEvent("onload",this.iframeOnLoad.bind(this)):this.iframeEl.onload=this.iframeOnLoad.bind(this)}componentWillUnmount(){this.iframeEl.removeEventListener?this.iframeEl.removeEventListener("load",this.iframeOnLoad.bind(this),!1):this.iframeEl.detachEvent?this.iframeEl.detachEvent("onload",this.iframeOnLoad.bind(this)):this.iframeEl.onload=null}render({name:t,src:a,width:N,height:w,minWidth:M,minHeight:j,allow:ee,title:ae,classNameModifiers:ce}){const _e=ce.filter(W=>!!W);return V("iframe",{ref:W=>{this.iframeEl=W},allow:ee,className:Pt("adyen-checkout__iframe",`adyen-checkout__iframe--${t}`,_e.length&&ce.map(W=>`adyen-checkout__iframe--${t}-${W}`)),name:t,src:a,width:N,height:w,frameBorder:"0",title:ae,referrerpolicy:"origin","min-width":M,"min-height":j})}constructor(...t){super(...t),dn(this,"iframeEl",void 0)}}dn(Gt,"defaultProps",{width:"0",height:"0",minWidth:"0",minHeight:"0",src:null,allow:null,title:"components iframe",classNameModifiers:[]});const Tr=(r,t,a)=>{let N;return{promise:new Promise((w,M)=>{N=setTimeout(()=>{M(a)},r),t.then(j=>{clearTimeout(N),w(j)}).catch(j=>{clearTimeout(N),M(j)})}),cancel:()=>{clearTimeout(N)}}},Ti="1.0.0",Ii="1.0.0",jt="deviceFingerprint",bi=2e4,Oi={result:{type:jt,value:"df-timedOut"},errorCode:"timeout"},Ni={UNKNOWN:"unknownError"},pn={timeout:"iframe loading timed out",wrongOrigin:"Result did not come from the expected origin",wrongDataType:"Result data was not of the expected type",missingProperty:"Result data did not contain the expected properties",unknownError:"An unknown error occurred"};function st(r={},t){return Object.prototype.hasOwnProperty.call(r,t)}const Ir=(r,t,a,N)=>w=>{const M={};if((w.origin||w.originalEvent?.origin)!==r)return"Message was not sent from the expected domain";if(typeof w.data!="string")return"Event data was not of type string";if(!w.data.length)return"Invalid event data string";try{const j=JSON.parse(w.data);if(!st(j,"type")||j.type!==N)return"Event data was not of expected type";t(j)}catch{return M.type=`${N}-JSON-parse-error`,M.comment="failed to JSON parse event.data",M.extraInfo=`event.data = ${w.data}`,M.eventDataRaw=w.data,console.debug("get-process-message-handler::CATCH::Un-parseable JSON:: parseErrorObj=",M),!1}return!0},br=r=>{const t=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(r);if(!t)return null;const[,a,N,w,M]=t;return a&&N&&w?`${a}:${N}${w}${M?`:${M}`:""}`:null};function Or(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Ci extends K{getDfpPromise(){return new Promise((t,a)=>{this.processMessageHandler=Ir(this.postMessageDomain,t,a,jt),window.addEventListener("message",this.processMessageHandler)})}componentDidMount(){this.deviceFingerPrintPromise=Tr(bi,this.getDfpPromise(),Oi),this.deviceFingerPrintPromise.promise.then(t=>{this.props.onCompleteFingerprint(t),window.removeEventListener("message",this.processMessageHandler)}).catch(t=>{this.props.onErrorFingerprint(t),window.removeEventListener("message",this.processMessageHandler)})}render({dfpURL:t}){return V("div",{className:"adyen-checkout-risk__device-fingerprint"},V(Gt,{name:"dfIframe",src:t,allow:"geolocation; microphone; camera;",title:"devicefingerprinting iframe"}))}constructor(t){super(t),Or(this,"postMessageDomain",void 0),Or(this,"processMessageHandler",void 0),Or(this,"deviceFingerPrintPromise",void 0),this.postMessageDomain=br(this.props.loadingContext)||this.props.loadingContext}}const Pi=r=>({errorCode:r,message:pn[r]||pn[Ni.UNKNOWN],type:jt});class hn extends K{setStatusComplete(t){this.setState({status:"complete"},()=>{this.props.onComplete(t)})}render({loadingContext:t},{dfpURL:a}){return this.state.status==="retrievingFingerPrint"?V("div",{className:"adyen-checkout-risk__device-fingerprint--wrapper",style:{position:"absolute",width:0,height:0}},V(Ci,{loadingContext:t,dfpURL:a,onCompleteFingerprint:N=>{this.setStatusComplete(N)},onErrorFingerprint:N=>{this.props.onError(Pi(N.errorCode)),this.setStatusComplete(N.result)}})):null}constructor(t){super(t),t.clientKey&&(this.state={status:"retrievingFingerPrint",dfpURL:`${this.props.loadingContext}assets/html/${t.clientKey}/dfp.${Ii}.html`})}}var Nr,Cr,Pr;Pr={onComplete:()=>{},onError:()=>{}},(Cr="defaultProps")in(Nr=hn)?Object.defineProperty(Nr,Cr,{value:Pr,enumerable:!0,configurable:!0,writable:!0}):Nr[Cr]=Pr;const Si="not base64",Ri="malformed URI sequence",Qt={decode:r=>{if(!Qt.isBase64(r))return{success:!1,error:Si};try{return{success:!0,data:(t=r,decodeURIComponent(Array.prototype.map.call(window.atob(t),a=>`%${`00${a.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")))}}catch{return{success:!1,error:Ri}}var t},encode:r=>window.btoa(r),isBase64:r=>{if(!r||r.length%4)return!1;try{return window.btoa(window.atob(r))===r}catch{return!1}}};function It(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class St extends Wt{formatProps(t){return{...t,risk:{...St.defaultProps.risk,...t.risk}}}get isValid(){return this.state.isValid}get data(){if(this.isValid){const t={version:Ti,...this.state.data};return Qt.encode(JSON.stringify(t))}return!1}get enabled(){return this.props.risk.enabled}componentWillUnmount(){this.cleanUp()}render(){return V(hn,{...this.props,loadingContext:this.props.loadingContext,onComplete:this.onComplete,onError:this.onError})}constructor(t,a){super(t,a),It(this,"nodeRiskContainer",null),It(this,"onComplete",w=>{const M={...this.state.data,[w.type]:w.value,persistentCookie:w.persistentCookie,components:w.components};this.setState({data:M,isValid:!0}),this.props.risk.onComplete(this.data),this.cleanUp()}),It(this,"onError",w=>{this.props.risk.onError(w),this.cleanUp()}),It(this,"cleanUp",()=>{this.nodeRiskContainer&&this.nodeRiskContainer.parentNode&&this.nodeRiskContainer.parentNode.removeChild(this.nodeRiskContainer)});const N={[jt]:null};this.setState({data:N}),this.props.risk.enabled===!0&&(document.querySelector(this.props.risk.node)?(this.nodeRiskContainer=document.createElement("div"),document.querySelector(this.props.risk.node).appendChild(this.nodeRiskContainer),this.mount(this.nodeRiskContainer)):this.onError({message:"RiskModule node was not found"}))}}It(St,"type","risk"),It(St,"defaultProps",{risk:{enabled:!0,onComplete:()=>{},onError:()=>{},node:"body"}});function fn(r){return!this.length||this.indexOf(r.type)>-1}function mn(r){return!this.length||this.indexOf(r.type)<0}function Di(r){return!!r&&!!r.supportedShopperInteractions&&r.supportedShopperInteractions.includes("Ecommerce")}const wi=["scheme","blik","twint","ach","cashapp","paybybank_AIS_DD","payto","paybybank_pix","eft_directdebit_CA"];function Li(r){return!!r&&!!r.type&&wi.includes(r.type)}const Mi=r=>({...r,storedPaymentMethodId:r.id,isStoredPaymentMethod:!0}),Ui=(r,{allowPaymentMethods:t=[],removePaymentMethods:a=[]})=>r?r.filter(fn,t).filter(mn,a):[],Fi=(r,{allowPaymentMethods:t=[],removePaymentMethods:a=[]})=>r?r.filter(Li).filter(fn,t).filter(mn,a).filter(Di).map(Mi):[],ki=r=>{if(typeof r=="string")throw new Error('paymentMethodsResponse was provided but of an incorrect type (should be an object but a string was provided).Try JSON.parse("{...}") your paymentMethodsResponse.');if(r instanceof Array)throw new Error("paymentMethodsResponse was provided but of an incorrect type (should be an object but an array was provided).Please check you are passing the whole response.");!r||r?.paymentMethods?.length||r?.storedPaymentMethods?.length||console.warn("paymentMethodsResponse was provided but no payment methods were found.")};function En(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class xi{mapCreatedComponentType(t){return t==="card"?"scheme":t}has(t){return!!this.paymentMethods.find(a=>a.type===this.mapCreatedComponentType(t))}find(t){return this.paymentMethods.find(a=>a.type===this.mapCreatedComponentType(t))}constructor(t,a={}){En(this,"paymentMethods",[]),En(this,"storedPaymentMethods",[]),ki(t),this.paymentMethods=t?Ui(t.paymentMethods,a):[],this.storedPaymentMethods=t?Fi(t.storedPaymentMethods,a):[]}}const _n="threeDS2Fingerprint",Rt="3DS2Fingerprint_Error",Sr="callSubmit3DS2Fingerprint_Response",yn="threeDS2Challenge",et="3DS2Challenge_Error",pt="threeDS2",$t="3DS2",ht='Missing "token" property from threeDS2 action',vn="02",Bi=1e4,Vi=6e5,bt="timeout",Hi={result:{transStatus:"U"},type:"challengeResult",errorCode:bt},Yi={result:{threeDSCompInd:"N"},type:"fingerPrintResult",errorCode:bt},gn={"01":["250px","400px"],"02":["390px","400px"],"03":["500px","600px"],"04":["600px","400px"],"05":["100%","100%"]},An=Object.prototype.toString;function Rr(r){return typeof r=="object"&&r!==null&&Object.prototype.toString.call(r)==="[object Array]"}function Dr(r){return r!=null}function Ki(r){return r!==!1&&Dr(r)}function wr(r){return!!r&&typeof r=="object"}function zi(r){return!Ki(r)||!(!(typeof(t=r)=="number"||wr(t)&&An.call(t)==="[object Number]")||r!==0&&!Number.isNaN(r))||!(!Rr(r)&&!function(a){return typeof a=="string"||wr(a)&&An.call(a)==="[object String]"}(r)||r.length!==0)||!(!wr(r)||Object.keys(r).length!==0);var t}function _a(r){return!zi(r)}function Lr(...r){const t=Rr(r[0])?r[0]:r;return{from:a=>t.map(N=>N in a?{[N]:a[N]}:{}).reduce((N,w)=>({...N,...w}),{})}}function ya(...r){const t=Rr(r[0])?r[0]:r;return{from:a=>Lr(...Object.keys(a).filter(N=>!t.includes(N))).from(a)}}const Zt=r=>"success"in r&&!r.success,Tn=r=>{const t=Qt.decode(r);if(t.success)try{return JSON.parse(t.data)}catch{return{success:!1,error:"Could not JSON parse token"}}return t},Xt=r=>{if(!r||!Object.keys(r).length)throw new Error("No (populated) data object to encode");return Qt.encode(JSON.stringify(r))},In=r=>{const t=r.length===1?`0${r}`:r;return Object.prototype.hasOwnProperty.call(gn,t)?t:vn},Wi=r=>gn[In(r)],Gi=({token:r,size:t})=>{const a=Tn(r);if(Zt(a))return a;const{acsTransID:N,acsURL:w,messageVersion:M,threeDSNotificationURL:j,threeDSServerTransID:ee}=a,ae=br(j);return{acsURL:w,cReqData:{acsTransID:N,messageVersion:M,threeDSServerTransID:ee,messageType:"CReq",challengeWindowSize:In(t)},iframeSizeArr:Wi(t),postMessageDomain:ae}},ji=({token:r,notificationURL:t})=>{const a=Tn(r);if(Zt(a))return a;const{threeDSMethodNotificationURL:N,threeDSMethodUrl:w,threeDSServerTransID:M}=a,j=t||N;return{threeDSServerTransID:M,threeDSMethodURL:w,threeDSMethodNotificationURL:j,postMessageDomain:br(j)}},Qi=(r,t,a)=>({data:{[r]:Xt({threeDSCompInd:t.threeDSCompInd}),paymentData:a}}),$i=(r,t,a)=>({data:{details:{"threeds2.fingerprint":Xt(t)},paymentData:a}}),Zi=(r,t,a)=>({data:{details:{[r]:Xt({transStatus:t,authorisationToken:a})}}}),Xi=(r,t,a)=>({data:{details:{"threeds2.challengeResult":Xt({transStatus:t})},paymentData:a}}),bn=r=>{let t=window.btoa(r).split("=")[0];return t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t},Ji=["elementRef"],qi=["createFromAction","onAdditionalDetails"],eo=(r,t)=>{if(r==="fingerprint"){const a=t.elementRef?Ji:qi,N=Lr(a).from(t);return N.showSpinner=!t.isDropin,N.statusType="loading",N}return{statusType:"custom",i18n:t.i18n}},Mr=(r,t,a,N)=>{const w=t.getComponent(a);if(!w)throw Error(`Action Element of type ${a} not found in the registry`);return new w(r,{...N,id:`${a}-${Ie()}`})},Dt=r=>(t,a,N,w)=>{const M={...w,...N,onComplete:w.onAdditionalDetails,onError:w.onError,statusType:r,originalAction:N};return Mr(t,a,N.paymentMethodType,M)},to={redirect:(r,t,a,N)=>{const w={...N,...a,statusType:"redirect",originalAction:a};return Mr(r,t,"redirect",w)},threeDS2:(r,t,a,N)=>{const w=a.subtype==="fingerprint"?"threeDS2DeviceFingerprint":"threeDS2Challenge",M=a.subtype==="fingerprint"||N.isMDFlow?a.paymentData:a.authorisationToken,j={core:r,token:a.token,paymentData:M,onActionHandled:N.onActionHandled,onComplete:N.isMDFlow?N.onComplete:N.onAdditionalDetails,onError:N.onError,isDropin:!!N.isDropin,loadingContext:N.loadingContext,clientKey:N.clientKey,paymentMethodType:N.paymentMethodType,challengeWindowSize:N.challengeWindowSize,isMDFlow:N.isMDFlow,modules:{analytics:N.modules?.analytics,resources:N.modules?.resources},...eo(a.subtype,N)};return Mr(r,t,w,j)},voucher:Dt("custom"),qrCode:Dt("custom"),await:Dt("custom"),bankTransfer:Dt("custom"),sdk:Dt("custom")};function ro(r,t,a,N={}){const w=to[a.type];if(w&&typeof w=="function")return w(r,t,a,N);throw new Error("Invalid Action")}const no="https://checkoutshopper-live.adyen.com/checkoutshopper/",io=["amount","secondaryAmount","countryCode","environment","_environmentUrls","loadingContext","i18n","modules","order","session","clientKey","showPayButton","redirectFromTopWhenInIframe","onPaymentCompleted","onPaymentFailed","beforeRedirect","beforeSubmit","onSubmit","onActionHandled","onAdditionalDetails","onChange","onEnterKeyPressed","onError","onBalanceCheck","onOrderCancel","onOrderRequest","onOrderUpdated","onPaymentMethodsRequest"],oo=6e4;function On(r,t){const{headers:a=[],errorLevel:N="warn",errorCode:w,loadingContext:M=no,method:j="GET",path:ee,timeout:ae=oo}=r,ce={method:j,mode:"cors",cache:"default",credentials:"same-origin",headers:{Accept:"application/json, text/plain, */*","Content-Type":j==="POST"?"application/json":"text/plain",...a},redirect:"follow",referrerPolicy:"no-referrer-when-downgrade",...AbortSignal?.timeout&&{signal:AbortSignal?.timeout(ae)},...t&&{body:JSON.stringify(t)}},_e=`${M}${ee}`;return fetch(_e,ce).then(async W=>{const Ae=await W.json();if(W.ok)return Ae;if(function(he){return he&&he.errorCode&&he.errorType&&he.message&&he.status}(Ae))return void Ur({message:Ae.message,level:N,cause:Ae,code:w});Ur({message:r.errorMessage||`Service at ${_e} is not available`,level:N,cause:Ae,code:w})}).catch(W=>{if(W instanceof i)throw W;Ur({message:r.errorMessage||`Call to ${_e} failed. Error= ${W}`,level:N,cause:W,code:w})})}function Ur({message:r,level:t,cause:a,code:N}){switch(t){case"silent":break;case"info":case"warn":case"error":console[t](r);break;default:throw new i("NETWORK_ERROR",r,{cause:a,code:N})}}function Nn(r,t){return On({...r,method:"GET"},t)}function ot(r,t){return On({...r,method:"POST"},t)}function Jt(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class ao{get length(){return Object.keys(this.storage).length}key(t){return Object.keys(this.storage)[t]}getItem(t){return this.storage[t]||null}setItem(t,a){return this.storage[t]=a}removeItem(t){delete this.storage[t]}clear(){this.storage={}}constructor(){Jt(this,"storage",void 0),this.storage={}}}class Cn{get(){try{return JSON.parse(this.storage.getItem(this.key))}catch{return null}}set(t){this.storage.setItem(this.key,JSON.stringify(t))}remove(){this.storage.removeItem(this.key)}clear(){this.storage.clear()}keyByIndex(t){return this.storage.key(t)}get length(){return this.storage.length}constructor(t,a){Jt(this,"prefix","adyen-checkout__"),Jt(this,"key",void 0),Jt(this,"storage",void 0);try{if(this.storage=a?window[a]:window.localStorage,!this.storage)throw new Error("storage does not exist")}catch{this.storage=new ao}this.key=this.prefix+t}}const so='WARNING: Failed to retrieve "checkoutAttemptId". Consequently, analytics will not be available for this payment. The payment process, however, will not be affected.',co=({analyticsContext:r,clientKey:t,locale:a,analyticsPath:N,bundleType:w})=>{let M;const j={errorLevel:"fatal",loadingContext:r,path:`${N}?clientKey=${t}`};return ee=>{const ae={version:"6.17.0",channel:"Web",platform:"Web",buildType:w,locale:a,referrer:window.location.href,screenWidth:window.screen.width,...ee};if(M)return M;if(!t)return Promise.reject("no-client-key");const ce=new Cn("checkout-attempt-id","sessionStorage"),_e=ce.get();return function(W){if(!W?.id)return!1;const Ae=Date.now()-9e5;return W.timestamp>Ae}(_e)?Promise.resolve(_e.id):(M=ot(j,ae).then(W=>{if(W?.checkoutAttemptId)return ce.set({id:W.checkoutAttemptId,timestamp:Date.now()}),W.checkoutAttemptId}).catch(()=>Promise.reject(so)),M)}},lo=({analyticsContext:r,clientKey:t,analyticsPath:a})=>{const N={channel:"Web",platform:"Web",info:[],errors:[],logs:[]};return{add:(w,M)=>{N[w].push(M)},run:w=>{const M=(j=>N.info.length||N.logs.length||N.errors.length?ot({errorLevel:"silent",loadingContext:r,path:`${a}/${j}?clientKey=${t}`},N).then(()=>{}).catch(()=>{console.debug("### EventsQueue:::: send has failed")}):Promise.resolve(null))(w);return N.info=[],N.errors=[],N.logs=[],M},getQueue:()=>N}},va=300,uo=(r,t=300)=>{let a;return function(...N){clearTimeout(a),a=setTimeout(()=>r.apply(this,N),t)}};let wt=null,Fr=null;const po=({locale:r,clientKey:t,analytics:a,amount:N,analyticsContext:w,bundleType:M})=>{const j={enabled:!0,checkoutAttemptId:null,analyticsData:{},...a},ee=co({analyticsContext:w,clientKey:t,locale:r,analyticsPath:on,bundleType:M}),ae=lo({analyticsContext:w,clientKey:t,analyticsPath:on}),ce=()=>wt?ae.run(wt):Promise.resolve(null);return{setUp:async _e=>{const{payload:W,enabled:Ae}=j,he=Ae?cn.all:cn.initial,Me=vi(j.analyticsData);if(!wt)try{wt=await ee({..._e,...W&&{...W},...Object.keys(Me).length&&{...Me},level:he})}catch(He){console.warn("Fetching checkoutAttemptId failed."+(He?` Error=${He}`:""))}},getCheckoutAttemptId:()=>wt,getEventsQueue:()=>ae,getEnabled:()=>j.enabled,sendAnalytics:_e=>j.enabled?(((W,Ae)=>{const he=W===ut.info?W:`${W}s`;ae.add(`${he}`,Ae),W===ut.info&&(clearTimeout(Fr),Fr=setTimeout(()=>{ce()},ci)),W!==ut.log&&W!==ut.error||(clearTimeout(Fr),uo(ce)())})(_e.getEventCategory(),_e),!0):!1}};function ho(r){return Object.keys(r).reduce((t,a)=>(io.includes(a)&&(t[a]=r[a]),t),{})}function fo(r){const t=(a=>a)(["session","environment","_environmentUrls","showPayButton","clientKey","locale","translations","paymentMethodsResponse","amount","secondaryAmount","countryCode","allowPaymentMethods","removePaymentMethods","srConfig","analytics","risk","order","exposeLibraryMetadata","beforeRedirect","beforeSubmit","onPaymentCompleted","onPaymentFailed","onSubmit","onAdditionalDetails","onActionHandled","onChange","onError","onBalanceCheck","onOrderRequest","onPaymentMethodsRequest","onOrderCancel","onOrderUpdated","loadingContext","onEnterKeyPressed","afterAdditionalDetails"]);Object.keys(r).forEach(a=>{t.includes(a)||console.warn(`AdyenCheckout - Configuration property "${a}" is not a valid AdyenCheckout property. If it is a payment method configuration, make sure to pass it directly to the Component. If you are using Drop-in, make sure to pass it to "paymentMethodsConfiguration" object`)})}function ga(r){const t=Object.values(r);return a=>t.includes(a)}const Ot="v1",qt={makePayments:"620",submitPaymentDetails:"621",submitThreeDS2Fingerprint:"622",createOrder:"623"};function mo(r,t){const a=`${Ot}/sessions/${t.id}/payments?clientKey=${t.clientKey}`,N={sessionData:t.data,...r};return ot({loadingContext:t.loadingContext,path:a,errorLevel:"fatal",errorCode:qt.makePayments},N)}function Eo(r,t){const a=`${Ot}/sessions/${t.id}/paymentDetails?clientKey=${t.clientKey}`,N={...t.data&&{sessionData:t.data},...r};return ot({loadingContext:t.loadingContext,path:a,errorLevel:"fatal",errorCode:qt.submitPaymentDetails},N)}function _o(r,t){const a=`${Ot}/sessions/${r.id}/setup?clientKey=${r.clientKey}`,N={browserInfo:t.browserInfo,sessionData:r.data,...t.order?{order:{orderData:t.order.orderData,pspReference:t.order.pspReference}}:{}};return ot({loadingContext:r.loadingContext,path:a,errorLevel:"fatal"},N)}function yo(r,t){const a=`${Ot}/sessions/${t.id}/paymentMethodBalance?clientKey=${t.clientKey}`,N={sessionData:t.data,...r};return ot({loadingContext:t.loadingContext,path:a,errorLevel:"fatal"},N)}function vo(r){const t=`${Ot}/sessions/${r.id}/orders?clientKey=${r.clientKey}`,a={sessionData:r.data};return ot({loadingContext:r.loadingContext,path:t,errorLevel:"fatal",errorCode:qt.createOrder},a)}function go(r){if(!r||!r.id)throw new i("IMPLEMENTATION_ERROR","Invalid session");const{shopperLocale:t,shopperEmail:a,telephoneNumber:N,id:w}=r;return{id:w,...r.sessionData?{sessionData:r.sessionData}:{},...t&&{shopperLocale:t},...a&&{shopperEmail:a},...N&&{telephoneNumber:N}}}function Ao(r,t){const a=`${Ot}/sessions/${t.id}/orders/cancel?clientKey=${t.clientKey}`,N={sessionData:t.data,order:r};return ot({loadingContext:t.loadingContext,path:a,errorLevel:"fatal"},N)}function Pn(){const r=ye(window,"screen.colorDepth")||"",t=ye(window,"screen.height")||"",a=ye(window,"screen.width")||"",N=ye(window,"navigator.userAgent")||"";return{acceptHeader:"*/*",colorDepth:r,language:ye(window,"navigator.language")||"en",javaEnabled:!1,screenHeight:t,screenWidth:a,userAgent:N,timeZoneOffset:new Date().getTimezoneOffset()}}function Lt(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class To{get shopperLocale(){return this.session.shopperLocale}get id(){return this.session.id}get data(){return this.session.sessionData}updateSessionData(t){this.session.sessionData=t,this.storeSession()}setupSession(t){const a={...t,browserInfo:Pn()};return _o(this,a).then(N=>(N.configuration&&(this.configuration={...N.configuration}),N.sessionData&&this.updateSessionData(N.sessionData),N))}submitPayment(t){return mo(t,this).then(a=>(a.sessionData&&this.updateSessionData(a.sessionData),a))}submitDetails(t){return Eo(t,this).then(a=>(a.sessionData&&this.updateSessionData(a.sessionData),a))}checkBalance(t){return yo(t,this).then(a=>(a.sessionData&&this.updateSessionData(a.sessionData),a))}createOrder(){return vo(this).then(t=>(t.sessionData&&this.updateSessionData(t.sessionData),t))}cancelOrder(t){return Ao(t.order,this).then(a=>(a.sessionData&&this.updateSessionData(a.sessionData),a))}getStoredSession(){const t=this.storage.get();return this.id===t?.id?t:this.session}storeSession(){this.storage.set({id:this.session.id,sessionData:this.session.sessionData})}removeStoredSession(){this.storage.remove()}constructor(t,a,N){Lt(this,"session",void 0),Lt(this,"storage",void 0),Lt(this,"clientKey",void 0),Lt(this,"loadingContext",void 0),Lt(this,"configuration",void 0);const w=go(t);if(!a)throw new Error("No clientKey available");if(!N)throw new Error("No loadingContext available");this.storage=new Cn("session","localStorage"),this.clientKey=a,this.loadingContext=N,this.session=w,this.session.sessionData?this.storeSession():this.session=this.getStoredSession()}}function kr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Io{getImage(t={}){return this.getImageUrl({...t,resourceContext:this.resourceContext})}constructor(t){if(kr(this,"resourceContext",void 0),kr(this,"returnImage",({name:a,resourceContext:N,imageFolder:w="",parentFolder:M="",extension:j,size:ee="",subFolder:ae=""})=>`${N}images/${w}${ae}${M}${a}${ee}.${j}`),kr(this,"getImageUrl",({resourceContext:a,extension:N="svg",...w})=>M=>{const j={extension:N,resourceContext:a,imageFolder:"logos/",parentFolder:"",name:M,...w};return this.returnImage(j)}),!t)throw new i("IMPLEMENTATION_ERROR",'Resources module: "environmentsUrls.cdn" is not a valid URL');this.resourceContext=t}}var ft,De,xr,Sn,Mt=0,Rn=[],ke=C,Dn=ke.__b,wn=ke.__r,Ln=ke.diffed,Mn=ke.__c,Un=ke.unmount,Fn=ke.__;function Ut(r,t){ke.__h&&ke.__h(De,r,Mt||t),Mt=0;var a=De.__H||(De.__H={__:[],__h:[]});return r>=a.__.length&&a.__.push({}),a.__[r]}function Br(r){return Mt=1,bo(Hn,r)}function bo(r,t,a){var N=Ut(ft++,2);if(N.t=r,!N.__c&&(N.__=[a?a(t):Hn(void 0,t),function(ee){var ae=N.__N?N.__N[0]:N.__[0],ce=N.t(ae,ee);ae!==ce&&(N.__N=[ce,N.__[1]],N.__c.setState({}))}],N.__c=De,!De.u)){var w=function(ee,ae,ce){if(!N.__c.__H)return!0;var _e=N.__c.__H.__.filter(function(Ae){return!!Ae.__c});if(_e.every(function(Ae){return!Ae.__N}))return!M||M.call(this,ee,ae,ce);var W=!1;return _e.forEach(function(Ae){if(Ae.__N){var he=Ae.__[0];Ae.__=Ae.__N,Ae.__N=void 0,he!==Ae.__[0]&&(W=!0)}}),!(!W&&N.__c.props===ee)&&(!M||M.call(this,ee,ae,ce))};De.u=!0;var M=De.shouldComponentUpdate,j=De.componentWillUpdate;De.componentWillUpdate=function(ee,ae,ce){if(this.__e){var _e=M;M=void 0,w(ee,ae,ce),M=_e}j&&j.call(this,ee,ae,ce)},De.shouldComponentUpdate=w}return N.__N||N.__}function kn(r,t){var a=Ut(ft++,3);!ke.__s&&Hr(a.__H,t)&&(a.__=r,a.i=t,De.__H.__h.push(a))}function Aa(r,t){var a=Ut(ft++,4);!ke.__s&&Hr(a.__H,t)&&(a.__=r,a.i=t,De.__h.push(a))}function xn(r){return Mt=5,Bn(function(){return{current:r}},[])}function Bn(r,t){var a=Ut(ft++,7);return Hr(a.__H,t)&&(a.__=r(),a.__H=t,a.__h=r),a.__}function Oo(r,t){return Mt=8,Bn(function(){return r},t)}function No(r){var t=De.context[r.__c],a=Ut(ft++,9);return a.c=r,t?(a.__==null&&(a.__=!0,t.sub(De)),t.props.value):r.__}function Co(){for(var r;r=Rn.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(er),r.__H.__h.forEach(Vr),r.__H.__h=[]}catch(t){r.__H.__h=[],ke.__e(t,r.__v)}}ke.__b=function(r){De=null,Dn&&Dn(r)},ke.__=function(r,t){r&&t.__k&&t.__k.__m&&(r.__m=t.__k.__m),Fn&&Fn(r,t)},ke.__r=function(r){wn&&wn(r),ft=0;var t=(De=r.__c).__H;t&&(xr===De?(t.__h=[],De.__h=[],t.__.forEach(function(a){a.__N&&(a.__=a.__N),a.i=a.__N=void 0})):(t.__h.forEach(er),t.__h.forEach(Vr),t.__h=[],ft=0)),xr=De},ke.diffed=function(r){Ln&&Ln(r);var t=r.__c;t&&t.__H&&(t.__H.__h.length&&(Rn.push(t)!==1&&Sn===ke.requestAnimationFrame||((Sn=ke.requestAnimationFrame)||Po)(Co)),t.__H.__.forEach(function(a){a.i&&(a.__H=a.i),a.i=void 0})),xr=De=null},ke.__c=function(r,t){t.some(function(a){try{a.__h.forEach(er),a.__h=a.__h.filter(function(N){return!N.__||Vr(N)})}catch(N){t.some(function(w){w.__h&&(w.__h=[])}),t=[],ke.__e(N,a.__v)}}),Mn&&Mn(r,t)},ke.unmount=function(r){Un&&Un(r);var t,a=r.__c;a&&a.__H&&(a.__H.__.forEach(function(N){try{er(N)}catch(w){t=w}}),a.__H=void 0,t&&ke.__e(t,a.__v))};var Vn=typeof requestAnimationFrame=="function";function Po(r){var t,a=function(){clearTimeout(N),Vn&&cancelAnimationFrame(t),setTimeout(r)},N=setTimeout(a,100);Vn&&(t=requestAnimationFrame(a))}function er(r){var t=De,a=r.__c;typeof a=="function"&&(r.__c=void 0,a()),De=t}function Vr(r){var t=De;r.__c=r.__(),De=t}function Hr(r,t){return!r||r.length!==t.length||t.some(function(a,N){return a!==r[N]})}function Hn(r,t){return typeof t=="function"?t(r):t}function So({setComponentRef:r}){const t=xn({});Object.keys(t.current).length||r?.(t.current);const[a,N]=Br(null);return t.current.setMessages=w=>{N(w)},a?V(k,null,a.map(w=>V("div",{key:w,className:"adyen-checkout-sr-panel__msg"},w))):null}function tt(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Yr extends Wt{get enabled(){return this._enabled}get moveFocus(){return this._moveFocus}setAriaProps(t){const a=document.querySelector('[class^="adyen-checkout-sr-panel"]');for(const[N,w]of Object.entries(t))a.setAttribute(N,w);this.props={...this.props,ariaAttributes:{...this.props.ariaAttributes,...t}}}render(){return this.props.enabled?V("div",{className:this.showPanel?"adyen-checkout-sr-panel":"adyen-checkout-sr-panel--sr-only",role:"log",...this.props.ariaAttributes},V(So,{setComponentRef:this.setComponentRef})):null}constructor(t,a){if(super(t,a),tt(this,"srPanelContainer",null),tt(this,"id",void 0),tt(this,"showPanel",void 0),tt(this,"_enabled",void 0),tt(this,"_moveFocus",void 0),tt(this,"componentRef",void 0),tt(this,"setComponentRef",N=>{this.componentRef=N}),tt(this,"setMessages",N=>{if(!this.props.enabled)return;let w=null;N&&(w=Array.isArray(N)?N:[N]),this.componentRef.setMessages(w)}),this.id=this.props.id,this.showPanel=!1,this._enabled=!1,this._moveFocus=this.props.moveFocus??!0,this.props.enabled){this._enabled=!0;const N=document.querySelector(this.props.node);if(!N)throw new Error("Component could not mount. Root node was not found.");{const w=document.getElementById(this.id);w&&N.removeChild(w),this.srPanelContainer=document.createElement("div"),this.srPanelContainer.className="sr-panel-holder",this.srPanelContainer.id=this.id,N.appendChild(this.srPanelContainer),this.mount(this.srPanelContainer)}}}}tt(Yr,"type","srPanel"),tt(Yr,"defaultProps",{enabled:!0,node:"body",showPanel:!1,id:"ariaLiveSRPanel",ariaAttributes:{"aria-relevant":"all","aria-live":"polite","aria-atomic":"true"}});const tr=({inline:r=!1,size:t="large"})=>V("div",{"data-testid":"spinner",className:"adyen-checkout__spinner__wrapper "+(r?"adyen-checkout__spinner__wrapper--inline":"")},V("div",{className:`adyen-checkout__spinner adyen-checkout__spinner--${t}`})),Yn=ue(void 0),Kn=({i18n:r,loadingContext:t,resources:a,children:N})=>(kn(()=>{r&&t&&a||console.warn(`CoreProvider - WARNING core provider is missing:${r?"":"i18n"} ${t?"":"loadingContext"} ${a?"":"resources"}`)},[r,t,a]),V(Yn.Provider,{value:{i18n:r,loadingContext:t,resources:a}},ge(N))),rr=()=>{const r=No(Yn);if(r===void 0)throw new Error('"useCoreContext" must be used within a CoreProvider');return r};function nr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class zn extends K{render(){const{classNameModifiers:t=[],disabled:a,href:N,icon:w,inline:M,label:j,ariaLabel:ee,status:ae,variant:ce,buttonRef:_e}=this.props,{completed:W}=this.state,{i18n:Ae}=rr(),he=w?V("img",{className:"adyen-checkout__button__icon",src:w,alt:"","aria-hidden":"true"}):"",Me=[...t,...ce!=="primary"?[ce]:[],...M?["inline"]:[],...W?["completed"]:[],...ae==="loading"||ae==="redirect"?["loading"]:[]],He=Pt(["adyen-checkout__button",...Me.map(we=>`adyen-checkout__button--${we}`)]),Be={loading:V("span",{className:"adyen-checkout__button__content"},V(tr,{size:"medium",inline:!0}),V("span",{className:"adyen-checkout__button__text--sr-only"},Ae.get("loading"))),redirect:V("span",{className:"adyen-checkout__button__content"},V(tr,{size:"medium",inline:!0}),Ae.get("payButton.redirecting")),default:V("span",{className:"adyen-checkout__button__content"},he,V("span",{className:"adyen-checkout__button__text"},j))},be=Be[ae]||Be.default;return N?V("a",{className:He,href:N,disabled:a,target:this.props.target,rel:this.props.rel},be):V("button",{ref:_e,className:He,type:"button",disabled:a,onClick:this.onClick,onKeyDown:this.onKeyDown,"aria-label":ee},be,ae!=="loading"&&ae!=="redirect"&&this.props.children)}constructor(...t){super(...t),nr(this,"onClick",a=>{a.preventDefault(),this.props.disabled||this.props.onClick(a,{complete:this.complete})}),nr(this,"complete",(a=1e3)=>{this.setState({completed:!0}),setTimeout(()=>{this.setState({completed:!1})},a)}),nr(this,"onKeyDown",a=>{this.props.onKeyDown?.(a)})}}nr(zn,"defaultProps",{status:"default",variant:"primary",disabled:!1,label:"",inline:!1,target:"_self",onClick:()=>{}});const Ta="/ ",Ro=(r,t)=>t?.value&&t?.currency?r.amount(t.value,t.currency,{currencyDisplay:t.currencyDisplay||"symbol"}):"",Do=(r,t)=>`${r.get("payButton")} ${Ro(r,t)}`,wo=(r,t)=>{const a=t&&t?.value&&t?.currency?r.amount(t.value,t.currency,{currencyDisplay:t.currencyDisplay||"symbol"}):"";return`${a.length?"/ ":""}${a}`},Lo=({label:r})=>V("span",{className:"checkout-secondary-button__text"},r),Mo=({amount:r,secondaryAmount:t,classNameModifiers:a=[],label:N,...w})=>{const{i18n:M}=rr(),j=r&&{}.hasOwnProperty.call(r,"value")&&r.value===0,ee=j?M.get("confirmPreauthorization"):Do(M,r),ae=!j&&!N&&r&&t&&Object.keys(t).length?wo(M,t):null;return V(zn,{...w,disabled:w.disabled||w.status==="loading",classNameModifiers:[...a,"pay"],label:N||ee},ae&&V(Lo,{label:ae}))},Uo=["action","resultCode","sessionData","order","sessionResult","donationToken","error"];function Kr(r){const t=[],a=Object.keys(r).reduce((N,w)=>(Uo.includes(w)?N[w]=r[w]:t.push(w),N),{});return t.length&&console.warn(`The following properties should not be passed to the client: ${t.join(", ")}`),a}function ir(r){r&&(delete r.order,delete r.action,r.donationToken&&r.donationToken.length!==0||delete r.donationToken)}function zr(r){return["Cancelled","Error","Refused"].includes(r.resultCode)?Promise.reject(r):Promise.resolve(r)}function Wr(r){return r?typeof r.activePaymentMethod=="object"&&typeof r.closeActivePaymentMethod=="function":!1}function Fo(r,t){return r==="FI"&&t?{openFirstPaymentMethod:!1,openFirstStoredPaymentMethod:!1}:{}}function Ia(r){return r&&r.orderData&&r.pspReference?{orderData:r.orderData,pspReference:r.pspReference}:null}class or extends Error{constructor(t){super(t)}}function Ft(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class at extends gr{getEventCategory(){return ut.log}constructor(t){return super(),Ft(this,"type",void 0),Ft(this,"message",void 0),Ft(this,"subType",void 0),Ft(this,"result",void 0),Ft(this,"target",void 0),this.type=t.type,this.message=t.message,this.subType=t.subType,this.result=t.result,this.target=t.target,this.component=t.component,this}}function Gr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Ge extends gr{getEventCategory(){return ut.error}constructor(t){return super(),Gr(this,"code",void 0),Gr(this,"errorType",void 0),Gr(this,"message",void 0),this.code=t.code,this.errorType=t.errorType,this.message=t.message,this.component=t.component,this}}function $e(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class kt extends Wt{buildElementProps(t){const a={showPayButton:!0,...this.core.getCorePropsForComponent(),...t?.isStoredPaymentMethod?{}:this.getPaymentMethodFromPaymentMethodsResponse(t?.type),...t},N=Wr(this);this.props=this.formatProps({...this.constructor.defaultProps,...Fo(this.core.options.countryCode,N),...a})}getPaymentMethodFromPaymentMethodsResponse(t){return this.core.paymentMethodsResponse.find(t||this.constructor.type)}storeElementRefOnCore(t){t?.isDropin||this.core.storeElementReference(this)}isAvailable(){return Promise.resolve()}setState(t){this.state={...this.state,...t},this.onChange()}showValidation(){return this.componentRef&&this.componentRef.showValidation&&this.componentRef.showValidation(),this}setElementStatus(t,a){return this.elementRef?.setStatus(t,a),this}setStatus(t,a){return this.componentRef?.setStatus&&this.componentRef.setStatus(t,a),this}onChange(){this.props.onChange?.({data:this.data,isValid:this.isValid,errors:this.state.errors,valid:this.state.valid},this.elementRef)}setUpAnalytics(t){const a=this.props.session?.id;return this.props.modules.analytics.setUp({...t,...a&&{sessionId:a}})}submitAnalytics(t){try{t.component=this.getComponent(t),this.props.modules.analytics.sendAnalytics(t)}catch(a){console.warn("Failed to submit the analytics event. Error:",a)}}getComponent({component:t}){return t||(this.constructor.analyticsType?this.constructor.analyticsType:this.constructor.type==="scheme"||this.constructor.type==="bcmc"?this.constructor.type:this.type)}submit(){this.isValid?this.makePaymentsCall().then(Kr).then(zr).then(this.handleResponse).catch(t=>{t instanceof or?this.setElementStatus("ready"):this.handleFailedResult(t)}):this.showValidation()}makePaymentsCall(){if(this.setElementStatus("loading"),this.props.onSubmit)return this.submitUsingAdvancedFlow();if(this.core.session)return(this.props.beforeSubmit?new Promise((t,a)=>this.props.beforeSubmit(this.data,this.elementRef,{resolve:t,reject:()=>a(new or("beforeSubmitRejected"))})):Promise.resolve(this.data)).then(this.submitUsingSessionsFlow);this.handleError(new i("IMPLEMENTATION_ERROR",'It can not perform /payments call. Callback "onSubmit" is missing or Checkout session is not available'))}async submitUsingAdvancedFlow(){return new Promise((t,a)=>{const N=new at({type:an,message:"Shopper clicked pay"});this.submitAnalytics(N),this.props.onSubmit({data:this.data,isValid:this.isValid},this.elementRef,{resolve:t,reject:a})})}async submitUsingSessionsFlow(t){const a=new at({type:an,message:"Shopper clicked pay"});this.submitAnalytics(a);try{return await this.core.session.submitPayment(t)}catch(N){return N instanceof i?this.handleError(N):this.handleError(new i("ERROR","Error when making /payments call",{cause:N})),Promise.reject(N)}}onComplete(t){this.props.onComplete&&this.props.onComplete(t,this.elementRef)}handleAdditionalDetails(t){this.makeAdditionalDetailsCall(t).then(Kr).then(zr).then(this.handleResponse).catch(this.handleFailedResult)}makeAdditionalDetailsCall(t){return this.props.onAdditionalDetails?new Promise((a,N)=>{this.props.onAdditionalDetails(t,this.elementRef,{resolve:a,reject:N})}):this.core.session?this.submitAdditionalDetailsUsingSessionsFlow(t.data):void this.handleError(new i("IMPLEMENTATION_ERROR",'It can not perform /payments/details call. Callback "onAdditionalDetails" is missing or Checkout session is not available'))}async submitAdditionalDetailsUsingSessionsFlow(t){try{return await this.core.session.submitDetails(t)}catch(a){return a instanceof i?this.handleError(a):this.handleError(new i("ERROR","Error when making /details call",{cause:a})),Promise.reject(a)}}handleAction(t,a={}){if(!t||!t.type)throw st(t,"action")&&st(t,"resultCode")?new Error('handleAction::Invalid Action - the passed action object itself has an "action" property and a "resultCode": have you passed in the whole response object by mistake?'):new Error('handleAction::Invalid Action - the passed action object does not have a "type" property');const N=this.core.createFromAction(t,{...this.elementRef.props,...a,onAdditionalDetails:this.handleAdditionalDetails});return N?(this.unmount(),N.mount(this._node)):null}onActionHandled(t){this.props?.onActionHandled?.({originalAction:this.props.originalAction,...t})}handleResponse(t){t.action?this.elementRef.handleAction(t.action):t.order?.remainingAmount?.value>0?this.handleOrder(t):this.handleSuccessResult(t)}handleKeyPress(t){t.key!=="Enter"&&t.code!=="Enter"||(t.preventDefault(),this.onEnterKeyPressed(document?.activeElement,this))}onEnterKeyPressed(t,a){this.props.onEnterKeyPressed?this.props.onEnterKeyPressed(t,a):(t.blur(),this.submit())}updateParent(t={}){return this.elementRef.core.update(t)}get isValid(){return!1}get icon(){const t=this.props.paymentMethodType||this.type;return this.props.icon??this.resources.getImage()(t)}get displayName(){const t=this.core.paymentMethodsResponse?.paymentMethods?.find(a=>a.type===this.type);return this.props.name||t?.name||this.type}get accessibleName(){return this.displayName}get additionalInfo(){return null}get type(){return this.props.type||this.constructor.type}async handleAdvanceFlowPaymentMethodsUpdate(t,a){return new Promise((N,w)=>{if(!this.props.onPaymentMethodsRequest)return N();this.props.onPaymentMethodsRequest({...t&&{order:{orderData:t.orderData,pspReference:t.pspReference}},locale:this.core.options.locale},{resolve:N,reject:w})}).catch(N=>{this.handleError(new i("IMPLEMENTATION_ERROR","Something failed during payment methods update or onPaymentMethodsRequest was not implemented",{cause:N}))}).then(N=>this.core.update({...N&&{paymentMethodsResponse:N},order:t,amount:t?t.remainingAmount:a}))}constructor(t,a){super(t,a),$e(this,"componentRef",void 0),$e(this,"resources",void 0),$e(this,"elementRef",void 0),$e(this,"handleError",N=>{if(this.setElementStatus("ready"),N.name===e&&N.options.code){const w=new Ge({errorType:Ke.apiError,code:N.options.code});this.submitAnalytics(w)}this.props.onError&&this.props.onError(N,this.elementRef)}),$e(this,"handleOrder",N=>{const{order:w}=N;(this.core.session?this.core.update({order:w}):this.handleAdvanceFlowPaymentMethodsUpdate(w)).then(()=>{this.props.onOrderUpdated?.({order:w})})}),$e(this,"handleFailedResult",N=>{Wr(this.elementRef)&&this.elementRef.displayFinalAnimation("error"),ir(N),this.props.onPaymentFailed?.(N,this.elementRef)}),$e(this,"handleSuccessResult",N=>{Wr(this.elementRef)&&this.elementRef.displayFinalAnimation("success"),ir(N),this.props.onPaymentCompleted?.(N,this.elementRef)}),$e(this,"setComponentRef",N=>{this.componentRef=N}),$e(this,"payButton",N=>V(Mo,{...N,amount:this.props.amount,secondaryAmount:this.props.secondaryAmount,onClick:this.submit})),this.core.register(this.constructor),this.submit=this.submit.bind(this),this.setState=this.setState.bind(this),this.onComplete=this.onComplete.bind(this),this.handleAction=this.handleAction.bind(this),this.handleOrder=this.handleOrder.bind(this),this.handleAdditionalDetails=this.handleAdditionalDetails.bind(this),this.handleResponse=this.handleResponse.bind(this),this.setElementStatus=this.setElementStatus.bind(this),this.submitAnalytics=this.submitAnalytics.bind(this),this.makePaymentsCall=this.makePaymentsCall.bind(this),this.makeAdditionalDetailsCall=this.makeAdditionalDetailsCall.bind(this),this.submitUsingSessionsFlow=this.submitUsingSessionsFlow.bind(this),this.elementRef=a&&a.elementRef||this,this.resources=this.props.modules?this.props.modules.resources:void 0,this.storeElementRefOnCore(this.props),this.onEnterKeyPressed=this.onEnterKeyPressed.bind(this),this.onActionHandled=this.onActionHandled.bind(this)}}$e(kt,"type",void 0),$e(kt,"txVariants",[]);class Wn extends K{componentDidMount(){this.formEl.submit(),this.props.onFormSubmit(`${this.props.inputName} sent`)}render({name:t,action:a,target:N,inputName:w,inputValue:M}){return V("form",{ref:j=>{this.formEl=j},method:"POST",className:Pt(["adyen-checkout__threeds2__form",`adyen-checkout__threeds2__form--${t}`]),name:t,action:a,target:N,style:{display:"none"}},V("input",{name:w,value:M}))}constructor(...t){var a,N,w;super(...t),w=void 0,(N="formEl")in(a=this)?Object.defineProperty(a,N,{value:w,enumerable:!0,configurable:!0,writable:!0}):a[N]=w}}function jr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}const Gn="threeDSIframe";class ko extends K{get3DS2ChallengePromise(){return new Promise((t,a)=>{this.processMessageHandler=Ir(this.props.postMessageDomain,t,a,"challengeResult"),window.addEventListener("message",this.processMessageHandler)})}componentDidMount(){this.challengePromise=Tr(Vi,this.get3DS2ChallengePromise(),Hi),this.challengePromise.promise.then(t=>{window.removeEventListener("message",this.processMessageHandler),this.props.onCompleteChallenge(t)}).catch(t=>{window.removeEventListener("message",this.processMessageHandler),this.props.onErrorChallenge(t)})}componentWillUnmount(){this.challengePromise&&this.challengePromise.cancel(),window.removeEventListener("message",this.processMessageHandler)}render({acsURL:t,cReqData:a,iframeSizeArr:N,onFormSubmit:w},{base64URLencodedData:M,status:j}){const[ee,ae]=N;return V("div",{className:Pt(["adyen-checkout__threeds2__challenge",`adyen-checkout__threeds2__challenge--${a.challengeWindowSize}`])},j!=="iframeLoaded"&&V(tr,null),V(Gt,{name:Gn,width:ee,height:ae,callback:this.iframeCallback}),V(Wn,{name:"cReqForm",action:t,target:Gn,inputName:"creq",inputValue:M,onFormSubmit:w}))}constructor(t){super(t),jr(this,"processMessageHandler",void 0),jr(this,"challengePromise",void 0),jr(this,"iframeCallback",()=>{this.setState({status:"iframeLoaded"}),this.state.status==="init"&&this.props.onActionHandled?.({componentType:"3DS2Challenge",actionDescription:`${$t} challenge iframe loaded`})});const a=JSON.stringify(this.props.cReqData),N=bn(a);this.state={base64URLencodedData:N,status:"init"}}}function xo(r){const{backgroundUrl:t="",className:a="",classNameModifiers:N=[],src:w="",alt:M="",showOnError:j=!1}=r,[ee,ae]=Br(!1),ce=xn(null),_e=()=>{ae(!0)},W=Pt([a],"adyen-checkout__image",{"adyen-checkout__image--loaded":ee},...N.map(Ae=>`adyen-checkout__image--${Ae}`));return kn(()=>{const Ae=t?new Image:ce.current;Ae.src=t||w,Ae.onload=_e,ae(!!Ae.complete)},[]),t?V("div",{"data-testid":"background",style:{backgroundUrl:t},...r,className:W}):V("img",{...r,alt:M,ref:ce,className:W,onError:()=>{ae(j)}})}function Bo(){const{resources:r}=rr();return Oo(t=>r?.getImage(t),[])}const ar=(r,t=!1)=>{let a;try{a=new URL(r)}catch{return!1}return t&&a.protocol==="http:"||a.protocol==="https:"};function jn(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Qn extends K{componentDidMount(){if(Zt(this.state.challengeData)){const t=this.state.challengeData.error,a=t.indexOf(ht)>-1?Fe.ACTION_IS_MISSING_TOKEN:Fe.TOKEN_DECODE_OR_PARSING_FAILED;this.setError({errorInfo:t.indexOf(ht)>-1?`${Fe.ACTION_IS_MISSING_TOKEN}: ${this.props.i18n.get("err.gen.9102")}`:`${Fe.TOKEN_DECODE_OR_PARSING_FAILED}: ${this.props.i18n.get("err.gen.9102")}`},!0);const N=new Ge({code:a,errorType:Ke.apiError,message:`${et}: ${t}`});this.props.onSubmitAnalytics(N),console.debug("### PrepareChallenge3DS2::exiting:: no challengeData")}else{const t=this.props.environment==="test"&&this.props._environmentUrls?.api?.includes("http://localhost:8080"),{acsURL:a}=this.state.challengeData;if(!ar(a,t)){this.setError({errorInfo:`${Fe.TOKEN_IS_MISSING_ACSURL}: ${this.props.i18n.get("err.gen.9102")}`},!0);const j=new Ge({code:Fe.TOKEN_IS_MISSING_ACSURL,errorType:Ke.apiError,message:`${et}: Decoded token is missing a valid acsURL property`});return this.props.onSubmitAnalytics(j),void console.debug("### PrepareChallenge3DS2::exiting:: no valid acsURL")}const{acsTransID:N,messageVersion:w,threeDSServerTransID:M}=this.state.challengeData.cReqData;if(!N||!w||!M){this.setError({errorInfo:`${Fe.TOKEN_IS_MISSING_OTHER_PROPS}: ${this.props.i18n.get("err.gen.9102")}`},!0);const j=new Ge({code:Fe.TOKEN_IS_MISSING_OTHER_PROPS,errorType:Ke.apiError,message:`${et}: Decoded token is missing one or more of the following properties (acsTransID | messageVersion | threeDSServerTransID)`});return this.props.onSubmitAnalytics(j),void console.debug("### PrepareChallenge3DS2::exiting:: missing one or more of the following properties (acsTransID | messageVersion | threeDSServerTransID)")}this.setState({status:"performingChallenge"})}}setStatusComplete(t,a=null){this.setState({status:"complete"},()=>{const N=(this.props.isMDFlow?Xi:Zi)(this.props.dataKey,t.transStatus,this.props.paymentData);let w;a&&console.debug("### PrepareChallenge3DS2::errorCodeObject::",a);const M=a||t;if(M.errorCode){const ee={code:M.errorCode==="timeout"?Fe.THREEDS2_TIMEOUT:Fe.NO_TRANSSTATUS,errorType:M.errorCode==="timeout"?Ke.network:Ke.apiError};w=new Ge({message:M.message,...ee}),this.props.onSubmitAnalytics(w)}let j;switch(t?.transStatus){case"Y":j="success";break;case"N":j="failed";break;case"U":j=a?"timeout":"cancelled"}t?.errorCode&&(j="noTransStatus"),w=new at({type:pt,message:`${$t} challenge has completed`,subType:Tt.CHALLENGE_COMPLETED,result:j}),this.props.onSubmitAnalytics(w),this.props.onComplete(N)})}setError(t,a){this.setState({status:"error",errorInfo:t.errorInfo}),a&&this.props.onError(new i(s,t.errorInfo,{cause:t.errorObj}))}render(t,{challengeData:a}){const N=Bo();return this.state.status==="performingChallenge"?V(ko,{onCompleteChallenge:w=>{let M=null;if(st(w.result,"errorCode")&&w.result.errorCode.length&&(M={errorCode:w.result.errorCode,message:`${et}: ${w.result.errorDescription?w.result.errorDescription:"no transStatus could be retrieved"}`},this.props.isMDFlow&&this.props.onError(new i(s,`${et}: ${w.result.errorDescription?w.result.errorDescription:"no transStatus could be retrieved"}`,{cause:w.result.errorCode}))),!w.result){this.setError({errorInfo:`${et}:  ${this.props.i18n.get("3ds.chal.805",{values:{result:'"result"'}})}`,errorObj:w},!0);const j=new Ge({code:Fe.CHALLENGE_RESOLVED_WITHOUT_RESULT_PROP,errorType:Ke.apiError,message:`${et}: challenge resolved without a "result" object`});return this.props.onSubmitAnalytics(j),void console.debug('### PrepareChallenge3DS2::exiting:: challenge resolved without a "result" object')}this.setStatusComplete(w.result,M)},onErrorChallenge:w=>{if(st(w,"errorCode")){const M={errorCode:w.errorCode,message:`${yn}: ${w.errorCode}`};return this.props.isMDFlow&&this.props.onError(new i(s,`${et}: '3DS2 challenge timed out'`,{cause:w.errorCode})),void this.setStatusComplete(w.result,M)}},...a,onActionHandled:this.props.onActionHandled,onFormSubmit:this.onFormSubmit}):this.state.status==="error"?V("div",{className:"adyen-checkout__threeds2-challenge-error"},V(xo,{className:"adyen-checkout__status__icon adyen-checkout__status__icon--error",src:N({imageFolder:"components/"})("error"),alt:""}),V("div",{className:"adyen-checkout__status__text"},this.state.errorInfo?this.state.errorInfo:this.props.i18n.get("error.message.unknown"))):null}constructor(t){if(super(t),jn(this,"onFormSubmit",a=>{const N=new at({type:pt,message:a,subType:Tt.CHALLENGE_DATA_SENT});this.props.onSubmitAnalytics(N)}),this.props.token){const a=Gi({token:this.props.token,size:this.props.challengeWindowSize||this.props.size});this.state={status:"init",challengeData:a}}else this.state={challengeData:{success:!1,error:ht}},console.debug(`${et}: ${ht}`)}}jn(Qn,"defaultProps",{onComplete:()=>{},onError:()=>{},isMDFlow:!1});var mt=function(r){return r.address="address",r.bankTransfer_IBAN="bankTransfer_IBAN",r.donation="donation",r.personal_details="personal_details",r.dropin="dropin",r.bcmc="bcmc",r.card="card",r.scheme="scheme",r.storedCard="storedCard",r.customCard="customcard",r.threeDS2Challenge="threeDS2Challenge",r.threeDS2Fingerprint="threeDS2Fingerprint",r.threeDS2DeviceFingerprint="threeDS2DeviceFingerprint",r.ach="ach",r.directdebit_GB="directdebit_GB",r.sepadirectdebit="sepadirectdebit",r.eft_directdebit_CA="eft_directdebit_CA",r.affirm="affirm",r.afterpay="afterpay",r.afterpay_default="afterpay_default",r.afterpay_b2b="afterpay_b2b",r.atome="atome",r.facilypay_3x="facilypay_3x",r.facilypay_4x="facilypay_4x",r.facilypay_6x="facilypay_6x",r.facilypay_10x="facilypay_10x",r.facilypay_12x="facilypay_12x",r.ratepay="ratepay",r.ratepay_directdebit="ratepay_directdebit",r.amazonpay="amazonpay",r.applepay="applepay",r.cashapp="cashapp",r.clicktopay="clicktopay",r.googlepay="googlepay",r.paypal="paypal",r.fastlane="fastlane",r.paywithgoogle="paywithgoogle",r.boletobancario="boletobancario",r.boletobancario_itau="boletobancario_itau",r.boletobancario_santander="boletobancario_santander",r.primeiropay_boleto="primeiropay_boleto",r.doku="doku",r.doku_alfamart="doku_alfamart",r.doku_permata_lite_atm="doku_permata_lite_atm",r.doku_indomaret="doku_indomaret",r.doku_atm_mandiri_va="doku_atm_mandiri_va",r.doku_sinarmas_va="doku_sinarmas_va",r.doku_mandiri_va="doku_mandiri_va",r.doku_cimb_va="doku_cimb_va",r.doku_danamon_va="doku_danamon_va",r.doku_bri_va="doku_bri_va",r.doku_bni_va="doku_bni_va",r.doku_bca_va="doku_bca_va",r.doku_wallet="doku_wallet",r.oxxo="oxxo",r.billdesk_online="billdesk_online",r.billdesk_wallet="billdesk_wallet",r.dotpay="dotpay",r.eps="eps",r.molpay_ebanking_fpx_MY="molpay_ebanking_fpx_MY",r.molpay_ebanking_TH="molpay_ebanking_TH",r.molpay_ebanking_VN="molpay_ebanking_VN",r.onlineBanking_CZ="onlineBanking_CZ",r.onlinebanking_IN="onlinebanking_IN",r.onlineBanking_PL="onlineBanking_PL",r.onlineBanking_SK="onlineBanking_SK",r.paybybank="paybybank",r.payu_IN_cashcard="payu_IN_cashcard",r.payu_IN_nb="payu_IN_nb",r.wallet_IN="wallet_IN",r.dragonpay="dragonpay",r.dragonpay_ebanking="dragonpay_ebanking",r.dragonpay_otc_banking="dragonpay_otc_banking",r.dragonpay_otc_non_banking="dragonpay_otc_non_banking",r.dragonpay_otc_philippines="dragonpay_otc_philippines",r.econtext="econtext",r.econtext_atm="econtext_atm",r.econtext_online="econtext_online",r.econtext_seven_eleven="econtext_seven_eleven",r.econtext_stores="econtext_stores",r.giropay="giropay",r.multibanco="multibanco",r.redirect="redirect",r.twint="twint",r.vipps="vipps",r.trustly="trustly",r.paybybank_AIS_DD="paybybank_AIS_DD",r.riverty="riverty",r.paybybank_pix="paybybank_pix",r.klarna="klarna",r.klarna_account="klarna_account",r.klarna_paynow="klarna_paynow",r.klarna_b2b="klarna_b2b",r.bcmc_mobile="bcmc_mobile",r.bcmc_mobile_QR="bcmc_mobile_QR",r.pix="pix",r.swish="swish",r.wechatpay="wechatpay",r.wechatpayQR="wechatpayQR",r.promptpay="promptpay",r.paynow="paynow",r.duitnow="duitnow",r.blik="blik",r.mbway="mbway",r.ancv="ancv",r.payto="payto",r.upi="upi",r.upi_qr="upi_qr",r.upi_collect="upi_collect",r.upi_intent="upi_intent",r.giftcard="giftcard",r.mealVoucher_FR="mealVoucher_FR",r.mealVoucher_FR_natixis="mealVoucher_FR_natixis",r.mealVoucher_FR_sodexo="mealVoucher_FR_sodexo",r.mealVoucher_FR_groupeup="mealVoucher_FR_groupeup",r}({});function sr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Qr extends kt{onComplete(t){t&&super.onComplete(t),this.unmount()}render(){if(!Dr(this.props.paymentData)){const t=st(this.props,"isMDFlow")?"paymentData":"authorisationToken";this.props.onError(new i(n,`No ${t} received. 3DS2 Challenge cannot proceed`));const a=new Ge({code:Fe.ACTION_IS_MISSING_PAYMENT_DATA,errorType:Ke.apiError,message:`${et}: Missing 'paymentData' property from threeDS2 action`});return this.submitAnalytics(a),null}return V(Kn,{i18n:this.props.i18n,loadingContext:this.props.loadingContext,resources:this.resources},V(Qn,{...this.props,onComplete:this.onComplete,onSubmitAnalytics:this.submitAnalytics,isMDFlow:this.props.paymentData.length<15,onActionHandled:this.onActionHandled}))}constructor(...t){super(...t),sr(this,"submitAnalytics",a=>{a instanceof Ar&&a.type===yr||super.submitAnalytics(a)}),sr(this,"onActionHandled",a=>{const N=new at({type:pt,message:a.actionDescription,subType:Tt.CHALLENGE_IFRAME_LOADED});this.submitAnalytics(N),super.onActionHandled(a)})}}sr(Qr,"type",mt.threeDS2Challenge),sr(Qr,"defaultProps",{dataKey:"threeDSResult",size:vn,type:yn});function $r(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}const $n="threeDSMethodIframe";class Zn extends K{get3DS2MethodPromise(){return new Promise((t,a)=>{this.processMessageHandler=Ir(this.props.postMessageDomain,t,a,"fingerPrintResult"),window.addEventListener("message",this.processMessageHandler)})}componentDidMount(){this.fingerPrintPromise=Tr(Bi,this.get3DS2MethodPromise(),Yi),this.fingerPrintPromise.promise.then(t=>{window.removeEventListener("message",this.processMessageHandler),this.props.onCompleteFingerprint(t)}).catch(t=>{window.removeEventListener("message",this.processMessageHandler),this.props.onErrorFingerprint(t)})}componentWillUnmount(){this.fingerPrintPromise&&this.fingerPrintPromise.cancel(),window.removeEventListener("message",this.processMessageHandler)}render({threeDSMethodURL:t,onActionHandled:a,onFormSubmit:N},{base64URLencodedData:w}){return V("div",{className:"adyen-checkout__3ds2-device-fingerprint"},this.props.showSpinner&&V(tr,null),V("div",{style:{display:"none"}},V(Gt,{name:$n,callback:()=>{a?.({componentType:"3DS2Fingerprint",actionDescription:`${$t} fingerprint iframe loaded`})}}),V(Wn,{name:"threeDSMethodForm",action:t,target:$n,inputName:"threeDSMethodData",inputValue:w,onFormSubmit:N})))}constructor(t){super(t),$r(this,"processMessageHandler",void 0),$r(this,"fingerPrintPromise",void 0);const{threeDSServerTransID:a,threeDSMethodNotificationURL:N}=this.props,w=JSON.stringify({threeDSServerTransID:a,threeDSMethodNotificationURL:N}),M=bn(w);this.state={base64URLencodedData:M}}}$r(Zn,"defaultProps",{showSpinner:!0});function Zr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Xr extends K{componentDidMount(){if(Zt(this.state.fingerPrintData)){const t=this.state.fingerPrintData.error,a=t.indexOf(ht)>-1?Fe.ACTION_IS_MISSING_TOKEN:Fe.TOKEN_DECODE_OR_PARSING_FAILED;this.setStatusComplete({threeDSCompInd:"N"},{errorCode:a,message:`${Rt}: ${t}`}),console.debug("### PrepareFingerprint3DS2:: token does not exist or could not be base64 decoded &/or JSON.parsed")}else{const t=this.props.environment==="test"&&this.props._environmentUrls?.api?.includes("http://localhost:8080"),{threeDSMethodURL:a,threeDSMethodNotificationURL:N,postMessageDomain:w,threeDSServerTransID:M}=this.state.fingerPrintData;if(!ar(a,t))return this.setStatusComplete({threeDSCompInd:"U"},{errorCode:Fe.TOKEN_IS_MISSING_THREEDSMETHODURL,message:`${Rt}: Decoded token is missing a valid threeDSMethodURL property`}),void console.debug("### PrepareFingerprint3DS2::exiting:: no valid threeDSMethodURL");const j=ar(N,t),ee=ar(w,t),ae=M?.length;if(!j||!ee||!ae)return this.setStatusComplete({threeDSCompInd:"N"},{errorCode:Fe.TOKEN_IS_MISSING_OTHER_PROPS,message:`${Rt}: Decoded token is missing one or more of the following properties (threeDSMethodNotificationURL | postMessageDomain | threeDSServerTransID)`}),void console.debug("### PrepareFingerprint3DS2::exiting:: Decoded token is missing one or more of the following properties (threeDSMethodNotificationURL | postMessageDomain | threeDSServerTransID)");this.setState({status:"retrievingFingerPrint"})}}setStatusComplete(t,a=null){this.setState({status:"complete"},()=>{const N=(this.props.isMDFlow?$i:Qi)(this.props.dataKey,t,this.props.paymentData);let w;const M=a||t;if(M.errorCode){const ee={code:M.errorCode===bt?Fe.THREEDS2_TIMEOUT:M.errorCode,errorType:M.errorCode===bt?Ke.network:Ke.apiError};w=new Ge({message:M.message,...ee}),this.props.onSubmitAnalytics(w)}let j;switch(t?.threeDSCompInd){case"Y":j="success";break;case"N":j=a?a.errorCode===bt?bt:"failedInternal":"failed";break;case"U":j="noThreeDSMethodURL"}w=new at({type:pt,message:`${$t} fingerprinting has completed`,subType:Tt.FINGERPRINT_COMPLETED,result:j}),this.props.onSubmitAnalytics(w),this.props.onComplete(N)})}render({showSpinner:t},{status:a,fingerPrintData:N}){return a==="retrievingFingerPrint"?V(Zn,{onCompleteFingerprint:w=>{this.setStatusComplete(w.result)},onErrorFingerprint:w=>{const M={errorCode:w.errorCode,message:`${_n}: ${w.errorCode}`};this.setStatusComplete(w.result,M)},showSpinner:t,...N,onActionHandled:this.props.onActionHandled,onFormSubmit:this.onFormSubmit}):null}constructor(t){super(t),Zr(this,"onFormSubmit",w=>{const M=new at({type:pt,message:w,subType:Tt.FINGERPRINT_DATA_SENT});this.props.onSubmitAnalytics(M)});const{token:a,notificationURL:N}=this.props;if(a){const w=ji({token:a,notificationURL:N});this.state={status:"init",fingerPrintData:w}}else this.state={fingerPrintData:{success:!1,error:ht}},console.debug(`${Rt}: ${ht}`)}}Zr(Xr,"type","scheme"),Zr(Xr,"defaultProps",{onComplete:()=>{},onError:()=>{},paymentData:"",showSpinner:!0,isMDFlow:!1});function Vo({data:r}){ot({path:`v1/submitThreeDS2Fingerprint?token=${this.props.clientKey}`,loadingContext:this.props.loadingContext,errorLevel:"fatal",errorCode:qt.submitThreeDS2Fingerprint},{...r}).then(t=>{let a;if(t.type==="completed"){const{details:w}=t;return t.details?this.onComplete({data:{details:w}}):(console.debug('Handled Error::callSubmit3DS2Fingerprint::FAILED:: no details object in a response indicating either a "frictionless" flow, or a "refused" response. resData=',t),a=new Ge({code:Fe.NO_DETAILS_FOR_FRICTIONLESS_OR_REFUSED,errorType:Ke.apiError,message:`${Sr}: no details object in a response indicating either a "frictionless" flow, or a "refused" response`}),void this.submitAnalytics(a))}if(!t.action)return console.debug('Handled Error::callSubmit3DS2Fingerprint::FAILED:: no action object in a response indicating a "challenge". resData=',t),a=new Ge({code:Fe.NO_ACTION_FOR_CHALLENGE,errorType:Ke.apiError,message:`${Sr}: no action object in a response indicating a "challenge" flow`}),void this.submitAnalytics(a);const N=this.props.elementRef??this;return N?t.action?.type==="threeDS2"?N.handleAction(t.action,Lr("challengeWindowSize").from(this.props)):t.action?.type==="redirect"?N.handleAction(t.action):void 0:(console.debug("Handled Error::callSubmit3DS2Fingerprint::FAILED:: no actionHandler"),a=new Ge({code:Fe.NO_COMPONENT_FOR_ACTION,errorType:Ke.sdkError,message:`${Sr}: no component defined to handle the action response`}),void this.submitAnalytics(a))}).catch(t=>{this.handleError(t)})}function xt(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Jr extends kt{onComplete(t){super.onComplete(t),this.unmount()}render(){if(!Dr(this.props.paymentData)){this.props.onError(new i(n,"No paymentData received. 3DS2 Fingerprint cannot proceed"));const t=new Ge({code:Fe.ACTION_IS_MISSING_PAYMENT_DATA,errorType:Ke.apiError,message:`${Rt}: Missing 'paymentData' property from threeDS2 action`});return this.submitAnalytics(t),null}return V(Xr,{...this.props,onComplete:this.props.isMDFlow?this.onComplete:this.callSubmit3DS2Fingerprint,onSubmitAnalytics:this.submitAnalytics,isMDFlow:this.props.paymentData.length<15,onActionHandled:this.onActionHandled})}constructor(...t){super(...t),xt(this,"callSubmit3DS2Fingerprint",Vo.bind(this)),xt(this,"submitAnalytics",a=>{a instanceof Ar&&a.type===yr||super.submitAnalytics(a)}),xt(this,"onActionHandled",a=>{const N=new at({type:pt,message:a.actionDescription,subType:Tt.FINGERPRINT_IFRAME_LOADED});this.submitAnalytics(N),super.onActionHandled(a)})}}xt(Jr,"type",mt.threeDS2Fingerprint),xt(Jr,"defaultProps",{dataKey:"fingerprintResult",type:_n});var Xn=()=>{try{if(window.parent.location.href)return window.location!==window.parent.location}catch{return!1}};function Jn(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class qn extends K{componentDidMount(){new Promise((t,a)=>{this.props.beforeRedirect(t,a,{url:this.props.url,method:this.props.method,...this.props.data?{data:this.props.data}:{}})}).then(()=>{this.props.onActionHandled?.({componentType:this.props.paymentMethodType,actionDescription:"performing-redirect"}),this.postForm?this.postForm.submit():this.props.redirectFromTopWhenInIframe&&Xn()?window.top.location.assign?.(this.props.url):window.location.assign(this.props.url)}).catch(()=>{this.props.onRedirectError()})}render({url:t,method:a,data:N={}}){return a==="POST"?V("form",{method:"post","data-testid":"redirect-shopper-form",action:t,style:{display:"none"},ref:w=>{this.postForm=w},...this.props.redirectFromTopWhenInIframe&&Xn()&&{target:"_top"}},Object.keys(N).map(w=>V("input",{type:"hidden",name:w,key:w,value:N[w]}))):null}constructor(...t){super(...t),Jn(this,"postForm",void 0)}}Jn(qn,"defaultProps",{beforeRedirect:r=>r(),onRedirectError:()=>{},method:"GET"});function Ho({label:r=null,icon:t=null,payButton:a,onSubmit:N,amount:w=null,name:M,showPayButton:j,...ee}){const{i18n:ae}=rr(),[ce,_e]=Br("ready");if(this.setStatus=W=>{_e(W)},j)return V(k,null,a({...ee,status:ce,icon:t,classNameModifiers:["standalone"],label:r||(w&&{}.hasOwnProperty.call(w,"value")&&w.value===0?`${ae.get("preauthorizeWith")} ${M}`:`${ae.get("continueTo")} ${M}`),onClick:N}))}function qr(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class Bt extends kt{formatData(){return{paymentMethod:{type:this.type},browserInfo:this.browserInfo}}get isValid(){return!0}get browserInfo(){return Pn()}render(){return this.props.url&&this.props.method?V(qn,{url:this.props.url,...this.props,onActionHandled:this.onActionHandled,onRedirectError:this.handleRedirectError}):this.props.showPayButton?V(Kn,{i18n:this.props.i18n,loadingContext:this.props.loadingContext,resources:this.resources},V(Ho,{...this.props,showPayButton:this.props.showPayButton,name:this.displayName,onSubmit:this.submit,payButton:this.payButton,ref:t=>{this.componentRef=t}})):null}constructor(...t){super(...t),qr(this,"handleRedirectError",()=>{const a=new Ge({component:this.props.paymentMethodType,errorType:Ke.redirect,code:li.redirect});super.submitAnalytics(a)})}}qr(Bt,"type",mt.redirect),qr(Bt,"defaultProps",{type:Bt.type});function ei(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}const Yo={[mt.redirect]:Bt,[mt.threeDS2Challenge]:Qr,[mt.threeDS2DeviceFingerprint]:Jr};var Vt=new class{add(...r){this.componentsMap={...this.componentsMap,...this.createComponentsMap(r)}}getComponent(r){return this.componentsMap[r]||(this.supportedTxVariants.has(r)?void 0:Bt)}createComponentsMap(r){return r.reduce((t,a)=>{var N;return typeof(N=a).type=="string"&&N.type?(a.type==="dropin"||[a.type,...a.txVariants].filter(w=>w).forEach(w=>{t={...t,[w]:a}}),t):(console.error("CoreRegistry: Attempt to register Class failed. The Class is not a valid UIElement"),t)},{})}constructor(){ei(this,"componentsMap",Yo),ei(this,"supportedTxVariants",new Set(Object.values(mt)))}};const Ko="en-US";async function zo(r,t,a){try{return await Nn({loadingContext:r,errorLevel:"fatal",errorMessage:`Translations: Failed to fetch translations for locale "${a}"`,path:`sdk/${t}/translations/${a}.json`})}catch{return await Nn({loadingContext:r,errorLevel:"fatal",errorMessage:`Translations: Couldn't fetch translation for locale "${a}" nor the fallback translation "en-US"`,path:`sdk/${t}/translations/en-US.json`})}}const Wo={exposeLibraryMetadata:!0,showPayButton:!0},Go={test:"https://checkoutshopper-test.adyen.com/checkoutshopper/",live:"https://checkoutshopper-live.adyen.com/checkoutshopper/","live-us":"https://checkoutshopper-live-us.adyen.com/checkoutshopper/","live-au":"https://checkoutshopper-live-au.adyen.com/checkoutshopper/","live-apse":"https://checkoutshopper-live-apse.adyen.com/checkoutshopper/","live-in":"https://checkoutshopper-live-in.adyen.com/checkoutshopper/",fallback:"https://checkoutshopper-live.adyen.com/checkoutshopper/"},ti={test:"https://checkoutshopper-test.cdn.adyen.com/checkoutshopper/",live:"https://checkoutshopper-live.cdn.adyen.com/checkoutshopper/","live-us":"https://checkoutshopper-live-us.cdn.adyen.com/checkoutshopper/","live-au":"https://checkoutshopper-live-au.cdn.adyen.com/checkoutshopper/","live-apse":"https://checkoutshopper-live-apse.cdn.adyen.com/checkoutshopper/","live-in":"https://checkoutshopper-live-in.cdn.adyen.com/checkoutshopper/",fallback:"https://checkoutshopper-live.cdn.adyen.com/checkoutshopper/"},jo={test:"https://checkoutanalytics-test.adyen.com/checkoutanalytics/",live:"https://checkoutanalytics-live.adyen.com/checkoutanalytics/","live-us":"https://checkoutanalytics-live-us.adyen.com/checkoutanalytics/","live-au":"https://checkoutanalytics-live-au.adyen.com/checkoutanalytics/","live-apse":"https://checkoutanalytics-live-apse.adyen.com/checkoutanalytics/","live-in":"https://checkoutanalytics-live-in.adyen.com/checkoutanalytics/",fallback:"https://checkoutanalytics-live.adyen.com/checkoutanalytics/"},cr=(r,t,a)=>a||t[r?.toLowerCase()]||t.fallback,Qo=(r,t)=>({apiUrl:cr(r,Go,t?.api),analyticsUrl:cr(r,jo,t?.analytics),cdnImagesUrl:cr(r,ti,t?.cdn?.images),cdnTranslationsUrl:cr(r,ti,t?.cdn?.translations)});function ze(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}class rt{static setBundleType(t){rt.metadata.bundleType=t}static register(...t){Vt.add(...t)}register(...t){Vt.add(...t)}getComponent(t){return Vt.getComponent(t)}async initialize(){return await this.initializeCore(),this.validateCoreConfiguration(),await this.createCoreModules(),this}async initializeCore(){return this.session?this.session.setupSession(this.options).then(t=>{const{amount:a,shopperLocale:N,countryCode:w,paymentMethods:M,...j}=t;return this.setOptions({...j,amount:this.options.order?this.options.order.remainingAmount:a,locale:this.options.locale||N,countryCode:this.options.countryCode||w}),this.createPaymentMethodsList(M),this}).catch(t=>(this.options.onError&&this.options.onError(t),Promise.reject(t))):(this.createPaymentMethodsList(),Promise.resolve(this))}async fetchLocaleTranslations(){try{return await zo(this.cdnTranslationsUrl,rt.metadata.version,this.options.locale)}catch(t){t instanceof i?this.options.onError?.(t):this.options.onError?.(new i("ERROR","Failed to fetch translation",{cause:t}))}}validateCoreConfiguration(){if(this.options.paymentMethodsConfiguration&&console.warn('WARNING:  "paymentMethodsConfiguration" is supported only by Drop-in.'),!this.options.countryCode)throw new i(A,"You must specify a countryCode when initializing checkout.");this.options.locale||this.setOptions({locale:Ko}),this.options.locale=m(this.options.locale),this.options.translations=h(this.options.translations)}submitDetails(t){let a=null;this.options.onAdditionalDetails&&(a=new Promise((N,w)=>{this.options.onAdditionalDetails({data:t},void 0,{resolve:N,reject:w})})),this.session&&(a=this.session.submitDetails(t).catch(N=>(this.options.onError?.(N),Promise.reject(N)))),a?a.then(Kr).then(zr).then(this.afterAdditionalDetails).then(N=>{ir(N),this.options.onPaymentCompleted?.(N)}).catch(N=>{N instanceof or||(ir(N),this.options.onPaymentFailed?.(N))}):this.options.onError?.(new i("IMPLEMENTATION_ERROR",'It can not submit the details. The callback "onAdditionalDetails" or the Session is not setup correctly.'))}createFromAction(t,a={}){if(!t||!t.type)throw st(t,"action")&&st(t,"resultCode")?new Error('createFromAction::Invalid Action - the passed action object itself has an "action" property and a "resultCode": have you passed in the whole response object by mistake?'):new Error('createFromAction::Invalid Action - the passed action object does not have a "type" property');if(t.type){const N=t.type===pt?`${t.type}${t.subtype}`:t.paymentMethodType,w=new at({type:ui,subType:t.type,message:`${N} action was handled by the SDK`,component:N});this.modules.analytics.sendAnalytics(w);const M={...this.getCorePropsForComponent(),...a};return ro(this,Vt,t,M)}return this.handleCreateError()}getCorePropsForComponent(){return{...ho(this.options),core:this,i18n:this.modules.i18n,modules:this.modules,session:this.session,loadingContext:this.loadingContext,cdnContext:this.cdnImagesUrl,createFromAction:this.createFromAction}}storeElementReference(t){t&&this.components.push(t)}handleCreateError(t){const a=t?`${t?.name??"The passed payment method"} is not a valid Checkout Component. What was passed as a txVariant was: ${JSON.stringify(t)}. Check if this payment method is configured in the Backoffice or if the txVariant is a valid one`:"No Payment Method component was passed";throw new Error(a)}createPaymentMethodsList(t){this.paymentMethodsResponse=new xi(this.options.paymentMethodsResponse||t,this.options)}async createCoreModules(){if(this.modules)return;const t=await this.fetchLocaleTranslations();this.modules=Object.freeze({risk:new St(this,{...this.options,loadingContext:this.loadingContext}),analytics:po({loadingContext:this.loadingContext,analyticsContext:this.analyticsContext,clientKey:this.options.clientKey,locale:this.options.locale,analytics:this.options.analytics,amount:this.options.amount,bundleType:rt.metadata.bundleType}),resources:new Io(this.cdnImagesUrl),i18n:new E({locale:this.options.locale,translations:t,customTranslations:this.options.translations}),srPanel:new Yr(this,{...this.options.srConfig})})}constructor(t){ze(this,"session",void 0),ze(this,"paymentMethodsResponse",void 0),ze(this,"modules",void 0),ze(this,"options",void 0),ze(this,"analyticsContext",void 0),ze(this,"loadingContext",void 0),ze(this,"cdnImagesUrl",void 0),ze(this,"cdnTranslationsUrl",void 0),ze(this,"components",[]),ze(this,"afterAdditionalDetails",ee=>{if(this.options.afterAdditionalDetails&&ee?.action){const ae=this.createFromAction(ee.action);return this.options.afterAdditionalDetails(ae),Promise.reject(new or("Handled by afterAdditionalDetails"))}return Promise.resolve(ee)}),ze(this,"update",(ee={})=>(this.setOptions(ee),this.initialize().then(()=>(this.components.forEach(ae=>{const ce={...ee,...this.session&&{session:this.session}};ae.update(ce)}),this)))),ze(this,"remove",ee=>(this.components=this.components.filter(ae=>ae._id!==ee._id),ee.unmount(),this)),ze(this,"setOptions",ee=>{this.options={...this.options,...ee,locale:ee?.locale||this.options?.locale}}),fo(t),this.createFromAction=this.createFromAction.bind(this),this.setOptions({...Wo,...t});const{apiUrl:a,analyticsUrl:N,cdnImagesUrl:w,cdnTranslationsUrl:M}=Qo(this.options.environment,this.options._environmentUrls);this.loadingContext=a,this.analyticsContext=N,this.cdnImagesUrl=w,this.cdnTranslationsUrl=M,this.session=this.options.session&&new To(this.options.session,this.options.clientKey,this.loadingContext);const j=this.options.clientKey?.substring(0,4);if((j==="test"||j==="live")&&!this.loadingContext.includes(j))throw new i("IMPLEMENTATION_ERROR",`Error: you are using a ${j} clientKey against the ${this.options._environmentUrls?.api||this.options.environment} environment`);j==="pub."&&console.debug(`The value you are passing as your "clientKey" looks like an originKey (${this.options.clientKey?.substring(0,12)}..). Although this is supported it is not the recommended way to integrate. To generate a clientKey, see the documentation (https://docs.adyen.com/development-resources/client-side-authentication/migrate-from-origin-key-to-client-key/) for more details.`),this.options.exposeLibraryMetadata&&(window.AdyenWebMetadata=rt.metadata)}}ze(rt,"metadata",{version:"6.17.0",bundleType:"esm"}),ze(rt,"registry",Vt);async function en(r){return await new rt(r).initialize()}en.register=(...r)=>{rt.register(...r)},en.setBundleType=r=>{rt.setBundleType(r)}},68980:(ve,ne,x)=>{"use strict";x.r(ne),x.d(ne,{medium:()=>A,small:()=>_});var Z=x(44349),e=x(44489);const _=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 16 16",ref:o,...s,children:(0,e.jsx)("path",{d:"M1 5.75a2.75 2.75 0 0 1 2.75-2.75h8.5a2.75 2.75 0 0 1 2.75 2.75v4.5a2.75 2.75 0 0 1-2.75 2.75h-8.5a2.75 2.75 0 0 1-2.75-2.75zm2.75-1.25c-.69 0-1.25.56-1.25 1.25v.25h11v-.25c0-.69-.56-1.25-1.25-1.25zm9.75 3h-11v2.75c0 .69.56 1.25 1.25 1.25h8.5c.69 0 1.25-.56 1.25-1.25zm-9.583 1.75a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75"})})}),{__al_size:"small"}),A=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 24 24",ref:o,...s,children:(0,e.jsx)("path",{d:"M2 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4h-12a4 4 0 0 1-4-4zm4-2a2 2 0 0 0-2 2v1h16v-1a2 2 0 0 0-2-2zm14 5h-16v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-14 3a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1"})})}),{__al_size:"medium"})},69209:(ve,ne,x)=>{"use strict";x.r(ne),x.d(ne,{medium:()=>A,small:()=>_});var Z=x(44349),e=x(44489);const _=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 16 16",ref:o,...s,children:(0,e.jsx)("path",{d:"M6.22 4.97a.75.75 0 0 1 1.06 0l2.5 2.5a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 1 1-1.06-1.06l1.97-1.97-1.97-1.97a.75.75 0 0 1 0-1.06"})})}),{__al_size:"small",__al_flipOnRtl:!0}),A=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsx)("svg",{viewBox:"0 0 24 24",ref:o,...s,children:(0,e.jsx)("path",{d:"M9.293 7.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414l3.293-3.293-3.293-3.293a1 1 0 0 1 0-1.414"})})}),{__al_size:"medium",__al_flipOnRtl:!0})},69449:(ve,ne,x)=>{"use strict";x.d(ne,{A:()=>_});var Z=x(44349);function e(A,n){n===void 0&&(n=0);var s=(0,Z.useRef)(!1),o=(0,Z.useRef)(),c=(0,Z.useRef)(A),i=(0,Z.useCallback)(function(){return s.current},[]),m=(0,Z.useCallback)(function(){s.current=!1,o.current&&clearTimeout(o.current),o.current=setTimeout(function(){s.current=!0,c.current()},n)},[n]),h=(0,Z.useCallback)(function(){s.current=null,o.current&&clearTimeout(o.current)},[]);return(0,Z.useEffect)(function(){c.current=A},[A]),(0,Z.useEffect)(function(){return m(),h},[n]),[i,h,m]}function _(A,n,s){n===void 0&&(n=0),s===void 0&&(s=[]);var o=e(A,n),c=o[0],i=o[1],m=o[2];return(0,Z.useEffect)(m,s),[c,i]}},78189:(ve,ne,x)=>{"use strict";x.d(ne,{A:()=>h});var Z=x(44349);const _=Z[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],n=p=>{const f=Z.useRef(p);return Z.useEffect(()=>{f.current=p}),f};function s(){}function o(p,f,T={}){const O=m(T.polyfill),b=n(f);return _(()=>{let P=!1;const d=p&&"current"in p?p.current:p;if(!d)return s;function u(I,E){P||b.current(I,E)}return O.subscribe(d,u),()=>{P=!0,O.unsubscribe(d,u)}},[p,O,b]),O.observer}function c(p){let f=!1,T=[];const O=new Map,b=new(p||window.ResizeObserver)((P,d)=>{T=T.concat(P);function u(){const I=new Set;for(let E=0;E<T.length;E++){if(I.has(T[E].target))continue;I.add(T[E].target);const g=O.get(T[E].target);g?.forEach(C=>C(T[E],d))}T=[],f=!1}f||window.requestAnimationFrame(u),f=!0});return{observer:b,subscribe(P,d){var u;b.observe(P);const I=(u=O.get(P))!==null&&u!==void 0?u:[];I.push(d),O.set(P,I)},unsubscribe(P,d){var u;const I=(u=O.get(P))!==null&&u!==void 0?u:[];if(I.length===1){b.unobserve(P),O.delete(P);return}const E=I.indexOf(d);E!==-1&&I.splice(E,1),O.set(P,I)}}}let i;const m=p=>i||(i=c(p)),h=o},78850:(ve,ne,x)=>{"use strict";const Z=x(50355),e=x(41218),_=x(91540).TF,A={},n={},s={},o={},c={};Z.forEach(function(E){const g=E;n[g[0]]=g[1],s[g[1]]=g[0],o[g[2]]=g[0],c[g[0]]=g[2]});function i(E){return("000"+(E||"")).slice(-3)}function m(E,g){return Object.prototype.hasOwnProperty.call(E,g)}function h(E,g){return Object.keys(E).reduce(function(C,v){const y=E[v];return C[v]=g(y,v),C},{})}function p(E,g){switch(E){case"official":return Array.isArray(g)?g[0]:g;case"all":return typeof g=="string"?[g]:g;case"alias":return Array.isArray(g)?g[1]||g[0]:g;default:throw new TypeError("LocaleNameType must be one of these: all, official, alias!")}}ne.registerLocale=function(E){if(!E.locale)throw new TypeError("Missing localeData.locale");if(!E.countries)throw new TypeError("Missing localeData.countries");A[E.locale]=E.countries};function f(E){return s[E]}ne.alpha3ToAlpha2=f;function T(E){return n[E]}ne.alpha2ToAlpha3=T;function O(E){return c[f(E)]}ne.alpha3ToNumeric=O;function b(E){return c[E]}ne.alpha2ToNumeric=b;function P(E){const g=i(E);return T(o[g])}ne.numericToAlpha3=P;function d(E){const g=i(E);return o[g]}ne.numericToAlpha2=d;function u(E){if(typeof E=="string"){if(/^[0-9]*$/.test(E))return P(E);if(E.length===2)return T(E.toUpperCase());if(E.length===3)return E.toUpperCase()}if(typeof E=="number")return P(E)}ne.toAlpha3=u;function I(E){if(typeof E=="string"){if(/^[0-9]*$/.test(E))return d(E);if(E.length===2)return E.toUpperCase();if(E.length===3)return f(E.toUpperCase())}if(typeof E=="number")return d(E)}ne.toAlpha2=I,ne.getName=function(E,g,C={}){"select"in C||(C.select="official");try{const y=A[g.toLowerCase()][I(E)];return p(C.select,y)}catch{return}},ne.getNames=function(E,g={}){"select"in g||(g.select="official");const C=A[E.toLowerCase()];return C===void 0?{}:h(C,function(v){return p(g.select,v)})},ne.getAlpha2Code=function(E,g){const C=y=>y.toLowerCase(),v=(y,l)=>C(y)===C(l);try{const y=A[g.toLowerCase()];for(const l in y)if(m(y,l)){if(typeof y[l]=="string"&&v(y[l],E))return l;if(Array.isArray(y[l])){for(const R of y[l])if(v(R,E))return l}}return}catch{return}},ne.getSimpleAlpha2Code=function(E,g){const C=y=>_(y.toLowerCase()),v=(y,l)=>C(y)===C(l);try{const y=A[g.toLowerCase()];for(const l in y)if(m(y,l)){if(typeof y[l]=="string"&&v(y[l],E))return l;if(Array.isArray(y[l])){for(const R of y[l])if(v(R,E))return l}}return}catch{return}},ne.getAlpha2Codes=function(){return n},ne.getAlpha3Code=function(E,g){const C=ne.getAlpha2Code(E,g);if(C)return ne.toAlpha3(C)},ne.getSimpleAlpha3Code=function(E,g){const C=ne.getSimpleAlpha2Code(E,g);if(C)return ne.toAlpha3(C)},ne.getAlpha3Codes=function(){return s},ne.getNumericCodes=function(){return o},ne.langs=function(){return Object.keys(A)},ne.getSupportedLanguages=function(){return e},ne.isValid=function(E){if(!E)return!1;const g=E.toString().toUpperCase();return m(s,g)||m(n,g)||m(o,g)}},81167:(ve,ne,x)=>{"use strict";x.r(ne),x.d(ne,{medium:()=>A,small:()=>_});var Z=x(44349),e=x(44489);const _=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsxs)("svg",{viewBox:"0 0 16 16",ref:o,...s,children:[(0,e.jsx)("path",{d:"M5.25 6.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"}),(0,e.jsx)("path",{d:"M3.75 1a2.75 2.75 0 0 0-2.75 2.75v3.329c0 .74.299 1.45.829 1.967l5.233 5.11a2.75 2.75 0 0 0 3.866-.023l3.205-3.205a2.75 2.75 0 0 0 .023-3.866l-5.11-5.233a2.75 2.75 0 0 0-1.967-.829zm-1.25 2.75c0-.69.56-1.25 1.25-1.25h3.329c.336 0 .659.136.894.377l5.11 5.233a1.25 1.25 0 0 1-.01 1.757l-3.206 3.205a1.25 1.25 0 0 1-1.757.01l-5.233-5.109a1.25 1.25 0 0 1-.377-.894z"})]})}),{__al_size:"small"}),A=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsxs)("svg",{viewBox:"0 0 24 24",ref:o,...s,children:[(0,e.jsx)("path",{d:"M7.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"}),(0,e.jsx)("path",{d:"M6 2a4 4 0 0 0-4 4v4.757a4 4 0 0 0 1.172 2.829l7 7a4 4 0 0 0 5.656 0l4.758-4.758a4 4 0 0 0 0-5.656l-7-7a4 4 0 0 0-2.829-1.172zm-2 4a2 2 0 0 1 2-2h4.757a2 2 0 0 1 1.415.586l7 7a2 2 0 0 1 0 2.828l-4.758 4.758a2 2 0 0 1-2.828 0l-7-7a2 2 0 0 1-.586-1.415z"})]})}),{__al_size:"medium"})},84894:(ve,ne,x)=>{var Z=x(30296);function e(_,A){return Z(_,A)}ve.exports=e},88892:(ve,ne,x)=>{"use strict";x.r(ne),x.d(ne,{medium:()=>A,small:()=>_});var Z=x(44349),e=x(44489);const _=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsxs)("svg",{viewBox:"0 0 16 16",ref:o,...s,children:[(0,e.jsx)("path",{d:"M7.75 5a.75.75 0 0 0-1.5 0v1.25h-1.25a.75.75 0 0 0 0 1.5h1.25v1.25a.75.75 0 0 0 1.5 0v-1.25h1.25a.75.75 0 0 0 0-1.5h-1.25z"}),(0,e.jsx)("path",{d:"M1 7c0-3.313 2.682-6 5.993-6a5.997 5.997 0 0 1 5.993 6 5.98 5.98 0 0 1-1.253 3.672l2.047 2.048a.75.75 0 1 1-1.06 1.06l-2.046-2.045a5.96 5.96 0 0 1-3.681 1.265 5.996 5.996 0 0 1-5.993-6m5.993-4.5a4.496 4.496 0 0 0-4.493 4.5c0 2.486 2.013 4.5 4.493 4.5a4.497 4.497 0 0 0 4.493-4.5c0-2.486-2.013-4.5-4.493-4.5"})]})}),{__al_size:"small"}),A=Object.assign((0,Z.forwardRef)(function(s,o){return(0,e.jsxs)("svg",{viewBox:"0 0 24 24",ref:o,...s,children:[(0,e.jsx)("path",{d:"M12 8a1 1 0 1 0-2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2z"}),(0,e.jsx)("path",{d:"M2 11a9 9 0 1 1 16.032 5.618l2.675 2.675a1 1 0 0 1-1.414 1.414l-2.675-2.675a9 9 0 0 1-14.618-7.032m9-7a7 7 0 1 0 0 14 7 7 0 0 0 0-14"})]})}),{__al_size:"medium"})},89104:(ve,ne,x)=>{"use strict";var Z=x(53192),e=x(79582),_=x(65875),A=x(60107),n=Array;Z({target:"Array",proto:!0},{toReversed:function(){return e(_(this),n)}}),A("toReversed")},91540:(ve,ne)=>{var x;ne.TF=s;for(var Z=[{base:" ",chars:"\xA0"},{base:"0",chars:"\u07C0"},{base:"A",chars:"\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",chars:"\uA732"},{base:"AE",chars:"\xC6\u01FC\u01E2"},{base:"AO",chars:"\uA734"},{base:"AU",chars:"\uA736"},{base:"AV",chars:"\uA738\uA73A"},{base:"AY",chars:"\uA73C"},{base:"B",chars:"\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0181"},{base:"C",chars:"\u24B8\uFF23\uA73E\u1E08\u0106C\u0108\u010A\u010C\xC7\u0187\u023B"},{base:"D",chars:"\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018A\u0189\u1D05\uA779"},{base:"Dh",chars:"\xD0"},{base:"DZ",chars:"\u01F1\u01C4"},{base:"Dz",chars:"\u01F2\u01C5"},{base:"E",chars:"\u025B\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E\u1D07"},{base:"F",chars:"\uA77C\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",chars:"\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E\u0262"},{base:"H",chars:"\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",chars:"\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",chars:"\u24BF\uFF2A\u0134\u0248\u0237"},{base:"K",chars:"\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",chars:"\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",chars:"\u01C7"},{base:"Lj",chars:"\u01C8"},{base:"M",chars:"\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C\u03FB"},{base:"N",chars:"\uA7A4\u0220\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u019D\uA790\u1D0E"},{base:"NJ",chars:"\u01CA"},{base:"Nj",chars:"\u01CB"},{base:"O",chars:"\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01A2"},{base:"OO",chars:"\uA74E"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",chars:"\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",chars:"\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",chars:"\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",chars:"\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"Th",chars:"\xDE"},{base:"TZ",chars:"\uA728"},{base:"U",chars:"\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",chars:"\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",chars:"\uA760"},{base:"W",chars:"\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",chars:"\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",chars:"\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",chars:"\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",chars:"\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250\u0251"},{base:"aa",chars:"\uA733"},{base:"ae",chars:"\xE6\u01FD\u01E3"},{base:"ao",chars:"\uA735"},{base:"au",chars:"\uA737"},{base:"av",chars:"\uA739\uA73B"},{base:"ay",chars:"\uA73D"},{base:"b",chars:"\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uFF43\u24D2\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",chars:"\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\u018B\u13E7\u0501\uA7AA"},{base:"dh",chars:"\xF0"},{base:"dz",chars:"\u01F3\u01C6"},{base:"e",chars:"\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u01DD"},{base:"f",chars:"\u24D5\uFF46\u1E1F\u0192"},{base:"ff",chars:"\uFB00"},{base:"fi",chars:"\uFB01"},{base:"fl",chars:"\uFB02"},{base:"ffi",chars:"\uFB03"},{base:"ffl",chars:"\uFB04"},{base:"g",chars:"\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\uA77F\u1D79"},{base:"h",chars:"\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",chars:"\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",chars:"\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",chars:"\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747\u026D"},{base:"lj",chars:"\u01C9"},{base:"m",chars:"\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",chars:"\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u043B\u0509"},{base:"nj",chars:"\u01CC"},{base:"o",chars:"\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\uA74B\uA74D\u0275\u0254\u1D11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01A3"},{base:"oo",chars:"\uA74F"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755\u03C1"},{base:"q",chars:"\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",chars:"\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",chars:"\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u0282"},{base:"ss",chars:"\xDF"},{base:"t",chars:"\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"th",chars:"\xFE"},{base:"tz",chars:"\uA729"},{base:"u",chars:"\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",chars:"\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",chars:"\uA761"},{base:"w",chars:"\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",chars:"\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",chars:"\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",chars:"\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],e={},_=0;_<Z.length;_+=1)for(var A=Z[_].chars,n=0;n<A.length;n+=1)e[A[n]]=Z[_].base;function s(o){return o.replace(/[^\u0000-\u007e]/g,function(c){return e[c]||c})}x=Z,x=e},93379:(ve,ne,x)=>{"use strict";x.d(ne,{K:()=>n});let Z=new Map,e=!1;try{e=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let _=!1;try{_=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const A={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}};class n{format(i){let m="";if(!e&&this.options.signDisplay!=null?m=o(this.numberFormatter,this.options.signDisplay,i):m=this.numberFormatter.format(i),this.options.style==="unit"&&!_){var h;let{unit:p,unitDisplay:f="short",locale:T}=this.resolvedOptions();if(!p)return m;let O=(h=A[p])===null||h===void 0?void 0:h[f];m+=O[T]||O.default}return m}formatToParts(i){return this.numberFormatter.formatToParts(i)}formatRange(i,m){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(i,m);if(m<i)throw new RangeError("End date must be >= start date");return`${this.format(i)} \u2013 ${this.format(m)}`}formatRangeToParts(i,m){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(i,m);if(m<i)throw new RangeError("End date must be >= start date");let h=this.numberFormatter.formatToParts(i),p=this.numberFormatter.formatToParts(m);return[...h.map(f=>({...f,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...p.map(f=>({...f,source:"endRange"}))]}resolvedOptions(){let i=this.numberFormatter.resolvedOptions();return!e&&this.options.signDisplay!=null&&(i={...i,signDisplay:this.options.signDisplay}),!_&&this.options.style==="unit"&&(i={...i,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),i}constructor(i,m={}){this.numberFormatter=s(i,m),this.options=m}}function s(c,i={}){let{numberingSystem:m}=i;if(m&&c.includes("-nu-")&&(c.includes("-u-")||(c+="-u-"),c+=`-nu-${m}`),i.style==="unit"&&!_){var h;let{unit:T,unitDisplay:O="short"}=i;if(!T)throw new Error('unit option must be provided with style: "unit"');if(!(!((h=A[T])===null||h===void 0)&&h[O]))throw new Error(`Unsupported unit ${T} with unitDisplay = ${O}`);i={...i,style:"decimal"}}let p=c+(i?Object.entries(i).sort((T,O)=>T[0]<O[0]?-1:1).join():"");if(Z.has(p))return Z.get(p);let f=new Intl.NumberFormat(c,i);return Z.set(p,f),f}function o(c,i,m){if(i==="auto")return c.format(m);if(i==="never")return c.format(Math.abs(m));{let h=!1;if(i==="always"?h=m>0||Object.is(m,0):i==="exceptZero"&&(Object.is(m,-0)||Object.is(m,0)?m=Math.abs(m):h=m>0),h){let p=c.format(-m),f=c.format(m),T=p.replace(f,"").replace(/\u200e|\u061C/,"");return[...T].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),p.replace(f,"!!!").replace(T,"+").replace("!!!",f)}else return c.format(m)}}},99042:(ve,ne,x)=>{"use strict";x.d(ne,{I:()=>A});var Z=x(44349),e=x(47227),_=x(54776);function A(){!_.r.current&&(0,e.U)();const[n]=(0,Z.useState)(_.O.current);return n}}}]);

//# sourceMappingURL=https://sourcemaps.internal.wolt.com/wolt-com/4559-4ae41a898a4ba1f0251a.js.map